<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<![endif]-->
<title>VIM 中文帮助: 内建函数</title>
<link rel="stylesheet" href="vim-stylesheet.css" type="text/css" />
<link rel="canonical" href="https://yianwillis.github.io/vimcdoc/doc/builtin.html" />
<script type="text/javascript" src="vimcdoc.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body>
<nav id=banner>
<form action=tags.html target="tag_iframe">
  <input type="text" name="tag" id="tag" placeholder="标签搜索">
</form>
<iframe name="tag_iframe" src=""></iframe>
<a href="help.html">帮助总览</a> &middot;
<hr/>
<a href="quickref.html">快速参考</a> &middot;
<a href="index.html">命令索引</a> &middot;
<a href="eval.html#functions">函数列表</a> &middot;
<a href="quickref.html#option-list">选项列表</a> &middot;
<hr/>
<a href="usr_toc.html">用户手册</a> &middot;
<a href="help.html#reference_toc">参考手册</a> &middot;
</nav>

<header>
<h2>builtin</h2>
</header>
<article id=outer>
<section class=inner>
<b class="vimtag"> <a name="builtin.txt">builtin.txt</a> </b>      适用于 Vim 9.1 版本。  最近更新: 2025年11月

                  <code class="vim">VIM 参考手册    by Bram Moolenaar</code>
                                <code class="vim">译者</code>: Willis


内建函数                                        <b class="vimtag"> <a name="builtin-functions">builtin-functions</a> </b>

<code class="note">注意</code>: 编译时如果关闭了表达式求值。内建函数也将不可用。见  <a href="various.html#+eval">+eval</a>  和
 <a href="eval.html#no-eval-feature">no-eval-feature</a> 。

按用途分类的函数列表，可见  <a href="usr_41.html#function-list">function-list</a> 。

1. 概览                                  <a href="builtin.html#builtin-function-list">builtin-function-list</a> 
2. 详述                                  <a href="builtin.html#builtin-function-details">builtin-function-details</a> 
3. 特性列表                              <a href="builtin.html#feature-list">feature-list</a> 
4. 字符串里的模式匹配                    <a href="builtin.html#string-match">string-match</a> 

</section><hr class="doubleline" /><section class=inner>
<h4>1. 概览                                         <b class="vimtag"> <a name="builtin-function-list">builtin-function-list</a> </b></h4>
在函数名上使用 <code class="keystroke">CTRL-]</code> 跳转到完整的功能说明。

<code class="section">用法                            结果    描述    </code>

abs(<code class="special">{expr}</code>)                     浮点或数值  <code class="special">{expr}</code> 的绝对值
acos(<code class="special">{expr}</code>)                    浮点    <code class="special">{expr}</code> 的反余弦值
add(<code class="special">{object}</code>, <code class="special">{item}</code>)           列表或 blob   在 <code class="special">{object}</code> 最后附加 <code class="special">{item}</code>
and(<code class="special">{expr}</code>, <code class="special">{expr}</code>)             数值    按位与
append(<code class="special">{lnum}</code>, <code class="special">{text}</code>)          数值    在第 <code class="special">{lnum}</code> 行下附加 <code class="special">{text}</code>
appendbufline(<code class="special">{buf}</code>, <code class="special">{lnum}</code>, <code class="special">{text}</code>)
                                数值    在缓冲区 <code class="special">{buf}</code> 第 <code class="special">{lnum}</code> 行下附加
                                        <code class="special">{text}</code>
argc([<code class="special">{winid}</code>])                 数值    参数列表的文件数目
argidx()                        数值    参数列表的当前索引
arglistid([<code class="special">{winnr}</code> [, <code class="special">{tabnr}</code>]]) 数值   参数列表的 id
argv(<code class="special">{nr}</code> [, <code class="special">{winid}</code>])          字符串  参数列表第 <code class="special">{nr}</code> 个参数
asin(<code class="special">{expr}</code>)                    浮点    <code class="special">{expr}</code> 的反正弦值
argv([-1, <code class="special">{winid}</code>])             列表    参数列表
assert_beeps(<code class="special">{cmd}</code>)             数值    断言 <code class="special">{cmd}</code> 产生铃声
assert_equal(<code class="special">{exp}</code>, <code class="special">{act}</code> [, <code class="special">{msg}</code>])
                                数值    断言 <code class="special">{exp}</code> 等于 <code class="special">{act}</code>
assert_equalfile(<code class="special">{fname-one}</code>, <code class="special">{fname-two}</code> [, <code class="special">{msg}</code>])
                                数值    断言文件内容相同
assert_exception(<code class="special">{error}</code> [, <code class="special">{msg}</code>])
                                数值    断言 v:exception 中有 <code class="special">{error}</code>
assert_fails(<code class="special">{cmd}</code> [, <code class="special">{error}</code> [, <code class="special">{msg}</code> [, <code class="special">{lnum}</code> [, <code class="special">{context}</code>]]]])
                                数值    断言 <code class="special">{cmd}</code> 失败
assert_false(<code class="special">{actual}</code> [, <code class="special">{msg}</code>])
                                数值    断言 <code class="special">{actual}</code> 为假
assert_inrange(<code class="special">{lower}</code>, <code class="special">{upper}</code>, <code class="special">{actual}</code> [, <code class="special">{msg}</code>])
                                数值    断言 <code class="special">{actual}</code> 在指定范围内
assert_match(<code class="special">{pat}</code>, <code class="special">{text}</code> [, <code class="special">{msg}</code>])
                                数值    断言 <code class="special">{pat}</code> 匹配 <code class="special">{text}</code>
assert_nobeep(<code class="special">{cmd}</code>)            数值    断言 <code class="special">{cmd}</code> 不导致响铃
assert_notequal(<code class="special">{exp}</code>, <code class="special">{act}</code> [, <code class="special">{msg}</code>])
                                数值    断言 <code class="special">{exp}</code> 不等于 <code class="special">{act}</code>
assert_notmatch(<code class="special">{pat}</code>, <code class="special">{text}</code> [, <code class="special">{msg}</code>])
                                数值    断言 <code class="special">{pat}</code> 不匹配 <code class="special">{text}</code>
assert_report(<code class="special">{msg}</code>)            数值    报告一个测试失败
assert_true(<code class="special">{actual}</code> [, <code class="special">{msg}</code>]) 数值    断言 <code class="special">{actual}</code> 为真
atan(<code class="special">{expr}</code>)                    浮点    <code class="special">{expr}</code> 的反正切值
atan2(<code class="special">{expr1}</code>, <code class="special">{expr2}</code>)         浮点    <code class="special">{expr1}</code> / <code class="special">{expr2}</code> 的反正切值
autocmd_add(<code class="special">{acmds}</code>)            布尔型  新增一组自动命令及组
autocmd_delete(<code class="special">{acmds}</code>)         布尔型  删除一组自动命令及组
autocmd_get([<code class="special">{opts}</code>])           列表    返回自动命令的列表
balloon_gettext()               字符串  气泡的当前文本
balloon_show(<code class="special">{expr}</code>)            无      在气泡内显示<code class="special">{expr}</code>
balloon_split(<code class="special">{msg}</code>)            列表    分割用于的 <code class="special">{msg}</code>
base64_decode(<code class="special">{string}</code>)         blob    base64 解码 <code class="special">{string}</code> 里的字符
base64_encode(<code class="special">{blob}</code>)           字符串  base64 编码 <code class="special">{blob}</code> 里的字节
bindtextdomain(<code class="special">{package}</code>, <code class="special">{path}</code>)
                                布尔型  绑定文本域到特定路径
blob2list(<code class="special">{blob}</code>)               列表    把 <code class="special">{blob}</code> 转换为数值列表
blob2str(<code class="special">{blob}</code> [, <code class="special">{options}</code>])  列表    把 <code class="special">{blob}</code> 转换为字符串列表
browse(<code class="special">{save}</code>, <code class="special">{title}</code>, <code class="special">{initdir}</code>, <code class="special">{default}</code>)
                                字符串  启动文件请求窗口
browsedir(<code class="special">{title}</code>, <code class="special">{initdir}</code>)   字符串  启动目录请求窗口
bufadd(<code class="special">{name}</code>)                  数值    在缓冲区列表里加入缓冲区
bufexists(<code class="special">{buf}</code>)                数值    如果缓冲区 <code class="special">{buf}</code> 存在则为  <a href="eval.html#TRUE">TRUE</a> 
buflisted(<code class="special">{buf}</code>)                数值    如果缓冲区 <code class="special">{buf}</code> 在列表内则为  <a href="eval.html#TRUE">TRUE</a> 
bufload(<code class="special">{buf}</code>)                  数值    如果还未载入，载入缓冲区 <code class="special">{buf}</code>
bufloaded(<code class="special">{buf}</code>)                数值    如果缓冲区 <code class="special">{buf}</code> 被载入则为  <a href="eval.html#TRUE">TRUE</a> 
bufname([<code class="special">{buf}</code>])                字符串  缓冲区 <code class="special">{buf}</code> 的名字
bufnr([<code class="special">{buf}</code> [, <code class="special">{create}</code>]])     数值    缓冲区 <code class="special">{buf}</code> 的编号
bufwinid(<code class="special">{buf}</code>)                 数值    缓冲区 <code class="special">{buf}</code> 的窗口 ID
bufwinnr(<code class="special">{buf}</code>)                 数值    缓冲区 <code class="special">{buf}</code> 的窗口号
byte2line(<code class="special">{byte}</code>)               数值    第 <code class="special">{byte}</code> 个字节所在的行号
byteidx(<code class="special">{expr}</code>, <code class="special">{nr}</code> [, <code class="special">{utf16}</code>])
                                数值    <code class="special">{expr}</code> 里第 <code class="special">{nr}</code> 个字符的字节位置
byteidxcomp(<code class="special">{expr}</code>, <code class="special">{nr}</code> [, <code class="special">{utf16}</code>])
                                数值    <code class="special">{expr}</code> 里第 <code class="special">{nr}</code> 个字符的字节位置
call(<code class="special">{func}</code>, <code class="special">{arglist}</code> [, <code class="special">{dict}</code>])
                                可变    调用函数 <code class="special">{func}</code>，使用参数 <code class="special">{arglist}</code>
ceil(<code class="special">{expr}</code>)                    浮点    <code class="special">{expr}</code> 向上取整
ch_canread(<code class="special">{handle}</code>)            数值    检查是否有可读的内容
ch_close(<code class="special">{handle}</code>)              无      关闭 <code class="special">{handle}</code>
ch_close_in(<code class="special">{handle}</code>)           无      关闭 <code class="special">{handle}</code> 的 in 部分
ch_evalexpr(<code class="special">{handle}</code>, <code class="special">{expr}</code> [, <code class="special">{options}</code>])
                                可变    在 JSON <code class="special">{handle}</code> 上执行 <code class="special">{expr}</code>
ch_evalraw(<code class="special">{handle}</code>, <code class="special">{string}</code> [, <code class="special">{options}</code>])
                                可变    在原始 <code class="special">{handle}</code> 上执行 <code class="special">{string}</code>
ch_getbufnr(<code class="special">{handle}</code>, <code class="special">{what}</code>)   数值    获得 <code class="special">{handle}</code>/<code class="special">{what}</code> 的缓冲区号
ch_getjob(<code class="special">{channel}</code>)            作业    获得 <code class="special">{channel}</code> 的相关作业
ch_info(<code class="special">{handle}</code>)               字符串  有关通道 <code class="special">{handle}</code> 的信息
ch_log(<code class="special">{msg}</code> [, <code class="special">{handle}</code>])      无      在通道日志文件中写入 <code class="special">{msg}</code>
ch_logfile(<code class="special">{fname}</code> [, <code class="special">{mode}</code>])  无      开始记录通道活动
ch_open(<code class="special">{address}</code> [, <code class="special">{options}</code>])
                                通道    打开到 <code class="special">{address}</code> 的通道
ch_read(<code class="special">{handle}</code> [, <code class="special">{options}</code>]) 字符串  从 <code class="special">{handle}</code> 读取
ch_readblob(<code class="special">{handle}</code> [, <code class="special">{options}</code>])
                                blob    从 <code class="special">{handle}</code> 读取 blob
ch_readraw(<code class="special">{handle}</code> [, <code class="special">{options}</code>])
                                字符串  从 <code class="special">{handle}</code> 读取原始格式
ch_sendexpr(<code class="special">{handle}</code>, <code class="special">{expr}</code> [, <code class="special">{options}</code>])
                                可变    在 JSON <code class="special">{handle}</code> 上发送 <code class="special">{expr}</code>
ch_sendraw(<code class="special">{handle}</code>, <code class="special">{expr}</code> [, <code class="special">{options}</code>])
                                可变    在原始 <code class="special">{handle}</code> 上发送 <code class="special">{expr}</code>
ch_setoptions(<code class="special">{handle}</code>, <code class="special">{options}</code>)
                                无      设置 <code class="special">{handle}</code> 的选项
ch_status(<code class="special">{handle}</code> [, <code class="special">{options}</code>])
                                字符串  通道 <code class="special">{handle}</code> 的状态
changenr()                      数值    当前改变号
char2nr(<code class="special">{expr}</code> [, <code class="special">{utf8}</code>])      数值    <code class="special">{expr}</code> 里第一个字符串的 ASCII/UTF-8 值
charclass(<code class="special">{string}</code>)             数值    <code class="special">{string}</code> 的字符类
charcol(<code class="special">{expr}</code> [, <code class="special">{winid}</code>])     数值    光标或位置标记的列号
charidx(<code class="special">{string}</code>, <code class="special">{idx}</code> [, <code class="special">{countcc}</code> [, <code class="special">{utf16}</code>]])
                                数值    <code class="special">{string}</code> 中字节 <code class="special">{idx}</code> 对应的字符索引
chdir(<code class="special">{dir}</code>)                    数值    改变当前目录
cindent(<code class="special">{lnum}</code>)                 数值    第 <code class="special">{lnum}</code> 行的 C 缩进
clearmatches([<code class="special">{win}</code>])           无      清除所有的匹配
cmdcomplete_info()              字典    获得当前命令行补全信息
col(<code class="special">{expr}</code> [, <code class="special">{winid}</code>])         数值    光标或位置标记的列字节索引
complete(<code class="special">{startcol}</code>, <code class="special">{matches}</code>) 无      设置插入模式补全
complete_add(<code class="special">{expr}</code>)            数值    增加补全匹配
complete_check()                数值    补全时检查输入的键
complete_info([<code class="special">{what}</code>])         字典    获得当前补全信息
complete_match([<code class="special">{lnum}</code>, <code class="special">{col}</code>]) 列表    获得补全列和触发文本
confirm(<code class="special">{msg}</code> [, <code class="special">{choices}</code> [, <code class="special">{default}</code> [, <code class="special">{type}</code>]]])
                                数值    用户选择的序号
copy(<code class="special">{expr}</code>)                    可变    提供 <code class="special">{expr}</code> 的浅备份
cos(<code class="special">{expr}</code>)                     浮点    <code class="special">{expr}</code> 的余弦值
cosh(<code class="special">{expr}</code>)                    浮点    <code class="special">{expr}</code> 的双曲余弦值
count(<code class="special">{comp}</code>, <code class="special">{expr}</code> [, <code class="special">{ic}</code> [, <code class="special">{start}</code>]])
                                数值    计算 <code class="special">{comp}</code> 里有多少个 <code class="special">{expr}</code>
cscope_connection([<code class="special">{num}</code> , <code class="special">{dbpath}</code> [, <code class="special">{prepend}</code>]])
                                数值    检查 cscope 连接是否存在
cursor(<code class="special">{lnum}</code>, <code class="special">{col}</code> [, <code class="special">{off}</code>])
                                数值    移动光标到 <code class="special">{lnum}</code>，<code class="special">{col}</code>，<code class="special">{off}</code>
debugbreak(<code class="special">{pid}</code>)               数值    中断待调试的进程
cursor(<code class="special">{list}</code>)                  数值    移动光标到 <code class="special">{list}</code> 里的位置
deepcopy(<code class="special">{expr}</code> [, <code class="special">{noref}</code>])    可变    提供 <code class="special">{expr}</code> 的完整备份
delete(<code class="special">{fname}</code> [, <code class="special">{flags}</code>])     数值    删除文件或目录 <code class="special">{fname}</code>
deletebufline(<code class="special">{buf}</code>, <code class="special">{first}</code> [, <code class="special">{last}</code>])
                                数值    删除缓冲区 <code class="special">{buf}</code> 的多行
did_filetype()                  数值    用过 FileType 自动命令事件则为  <a href="eval.html#TRUE">TRUE</a> 
diff(<code class="special">{fromlist}</code>, <code class="special">{tolist}</code> [, <code class="special">{options}</code>])
                                列表    比较两个字符串列表
diff_filler(<code class="special">{lnum}</code>)             数值    <code class="special">{lnum}</code> 行之上的 diff 填充行数
diff_hlID(<code class="special">{lnum}</code>, <code class="special">{col}</code>)        数值    <code class="special">{lnum}</code>/<code class="special">{col}</code> 位置的 diff 高亮
digraph_get(<code class="special">{chars}</code>)            字符串  得到 <code class="special">{chars}</code> 的  <a href="digraph.html#digraph">digraph</a> 
digraph_getlist([<code class="special">{listall}</code>])    列表    得到所有的  <a href="digraph.html#digraph">digraph</a> 
digraph_set(<code class="special">{chars}</code>, <code class="special">{digraph}</code>) 布尔型  注册  <a href="digraph.html#digraph">digraph</a> 
digraph_setlist(<code class="special">{digraphlist}</code>)  布尔型  注册多个  <a href="digraph.html#digraph">digraph</a> 
echoraw(<code class="special">{expr}</code>)                 无      照原样输出 <code class="special">{expr}</code>
empty(<code class="special">{expr}</code>)                   数值    如果 <code class="special">{expr}</code> 为空则为  <a href="eval.html#TRUE">TRUE</a> 
environ()                       字典    返回所有环境变量
err_teapot([<code class="special">{expr}</code>])            无      <code class="special">{expr}</code> 为  <a href="eval.html#TRUE">TRUE</a>  时给出 E418 或 E503
escape(<code class="special">{string}</code>, <code class="special">{chars}</code>)       字符串  在 <code class="special">{string}</code> 里用 '\' 转义 <code class="special">{chars}</code>
eval(<code class="special">{string}</code>)                  可变    计算 <code class="special">{string}</code>，返回结果
eventhandler()                  数值    如果在事件处理中则为  <a href="eval.html#TRUE">TRUE</a> 
executable(<code class="special">{expr}</code>)              数值    如果可执行文件 <code class="special">{expr}</code> 存在则为 1
execute(<code class="special">{command}</code>)              字符串  执行 <code class="special">{command}</code> 并取得输出结果
exepath(<code class="special">{expr}</code>)                 字符串  命令 <code class="special">{expr}</code> 的完整路径
exists(<code class="special">{expr}</code>)                  数值    如果 <code class="special">{expr}</code> 存在则为  <a href="eval.html#TRUE">TRUE</a> 
exists_compiled(<code class="special">{expr}</code>)         数值    如果 <code class="special">{expr}</code> 编译时存在则为  <a href="eval.html#TRUE">TRUE</a> 
exp(<code class="special">{expr}</code>)                     浮点    <code class="special">{expr}</code> 的指数函数值
                                        (<code class="vim">译者注</code>: 以 e 为底)
expand(<code class="special">{expr}</code> [, <code class="special">{nosuf}</code> [, <code class="special">{list}</code>]])
                                可变    扩展 <code class="special">{expr}</code> 里的特殊关键字
expandcmd(<code class="special">{string}</code> [, <code class="special">{options}</code>])
                                字符串  像  <a href="editing.html#:edit">:edit</a>  那样扩展 <code class="special">{string}</code>
extend(<code class="special">{expr1}</code>, <code class="special">{expr2}</code> [, <code class="special">{expr3}</code>])
                                列表/字典 把 <code class="special">{expr2}</code> 里的项目插入 <code class="special">{expr1}</code>
extendnew(<code class="special">{expr1}</code>, <code class="special">{expr2}</code> [, <code class="special">{expr3}</code>])
                                列表/字典 和  <a href="builtin.html#extend()">extend()</a>  类似，但建立新列表或字
                                        典
feedkeys(<code class="special">{string}</code> [, <code class="special">{mode}</code>])   数值    给预输入缓冲区加入键序列
filecopy(<code class="special">{from}</code>, <code class="special">{to}</code>)          数值    如果复制 <code class="special">{from}</code> 文件到 <code class="special">{to}</code> 成功则为
                                         <a href="eval.html#TRUE">TRUE</a> 
filereadable(<code class="special">{file}</code>)            数值    如果 <code class="special">{file}</code> 是个可读文件则为  <a href="eval.html#TRUE">TRUE</a> 
filewritable(<code class="special">{file}</code>)            数值    如果 <code class="special">{file}</code> 是个可写文件则为  <a href="eval.html#TRUE">TRUE</a> 
filter(<code class="special">{expr1}</code>, <code class="special">{expr2}</code>)        列表/字典/blob/字符串
                                        删除 <code class="special">{expr1}</code> 里 <code class="special">{expr2}</code> 为 0 的项目
finddir(<code class="special">{name}</code> [, <code class="special">{path}</code> [, <code class="special">{count}</code>]])
                                字符串  在 <code class="special">{path}</code> 里寻找目录 <code class="special">{name}</code>
findfile(<code class="special">{name}</code> [, <code class="special">{path}</code> [, <code class="special">{count}</code>]])
                                字符串/列表 在 <code class="special">{path}</code> 里寻找文件 <code class="special">{name}</code>
flatten(<code class="special">{list}</code> [, <code class="special">{maxdepth}</code>])  列表    展平 <code class="special">{list}</code>，最多到 <code class="special">{maxdepth}</code> 层
flattennew(<code class="special">{list}</code> [, <code class="special">{maxdepth}</code>])
                                列表    展平 <code class="special">{list}</code> 的一个备份
float2nr(<code class="special">{expr}</code>)                数值    转换浮点数 <code class="special">{expr}</code> 为数值
floor(<code class="special">{expr}</code>)                   浮点    <code class="special">{expr}</code> 向下取整
fmod(<code class="special">{expr1}</code>, <code class="special">{expr2}</code>)          浮点    <code class="special">{expr1}</code> / <code class="special">{expr2}</code> 的浮点余数
fnameescape(<code class="special">{fname}</code>)            字符串  转义 <code class="special">{fname}</code> 中的特殊字符
fnamemodify(<code class="special">{fname}</code>, <code class="special">{mods}</code>)    字符串  修改文件名
foldclosed(<code class="special">{lnum}</code>)              数值    <code class="special">{lnum}</code> 所在折叠的首行，如果是关闭的话
foldclosedend(<code class="special">{lnum}</code>)           数值    <code class="special">{lnum}</code> 所在折叠的末行，如果是关闭的话
foldlevel(<code class="special">{lnum}</code>)               数值    <code class="special">{lnum}</code> 的折叠级别
foldtext()                      字符串  关闭的折叠显示的行
foldtextresult(<code class="special">{lnum}</code>)          字符串  <code class="special">{lnum}</code> 所在的关闭的折叠的文本
foreach(<code class="special">{expr1}</code>, <code class="special">{expr2}</code>)       列表/元组/字典/blob/字符串
                                        对 <code class="special">{expr1}</code> 里的每个项目，调用 <code class="special">{expr2}</code>
foreground()                    数值    把 Vim 窗口带到前台
fullcommand(<code class="special">{name}</code> [, <code class="special">{vim9}</code>])  字符串  得到 <code class="special">{name}</code> 的完整命令
funcref(<code class="special">{name}</code> [, <code class="special">{arglist}</code>] [, <code class="special">{dict}</code>])
                                函数引用  函数 <code class="special">{name}</code> 的引用
function(<code class="special">{name}</code> [, <code class="special">{arglist}</code>] [, <code class="special">{dict}</code>])
                                函数引用  函数 <code class="special">{name}</code> 的命名引用
garbagecollect([<code class="special">{atexit}</code>])      无      释放内存，打破循环引用
get(<code class="special">{list}</code>, <code class="special">{idx}</code> [, <code class="special">{def}</code>])    可变    得到 <code class="special">{list}</code> 或 <code class="special">{def}</code> 的项目 <code class="special">{idx}</code>
get(<code class="special">{dict}</code>, <code class="special">{key}</code> [, <code class="special">{def}</code>])    可变    得到 <code class="special">{dict}</code> 或 <code class="special">{def}</code> 的项目 <code class="special">{idx}</code>
get(<code class="special">{func}</code>, <code class="special">{what}</code>)             可变    得到函数引用/偏函数 <code class="special">{func}</code> 的属性
getbufinfo([<code class="special">{buf}</code>])             列表    缓冲区信息
getbufline(<code class="special">{buf}</code>, <code class="special">{lnum}</code> [, <code class="special">{end}</code>])
                                列表    缓冲区 <code class="special">{buf}</code> 第 <code class="special">{lnum}</code> 到 <code class="special">{end}</code> 行
getbufoneline(<code class="special">{buf}</code>, <code class="special">{lnum}</code>)    字符串  缓冲区 <code class="special">{buf}</code> 的第 <code class="special">{lnum}</code> 行
getbufvar(<code class="special">{buf}</code>, <code class="special">{varname}</code> [, <code class="special">{def}</code>])
                                可变    缓冲区 <code class="special">{buf}</code> 的变量 <code class="special">{varname}</code>
getcellpixels()                 列表    得到字符单元的像素尺寸
getcellwidths()                 列表    得到字符单元的宽度覆盖
getchangelist([<code class="special">{buf}</code>])          列表    改变列表项目的列表
getchar([<code class="special">{expr}</code> [, <code class="special">{opts}</code>]])    数值或字符串
                                        让用户输入一个字符
getcharmod()                    数值    最近输入字符的修饰符
getcharpos(<code class="special">{expr}</code>)              列表    光标、位置标记等的位置
getcharsearch()                 字典    最近字符搜索选项
getcharstr([<code class="special">{expr}</code> [, <code class="special">{opts}</code>]]) 字符串  从用户处得到一个字符
getcmdcomplpat()                字符串  返回当前命令行补全的补全模式
getcmdcompltype()               字符串  返回当前命令行补全的类型
getcmdline()                    字符串  返回当前命令行输入
getcmdpos()                     数值    返回命令行的光标位置
getcmdprompt()                  字符串  返回当前命令行提示
getcmdscreenpos()               数值    返回命令行的光标屏幕位置
getcmdtype()                    字符串  返回当前命令行类型
getcmdwintype()                 字符串  返回当前命令行窗口类型
getcompletion(<code class="special">{pat}</code>, <code class="special">{type}</code> [, <code class="special">{filtered}</code>])
                                列表    命令行补全匹配列表
getcompletiontype(<code class="special">{pat}</code>)        字符串  返回用 <code class="special">{pat}</code> 时命令行补全的类型
getcurpos([<code class="special">{winnr}</code>])            列表    光标位置
getcursorcharpos([<code class="special">{winnr}</code>])     列表    光标的字符位置
getcwd([<code class="special">{winnr}</code> [, <code class="special">{tabnr}</code>]])   字符串  当前工作目录
getenv(<code class="special">{name}</code>)                  字符串  返回环境变量
getfontname([<code class="special">{name}</code>])           字符串  使用的字体名
getfperm(<code class="special">{fname}</code>)               字符串  文件 <code class="special">{fname}</code> 的文件权限
getfsize(<code class="special">{fname}</code>)               数值    字节计算的文件 <code class="special">{fname}</code> 大小
getftime(<code class="special">{fname}</code>)               数值    文件的最新修改时间
getftype(<code class="special">{fname}</code>)               字符串  文件 <code class="special">{fname}</code> 类型的描述
getimstatus()                   数值    如果 IME 处于激活状态则为  <a href="eval.html#TRUE">TRUE</a> 
getjumplist([<code class="special">{winnr}</code> [, <code class="special">{tabnr}</code>]])
                                列表    跳转列表项目的列表
getline(<code class="special">{lnum}</code>)                 字符串  当前缓冲区的第 <code class="special">{lnum}</code> 行
getline(<code class="special">{lnum}</code>, <code class="special">{end}</code>)          列表    当前缓冲区第 <code class="special">{lnum}</code> 到 <code class="special">{end}</code> 行
getloclist(<code class="special">{nr}</code>)                列表    位置列表项目的列表
getloclist(<code class="special">{nr}</code>, <code class="special">{what}</code>)        字典    获取指定的位置列表项目
getmarklist([<code class="special">{buf}</code>])            列表    全局/局部位置标记的列表
getmatches([<code class="special">{win}</code>])             列表    当前匹配的列表
getmousepos()                   字典    最近已知的鼠标位置
getmouseshape()                 字符串  当前鼠标外型名
getpid()                        数值    Vim 的进程号
getpos(<code class="special">{expr}</code>)                  列表    光标、位置标记等的位置
getqflist()                     列表    快速修复项目的列表
getqflist([<code class="special">{what}</code>])             字典    获取指定快速修复列表的项目
getreg([<code class="special">{regname}</code> [, 1 [, <code class="special">{list}</code>]]])
                                字符串/列表     某寄存器内容
getreginfo([<code class="special">{regname}</code>])         字典    关于某寄存器的信息
getregion(<code class="special">{pos1}</code>, <code class="special">{pos2}</code> [, <code class="special">{opts}</code>])
                                列表    获取从 <code class="special">{pos1}</code> 到 <code class="special">{pos2}</code> 的文本
getregionpos(<code class="special">{pos1}</code>, <code class="special">{pos2}</code> [, <code class="special">{opts}</code>])
                                列表    获取指定区域的位置列表
getregtype([<code class="special">{regname}</code>])         字符串  某寄存器的类型
getscriptinfo([<code class="special">{opts}</code>])         列表    已执行脚本的列表
getstacktrace()                 列表    获取 Vim 脚本的当前栈追踪
gettabinfo([<code class="special">{expr}</code>])            列表    标签页列表
gettabvar(<code class="special">{nr}</code>, <code class="special">{varname}</code> [, <code class="special">{def}</code>])
                                可变    <code class="special">{tabnr}</code> 标签页的 <code class="special">{varname}</code> 变量
gettabwinvar(<code class="special">{tabnr}</code>, <code class="special">{winnr}</code>, <code class="special">{name}</code> [, <code class="special">{def}</code>])
                                可变    <code class="special">{tabnr}</code> 标签页 <code class="special">{winnr}</code> 窗口的 <code class="special">{name}</code>
gettagstack([<code class="special">{nr}</code>])             字典    获取窗口 <code class="special">{nr}</code> 的标签栈
gettext(<code class="special">{text}</code> [, <code class="special">{package}</code>])   字符串  查找 <code class="special">{text}</code> 的翻译
getwininfo([<code class="special">{winid}</code>])           列表    每个窗口信息的列表
getwinpos([<code class="special">{timeout}</code>])          列表    Vim 窗口以像素计的 X 和 Y 坐标
getwinposx()                    数值    Vim 窗口以像素计的 X 坐标
getwinposy()                    数值    Vim 窗口以像素计的 Y 坐标
getwinvar(<code class="special">{nr}</code>, <code class="special">{varname}</code> [, <code class="special">{def}</code>])
                                可变    窗口 <code class="special">{expr}</code> 的变量 <code class="special">{varname}</code>
glob(<code class="special">{expr}</code> [, <code class="special">{nosuf}</code> [, <code class="special">{list}</code> [, <code class="special">{alllinks}</code>]]])
                                可变    扩展 <code class="special">{expr}</code> 里的文件通配符
glob2regpat(<code class="special">{expr}</code>)             字符串  转化 glob 模式为搜索模式
globpath(<code class="special">{path}</code>, <code class="special">{expr}</code> [, <code class="special">{nosuf}</code> [, <code class="special">{list}</code> [, <code class="special">{alllinks}</code>]]])
                                字符串  在 <code class="special">{path}</code> 所有目录下执行 glob(<code class="special">{expr}</code>)
has(<code class="special">{feature}</code> [, <code class="special">{check}</code>])      数值    如果支持特性 <code class="special">{feature}</code> 则为  <a href="eval.html#TRUE">TRUE</a> 
has_key(<code class="special">{dict}</code>, <code class="special">{key}</code>)          数值    如果 <code class="special">{dict}</code> 有项目 <code class="special">{key}</code> 则为  <a href="eval.html#TRUE">TRUE</a> 
haslocaldir([<code class="special">{winnr}</code> [, <code class="special">{tabnr}</code>]])
                                数值    如果当前窗口执行过  <a href="editing.html#:lcd">:lcd</a>  则为  <a href="eval.html#TRUE">TRUE</a> 
hasmapto(<code class="special">{what}</code> [, <code class="special">{mode}</code> [, <code class="special">{abbr}</code>]])
                                数值    如果 <code class="special">{what}</code> 的映射存在则为  <a href="eval.html#TRUE">TRUE</a> 
histadd(<code class="special">{history}</code>,<code class="special">{item}</code>)       数值    在历史里增加项目
histdel(<code class="special">{history}</code> [, <code class="special">{item}</code>])   数值    从历史里删除项目
histget(<code class="special">{history}</code> [, <code class="special">{index}</code>])  字符串  得到历史的第 <code class="special">{index}</code> 项
histnr(<code class="special">{history}</code>)               数值    历史里最高的项目号
hlID(<code class="special">{name}</code>)                    数值    高亮组 <code class="special">{name}</code> 的语法 ID
hlexists(<code class="special">{name}</code>)                数值    如果高亮组 <code class="special">{name}</code> 存在则为  <a href="eval.html#TRUE">TRUE</a> 
hlget([<code class="special">{name}</code> [, <code class="special">{resolve}</code>]])   列表    得到高亮组属性
hlset(<code class="special">{list}</code>)                   数值    设置高亮组属性
hostname()                      字符串  Vim 运行的机器名字
iconv(<code class="special">{expr}</code>, <code class="special">{from}</code>, <code class="special">{to}</code>)     字符串  转换 <code class="special">{expr}</code> 的编码
id(<code class="special">{item}</code>)                      字符串  获取项目的唯一标识字符串
indent(<code class="special">{lnum}</code>)                  数值    第 <code class="special">{lnum}</code> 行的缩进
index(<code class="special">{object}</code>, <code class="special">{expr}</code> [, <code class="special">{start}</code> [, <code class="special">{ic}</code>]])
                                数值    <code class="special">{object}</code> 里出现 <code class="special">{expr}</code> 的项目的索引
indexof(<code class="special">{object}</code>, <code class="special">{expr}</code> [, <code class="special">{opts}</code>]])
                                数值    <code class="special">{object}</code> 里 <code class="special">{expr}</code> 为真的项目的索引
input(<code class="special">{prompt}</code> [, <code class="special">{text}</code> [, <code class="special">{completion}</code>]])
                                字符串  从用户得到输入
inputdialog(<code class="special">{prompt}</code> [, <code class="special">{text}</code> [, <code class="special">{cancelreturn}</code>]])
                                字符串  类似于 input()，但使用 GUI 对话框
inputlist(<code class="special">{textlist}</code>)           数值    让用户从选择列表里挑选
inputrestore()                  数值    恢复预输入
inputsave()                     数值    保存和清除预输入
inputsecret(<code class="special">{prompt}</code> [, <code class="special">{text}</code>]) 字符串  类似于 input()，但隐藏文本
insert(<code class="special">{object}</code>, <code class="special">{item}</code> [, <code class="special">{idx}</code>]) 列表 在 <code class="special">{object}</code> 里插入 <code class="special">{item}</code> [<code class="special">{idx}</code> 之前]
instanceof(<code class="special">{object}</code>, <code class="special">{class}</code>)   数值    如果 <code class="special">{object}</code> 是 <code class="special">{class}</code> 的实例则为
                                         <a href="eval.html#TRUE">TRUE</a> 
interrupt()                     无      中断脚本执行
invert(<code class="special">{expr}</code>)                  数值    按位取反
isabsolutepath(<code class="special">{path}</code>)          数值    如果 <code class="special">{directory}</code> 是绝对路径则为  <a href="eval.html#TRUE">TRUE</a> 
isdirectory(<code class="special">{directory}</code>)        数值    如果 <code class="special">{directory}</code> 是目录则为  <a href="eval.html#TRUE">TRUE</a> 
islocked(<code class="special">{expr}</code>)                数值    如果 <code class="special">{expr}</code> 被锁住则为  <a href="eval.html#TRUE">TRUE</a> 
isinf(<code class="special">{expr}</code>)                   数值    决定 <code class="special">{expr}</code> 是否为无限大 (正或负)
isnan(<code class="special">{expr}</code>)                   数值    如果 <code class="special">{expr}</code> 为 NaN 则为  <a href="eval.html#TRUE">TRUE</a> 
items(<code class="special">{expr}</code>)                   列表    <code class="special">{expr}</code> 里的键/索引-值组对
job_getchannel(<code class="special">{job}</code>)           通道    获取 <code class="special">{job}</code> 的通道句柄
job_info([<code class="special">{job}</code>])               字典    获取 <code class="special">{job}</code> 的信息
job_setoptions(<code class="special">{job}</code>, <code class="special">{options}</code>) 无     设置 <code class="special">{job}</code> 选项
job_start(<code class="special">{command}</code> [, <code class="special">{options}</code>])
                                作业    启动作业
job_status(<code class="special">{job}</code>)               字符串  获取 <code class="special">{job}</code> 的状态
job_stop(<code class="special">{job}</code> [, <code class="special">{how}</code>])       数值    停止 <code class="special">{job}</code>
join(<code class="special">{expr}</code> [, <code class="special">{sep}</code>])          字符串  连接 <code class="special">{expr}</code> 的项目成为一个字符串
js_decode(<code class="special">{string}</code>)             可变    解码 JS 风格的 JSON
js_encode(<code class="special">{expr}</code>)               字符串  编码 JS 风格的 JSON
json_decode(<code class="special">{string}</code>)           可变    解码 JSON
json_encode(<code class="special">{expr}</code>)             字符串  编码 JSON
keys(<code class="special">{dict}</code>)                    列表    <code class="special">{dict}</code> 的所有键
keytrans(<code class="special">{string}</code>)              字符串  把内部键值翻译为  <a href="map.html#:map">:map</a>  可接受的形式
len(<code class="special">{expr}</code>)                     数值    <code class="special">{expr}</code> 的长度
libcall(<code class="special">{lib}</code>, <code class="special">{func}</code>, <code class="special">{arg}</code>)   字符串  调用库 <code class="special">{lib}</code> 的函数 <code class="special">{func}</code>，使用参数
                                        <code class="special">{arg}</code>
libcallnr(<code class="special">{lib}</code>, <code class="special">{func}</code>, <code class="special">{arg}</code>) 数值    同上，但返回数值
line(<code class="special">{expr}</code> [, <code class="special">{winid}</code>])        数值    光标所在、末行或者位置标记所在的行号
line2byte(<code class="special">{lnum}</code>)               数值    行 <code class="special">{lnum}</code> 的字节位置
lispindent(<code class="special">{lnum}</code>)              数值    行 <code class="special">{lnum}</code> 的 Lisp 缩进
list2blob(<code class="special">{list}</code>)               blob    把数值的 <code class="special">{list}</code> 转成 blob
list2str(<code class="special">{list}</code> [, <code class="special">{utf8}</code>])     字符串  把数值的 <code class="special">{list}</code> 转成字符串
list2tuple(<code class="special">{list}</code>)              元组    把 <code class="special">{list}</code> 里的项目转为元组
listener_add(<code class="special">{callback}</code> [, <code class="special">{buf}</code> [, <code class="special">{unbuffered}</code>]])
                                数值    增加监听改动的回调
listener_flush([<code class="special">{buf}</code>])         无      激活监听器回调
listener_remove(<code class="special">{id}</code>)           无      删除监听器回调
localtime()                     数值    当前时间
log(<code class="special">{expr}</code>)                     浮点    <code class="special">{expr}</code> 的自然对数 (以 e 为底)
log10(<code class="special">{expr}</code>)                   浮点    <code class="special">{expr}</code> 以 10 为底的对数
luaeval(<code class="special">{expr}</code> [, <code class="special">{expr}</code>])      可变    执行  <a href="if_lua.html#Lua">Lua</a>  表达式
map(<code class="special">{expr1}</code>, <code class="special">{expr2}</code>)           列表/字典/blob/字符串
                                        <code class="special">{expr1}</code> 的每个项目改变为 <code class="special">{expr2}</code>
maparg(<code class="special">{name}</code> [, <code class="special">{mode}</code> [, <code class="special">{abbr}</code> [, <code class="special">{dict}</code>]]])
                                字符串/字典
                                        模式 <code class="special">{mode}</code> 的映射 <code class="special">{name}</code> 的右手边
mapcheck(<code class="special">{name}</code> [, <code class="special">{mode}</code> [, <code class="special">{abbr}</code>]])
                                字符串  检查匹配 <code class="special">{name}</code> 的映射
maplist([<code class="special">{abbr}</code>])               列表    所有映射的列表，每个映射对应一个字典
mapnew(<code class="special">{expr1}</code>, <code class="special">{expr2}</code>)        列表/字典/blob/字符串
                                        类似于  <a href="builtin.html#map()">map()</a>  但创建新列表或字典
mapset(<code class="special">{mode}</code>, <code class="special">{abbr}</code>, <code class="special">{dict}</code>)  无      从  <a href="builtin.html#maparg()">maparg()</a>  返回值恢复映射
match(<code class="special">{expr}</code>, <code class="special">{pat}</code> [, <code class="special">{start}</code> [, <code class="special">{count}</code>]])
                                数值    <code class="special">{expr}</code> 里 <code class="special">{pat}</code> 的匹配位置
matchadd(<code class="special">{group}</code>, <code class="special">{pattern}</code> [, <code class="special">{priority}</code> [, <code class="special">{id}</code> [, <code class="special">{dict}</code>]]])
                                数值    用 <code class="special">{group}</code> 高亮 <code class="special">{pattern}</code>
matchaddpos(<code class="special">{group}</code>, <code class="special">{pos}</code> [, <code class="special">{priority}</code> [, <code class="special">{id}</code> [, <code class="special">{dict}</code>]]])
                                数值    <code class="special">{group}</code> 的高亮位置
matcharg(<code class="special">{nr}</code>)                  列表     <a href="pattern.html#:match">:match</a>  的参数
matchbufline(<code class="special">{buf}</code>, <code class="special">{pat}</code>, <code class="special">{lnum}</code>, <code class="special">{end}</code>, [, <code class="special">{dict}</code>)
                                列表    缓冲区 <code class="special">{buf}</code> 里的所有 <code class="special">{pat}</code> 匹配
matchdelete(<code class="special">{id}</code> [, <code class="special">{win}</code>])     数值    删除 <code class="special">{id}</code> 指定的匹配
matchend(<code class="special">{expr}</code>, <code class="special">{pat}</code> [, <code class="special">{start}</code> [, <code class="special">{count}</code>]])
                                数值    <code class="special">{expr}</code> 里 <code class="special">{pat}</code> 的结束位置
matchfuzzy(<code class="special">{list}</code>, <code class="special">{str}</code> [, <code class="special">{dict}</code>])
                                列表    在 <code class="special">{list}</code> 中模糊匹配 <code class="special">{str}</code>
matchfuzzypos(<code class="special">{list}</code>, <code class="special">{str}</code> [, <code class="special">{dict}</code>])
                                列表    在 <code class="special">{list}</code> 中模糊匹配 <code class="special">{str}</code>
matchlist(<code class="special">{expr}</code>, <code class="special">{pat}</code> [, <code class="special">{start}</code> [, <code class="special">{count}</code>]])
                                列表    <code class="special">{expr}</code> 里 <code class="special">{pat}</code> 的匹配和子匹配
matchstr(<code class="special">{expr}</code>, <code class="special">{pat}</code> [, <code class="special">{start}</code> [, <code class="special">{count}</code>]])
                                字符串  <code class="special">{expr}</code> 里 <code class="special">{pat}</code> 的第 <code class="special">{count}</code> 个匹配文
                                        本
matchstrlist(<code class="special">{list}</code>, <code class="special">{pat}</code> [, <code class="special">{dict}</code>)
                                列表    <code class="special">{list}</code> 里所有的 <code class="special">{pat}</code> 匹配
matchstrpos(<code class="special">{expr}</code>, <code class="special">{pat}</code> [, <code class="special">{start}</code> [, <code class="special">{count}</code>]])
                                列表    <code class="special">{expr}</code> 里 <code class="special">{pat}</code> 的第 <code class="special">{count}</code> 个匹配
max(<code class="special">{expr}</code>)                     数值    <code class="special">{expr}</code> 的项目的最大值
menu_info(<code class="special">{name}</code> [, <code class="special">{mode}</code>])    字典    获取菜单项目信息
min(<code class="special">{expr}</code>)                     数值    <code class="special">{expr}</code> 的项目的最小值
mkdir(<code class="special">{name}</code> [, <code class="special">{flags}</code> [, <code class="special">{prot}</code>]])
                                数值    建立目录 <code class="special">{name}</code>
mode([<code class="special">{expr}</code>])                  字符串  当前编辑模式
mzeval(<code class="special">{expr}</code>)                  可变    计算  <a href="if_mzsch.html#MzScheme">MzScheme</a>  表达式
nextnonblank(<code class="special">{lnum}</code>)            数值    第一个 &gt;= <code class="special">{lnum}</code> 的非空白行的行号
ngettext(<code class="special">{single}</code>, <code class="special">{plural}</code>, <code class="special">{number}</code>[, <code class="special">{domain}</code>])
                                字符串  根据 <code class="special">{number}</code> 翻译文本
nr2char(<code class="special">{expr}</code> [, <code class="special">{utf8}</code>])      字符串  ASCII/UTF-8 值为 <code class="special">{expr}</code> 的单个字符
or(<code class="special">{expr}</code>, <code class="special">{expr}</code>)              数值    按位或
pathshorten(<code class="special">{expr}</code> [, <code class="special">{len}</code>])   字符串  缩短路径里的目录名
perleval(<code class="special">{expr}</code>)                可变    计算  <a href="if_perl.html#Perl">Perl</a>  表达式
popup_atcursor(<code class="special">{what}</code>, <code class="special">{options}</code>) 数值  在光标附近创建弹出窗口
popup_beval(<code class="special">{what}</code>, <code class="special">{options}</code>)  数值    为 <a href="options.html#'ballooneval'">'ballooneval'</a> 创建弹出窗口
popup_clear()                   无      关闭所有弹出窗口
popup_close(<code class="special">{id}</code> [, <code class="special">{result}</code>])  无      关闭弹出窗口 <code class="special">{id}</code>
popup_create(<code class="special">{what}</code>, <code class="special">{options}</code>) 数值    创建弹出窗口
popup_dialog(<code class="special">{what}</code>, <code class="special">{options}</code>) 数值    创建弹出窗口用作对话框
popup_filter_menu(<code class="special">{id}</code>, <code class="special">{key}</code>)  数值    菜单弹出窗口的过滤
popup_filter_yesno(<code class="special">{id}</code>, <code class="special">{key}</code>) 数值    对话框弹出窗口的过滤
popup_findecho()                数值    获取  <a href="eval.html#:echowin">:echowin</a>  的弹出窗口 ID
popup_findinfo()                数值    获取信息弹出窗口的窗口 ID
popup_findpreview()             数值    获取预览弹出窗口的窗口 ID
popup_getoptions(<code class="special">{id}</code>)          字典    获取弹出窗口 <code class="special">{id}</code> 的选项
popup_getpos(<code class="special">{id}</code>)              字典    获取弹出窗口 <code class="special">{id}</code> 的位置
popup_hide(<code class="special">{id}</code>)                无      隐藏弹出窗口 <code class="special">{id}</code>
popup_list()                    列表    获取所有弹出的窗口 ID 列表
popup_locate(<code class="special">{row}</code>, <code class="special">{col}</code>)      数值    获取在给出位置的弹出窗口 ID
popup_menu(<code class="special">{what}</code>, <code class="special">{options}</code>)   数值    创建弹出窗口用作菜单
popup_move(<code class="special">{id}</code>, <code class="special">{options}</code>)     无      设置弹出窗口 <code class="special">{id}</code> 的位置
popup_notification(<code class="special">{what}</code>, <code class="special">{options}</code>)
                                数值    创建通知弹出窗口
popup_setbuf(<code class="special">{id}</code>, <code class="special">{buf}</code>)       布尔型  设置弹出窗口 <code class="special">{id}</code> 的缓冲区
popup_setoptions(<code class="special">{id}</code>, <code class="special">{options}</code>)
                                无      设置弹出窗口 <code class="special">{id}</code> 的选项
popup_settext(<code class="special">{id}</code>, <code class="special">{text}</code>)     无      设置弹出窗口 <code class="special">{id}</code> 的文本
popup_show(<code class="special">{id}</code>)                数值    撤销弹出窗口 <code class="special">{id}</code> 的隐藏
pow(<code class="special">{x}</code>, <code class="special">{y}</code>)                   浮点    <code class="special">{x}</code> 的 <code class="special">{y}</code> 次方
preinserted()                   数值    文本是否插入在光标后方
prevnonblank(<code class="special">{lnum}</code>)            数值    最后一个 &lt;= <code class="special">{lnum}</code> 的非空白行的行号
printf(<code class="special">{fmt}</code>, <code class="special">{expr1}</code>...)       字符串  排版文本
prompt_getprompt(<code class="special">{buf}</code>)         字符串  获取提示文本
prompt_setcallback(<code class="special">{buf}</code>, <code class="special">{expr}</code>) 无    设置提示回调函数
prompt_setinterrupt(<code class="special">{buf}</code>, <code class="special">{text}</code>) 无   设置提示中断函数
prompt_setprompt(<code class="special">{buf}</code>, <code class="special">{text}</code>) 无      设置提示文本
prop_add(<code class="special">{lnum}</code>, <code class="special">{col}</code>, <code class="special">{props}</code>)  无    新增一项文本属性
prop_add_list(<code class="special">{props}</code>, [[<code class="special">{lnum}</code>, <code class="special">{col}</code>, <code class="special">{end-lnum}</code>, <code class="special">{end-col}</code>], ...])
                                无      新增多项文本属性
prop_clear(<code class="special">{lnum}</code> [, <code class="special">{lnum-end}</code> [, <code class="special">{props}</code>]])
                                无      删除所有文本属性
prop_find(<code class="special">{props}</code> [, <code class="special">{direction}</code>])
                                字典    查找文本属性
prop_list(<code class="special">{lnum}</code> [, <code class="special">{props}</code>])   列表    <code class="special">{lnum}</code> 的文本属性
prop_remove(<code class="special">{props}</code> [, <code class="special">{lnum}</code> [, <code class="special">{lnum-end}</code>]])
                                数值    删除一个文本属性
prop_type_add(<code class="special">{name}</code>, <code class="special">{props}</code>)  无      定义新的文本属性类型
prop_type_change(<code class="special">{name}</code>, <code class="special">{props}</code>)
                                无      改变已有的文本属性类型
prop_type_delete(<code class="special">{name}</code> [, <code class="special">{props}</code>])
                                无      删除文本属性类型
prop_type_get(<code class="special">{name}</code> [, <code class="special">{props}</code>])
                                字典    获取文本属性类型的值
prop_type_list([<code class="special">{props}</code>])       列表    获取文本属性类型的列表
pum_getpos()                    字典    如果可见，pum 的位置和大小
pumvisible()                    数值    弹出窗口是否可见
py3eval(<code class="special">{expr}</code> [, <code class="special">{locals}</code>])    可变    计算  <a href="if_pyth.html#python3">python3</a>  表达式
pyeval(<code class="special">{expr}</code> [, <code class="special">{locals}</code>])     可变    计算  <a href="if_pyth.html#Python">Python</a>  表达式
pyxeval(<code class="special">{expr}</code> [, <code class="special">{locals}</code>])    可变    计算  <a href="if_pyth.html#python_x">python_x</a>  表达式
rand([<code class="special">{expr}</code>])                  数值    得到伪随机数
range(<code class="special">{expr}</code> [, <code class="special">{max}</code> [, <code class="special">{stride}</code>]])
                                列表    从 <code class="special">{expr}</code> 到 <code class="special">{max}</code> 的序列
readblob(<code class="special">{fname}</code> [, <code class="special">{offset}</code> [, <code class="special">{size}</code>]])
                                blob    从 <code class="special">{fname}</code> 读取  <a href="eval.html#Blob">Blob</a> 
readdir(<code class="special">{dir}</code> [, <code class="special">{expr}</code> [, <code class="special">{dict}</code>]])
                                列表    <code class="special">{dir}</code> 中 <code class="special">{expr}</code> 所选择的文件名
readdirex(<code class="special">{dir}</code> [, <code class="special">{expr}</code> [, <code class="special">{dict}</code>]])
                                列表    <code class="special">{dir}</code> 中 <code class="special">{expr}</code> 所选择的文件信息
readfile(<code class="special">{fname}</code> [, <code class="special">{type}</code> [, <code class="special">{max}</code>]])
                                列表    得到文件 <code class="special">{fname}</code> 的行列表
reduce(<code class="special">{object}</code>, <code class="special">{func}</code> [, <code class="special">{initial}</code>])
                                可变    用 <code class="special">{func}</code> 缩减 <code class="special">{object}</code>
reg_executing()                 字符串  得到执行中的寄存器名
reg_recording()                 字符串  得到记录中寄存器名
reltime([<code class="special">{start}</code> [, <code class="special">{end}</code>]])    列表    得到时间值
reltimefloat(<code class="special">{time}</code>)            浮点数  把时间值转化为浮点数
reltimestr(<code class="special">{time}</code>)              字符串  把时间值转化为字符串
remote_expr(<code class="special">{server}</code>, <code class="special">{string}</code> [, <code class="special">{idvar}</code> [, <code class="special">{timeout}</code>]])
                                字符串  发送表达式
remote_foreground(<code class="special">{server}</code>)     数值    把 Vim 服务器带到前台
remote_peek(<code class="special">{serverid}</code> [, <code class="special">{retvar}</code>])
                                数值    检查应答字符串
remote_read(<code class="special">{serverid}</code> [, <code class="special">{timeout}</code>])
                                字符串  读入应答字符串
remote_send(<code class="special">{server}</code>, <code class="special">{string}</code> [, <code class="special">{idvar}</code>])
                                字符串  发送键序列
remote_startserver(<code class="special">{name}</code>)      无      成为服务器 <code class="special">{name}</code>
remove(<code class="special">{list}</code>, <code class="special">{idx}</code> [, <code class="special">{end}</code>]) 可变/列表
                                        从 <code class="special">{list}</code> 里删除项目 <code class="special">{idx}</code>-<code class="special">{end}</code>
remove(<code class="special">{blob}</code>, <code class="special">{idx}</code> [, <code class="special">{end}</code>]) 可变/blob
                                        从 <code class="special">{blob}</code> 里删除字节 <code class="special">{idx}</code>-<code class="special">{end}</code>
remove(<code class="special">{dict}</code>, <code class="special">{key}</code>)           可变    从 <code class="special">{dict}</code> 里删除项目 <code class="special">{key}</code>
rename(<code class="special">{from}</code>, <code class="special">{to}</code>)            数值    换名 (移动) 文件，从 <code class="special">{from}</code> 到 <code class="special">{to}</code>
repeat(<code class="special">{expr}</code>, <code class="special">{count}</code>)         列表/元组/Blob/字符串
                                        重复 <code class="special">{expr}</code> <code class="special">{count}</code> 次
resolve(<code class="special">{filename}</code>)             字符串  解析快捷方式对应的文件名
reverse(<code class="special">{obj}</code>)                  列表/元组/Blob/字符串
                                        反转 <code class="special">{obj}</code>
round(<code class="special">{expr}</code>)                   浮点    <code class="special">{expr}</code> 四舍五入
rubyeval(<code class="special">{expr}</code>)                可变    计算  <a href="if_ruby.html#Ruby">Ruby</a>  表达式
screenattr(<code class="special">{row}</code>, <code class="special">{col}</code>)        数值    当前光标所在的属性
screenchar(<code class="special">{row}</code>, <code class="special">{col}</code>)        数值    当前光标所在的字符
screenchars(<code class="special">{row}</code>, <code class="special">{col}</code>)       列表    当前光标所在的字符列表
screencol()                     数值    当前光标列
screenpos(<code class="special">{winid}</code>, <code class="special">{lnum}</code>, <code class="special">{col}</code>) 字典  文本字符的屏幕行与列
screenrow()                     数值    当前光标行
screenstring(<code class="special">{row}</code>, <code class="special">{col}</code>)      字符串  当前光标所在的字符串
search(<code class="special">{pattern}</code> [, <code class="special">{flags}</code> [, <code class="special">{stopline}</code> [, <code class="special">{timeout}</code> [, <code class="special">{skip}</code>]]]])
                                数值    搜索 <code class="special">{pattern}</code>
searchcount([<code class="special">{options}</code>])        字典    获取或更新搜索统计数据
searchdecl(<code class="special">{name}</code> [, <code class="special">{global}</code> [, <code class="special">{thisblock}</code>]])
                                数值    搜索变量声明
searchpair(<code class="special">{start}</code>, <code class="special">{middle}</code>, <code class="special">{end}</code> [, <code class="special">{flags}</code> [, <code class="special">{skip}</code> [...]]])
                                数值    搜索 start/end 对的另一侧
searchpairpos(<code class="special">{start}</code>, <code class="special">{middle}</code>, <code class="special">{end}</code> [, <code class="special">{flags}</code> [, <code class="special">{skip}</code> [...]]])
                                列表    搜索 start/end 队的另一侧
searchpos(<code class="special">{pattern}</code> [, <code class="special">{flags}</code> [, <code class="special">{stopline}</code> [, <code class="special">{timeout}</code> [, <code class="special">{skip}</code>]]]])
                                列表    搜索 <code class="special">{pattern}</code>
server2client(<code class="special">{clientid}</code>, <code class="special">{string}</code>)
                                数值    发送应答字符串
serverlist()                    字符串  得到可用的服务器列表
setbufline(<code class="special">{buf}</code>, <code class="special">{lnum}</code>, <code class="special">{text}</code>)
                                数值    设置缓冲区 <code class="special">{buf}</code> 第 <code class="special">{lnum}</code> 行为 <code class="special">{text}</code>
setbufvar(<code class="special">{buf}</code>, <code class="special">{varname}</code>, <code class="special">{val}</code>)
                                无      设置缓冲区 <code class="special">{buf}</code> 的 <code class="special">{varname}</code> 为 <code class="special">{val}</code>
setcellwidths(<code class="special">{list}</code>)           无      设置字符单元宽度覆盖
setcharpos(<code class="special">{expr}</code>, <code class="special">{list}</code>)      数值    设置 <code class="special">{expr}</code> 的位置为 <code class="special">{list}</code>
setcharsearch(<code class="special">{dict}</code>)           字典    从 <code class="special">{dict}</code> 设置字符搜索选项
setcmdline(<code class="special">{str}</code> [, <code class="special">{pos}</code>])     数值    设置命令行
setcmdpos(<code class="special">{pos}</code>)                数值    设置命令行的光标位置
setcursorcharpos(<code class="special">{list}</code>)        数值    移动光标到 <code class="special">{list}</code> 指定的位置
setenv(<code class="special">{name}</code>, <code class="special">{val}</code>)           无      设置环境变量
setfperm(<code class="special">{fname}</code>, <code class="special">{mode}</code>)       数值    设置 <code class="special">{fname}</code> 文件权限为 <code class="special">{mode}</code>
setline(<code class="special">{lnum}</code>, <code class="special">{line}</code>)         数值    设置第 <code class="special">{lnum}</code> 行的内容为 <code class="special">{line}</code>
setloclist(<code class="special">{nr}</code>, <code class="special">{list}</code> [, <code class="special">{action}</code>])
                                数值    用 <code class="special">{list}</code> 修改位置列表
setloclist(<code class="special">{nr}</code>, <code class="special">{list}</code> [, <code class="special">{action}</code> [, <code class="special">{what}</code>]])
                                数值    修改指定的位置列表项目
setmatches(<code class="special">{list}</code> [, <code class="special">{win}</code>])    数值    还原匹配列表
setpos(<code class="special">{expr}</code>, <code class="special">{list}</code>)          数值    设置 <code class="special">{expr}</code> 的位置为 <code class="special">{list}</code>
setqflist(<code class="special">{list}</code> [, <code class="special">{action}</code>])  数值    用 <code class="special">{list}</code> 修改快速修复列表
setqflist(<code class="special">{list}</code> [, <code class="special">{action}</code> [, <code class="special">{what}</code>]])
                                数值    修改指定的快速修复列表项目
setreg(<code class="special">{n}</code>, <code class="special">{v}</code> [, <code class="special">{opt}</code>])      数值    设置寄存器的值和类型
settabvar(<code class="special">{nr}</code>, <code class="special">{varname}</code>, <code class="special">{val}</code>) 无    设置标签页 <code class="special">{nr}</code> 的 <code class="special">{varname}</code> 变量为
                                        <code class="special">{val}</code>
settabwinvar(<code class="special">{tabnr}</code>, <code class="special">{winnr}</code>, <code class="special">{varname}</code>, <code class="special">{val}</code>)
                                无      设置标签页 <code class="special">{tabnr}</code> 窗口 <code class="special">{winnr}</code> 的
                                        <code class="special">{varname}</code> 变量为 <code class="special">{val}</code>
settagstack(<code class="special">{nr}</code>, <code class="special">{dict}</code> [, <code class="special">{action}</code>])
                                数值    用 <code class="special">{dict}</code> 修改标签栈
setwinvar(<code class="special">{nr}</code>, <code class="special">{varname}</code>, <code class="special">{val}</code>) 无    设置窗口 <code class="special">{expr}</code> 的 <code class="special">{varname}</code> 为 <code class="special">{val}</code>
sha256(<code class="special">{expr}</code>)                  字符串  字符串或 blob 的 SHA256 校验码
shellescape(<code class="special">{string}</code> [, <code class="special">{special}</code>])
                                字符串  转义 <code class="special">{string}</code> 以便用作外壳命令的参数
shiftwidth([<code class="special">{col}</code>])             数值    <a href="options.html#'shiftwidth'">'shiftwidth'</a> 的有效值
sign_define(<code class="special">{name}</code> [, <code class="special">{dict}</code>])  数值    定义或更新标号
sign_define(<code class="special">{list}</code>)             列表    定义或更新一列标号
sign_getdefined([<code class="special">{name}</code>])       列表    得到已定义的标号的列表
sign_getplaced([<code class="special">{buf}</code> [, <code class="special">{dict}</code>]])
                                列表    得到已放置的标号的列表
sign_jump(<code class="special">{id}</code>, <code class="special">{group}</code>, <code class="special">{buf}</code>)
                                数值    跳转到标号
sign_place(<code class="special">{id}</code>, <code class="special">{group}</code>, <code class="special">{name}</code>, <code class="special">{buf}</code> [, <code class="special">{dict}</code>])
                                数值    放置标号
sign_placelist(<code class="special">{list}</code>)          列表    放置一列标号
sign_undefine([<code class="special">{name}</code>])         数值    撤销标号的定义
sign_undefine(<code class="special">{list}</code>)           列表    撤销一列标号的定义
sign_unplace(<code class="special">{group}</code> [, <code class="special">{dict}</code>])
                                数值    撤销标号的放置
sign_unplacelist(<code class="special">{list}</code>)        列表    撤销一列标号的放置
simplify(<code class="special">{filename}</code>)            字符串  尽可能简化文件名
sin(<code class="special">{expr}</code>)                     浮点    <code class="special">{expr}</code> 的正弦值
sinh(<code class="special">{expr}</code>)                    浮点    <code class="special">{expr}</code> 的双曲正弦值
slice(<code class="special">{expr}</code>, <code class="special">{start}</code> [, <code class="special">{end}</code>])  字符串、列表或 blob
                                        字符串、列表或 blob 的切片
sort(<code class="special">{list}</code> [, <code class="special">{how}</code> [, <code class="special">{dict}</code>]])
                                列表    排序 <code class="special">{list}</code>，<code class="special">{how}</code> 决定比较方式
sound_clear()                   无      停止播放所有声音
sound_playevent(<code class="special">{name}</code> [, <code class="special">{callback}</code>])
                                数值    播放事件声音
sound_playfile(<code class="special">{path}</code> [, <code class="special">{callback}</code>])
                                数值    播放声音文件 <code class="special">{path}</code>
sound_stop(<code class="special">{id}</code>)                无      停止播放声音 <code class="special">{id}</code>
soundfold(<code class="special">{word}</code>)               字符串  按发音折叠 <code class="special">{word}</code>
spellbadword()                  字符串  光标所在的拼写错误的单词
spellsuggest(<code class="special">{word}</code> [, <code class="special">{max}</code> [, <code class="special">{capital}</code>]])
                                列表    拼写建议
split(<code class="special">{expr}</code> [, <code class="special">{pat}</code> [, <code class="special">{keepempty}</code>]])
                                列表    从 <code class="special">{pat}</code> 分割的 <code class="special">{expr}</code> 里构造  <a href="eval.html#List">List</a> 
sqrt(<code class="special">{expr}</code>)                    浮点    <code class="special">{expr}</code> 的平方根
srand([<code class="special">{expr}</code>])                 列表    取得  <a href="builtin.html#rand()">rand()</a>  的种子
state([<code class="special">{what}</code>])                 字符串  Vim 的当前状态
str2blob(<code class="special">{list}</code> [, <code class="special">{options}</code>])  blob    转换字符串列表为 blob
str2float(<code class="special">{expr}</code> [, <code class="special">{quoted}</code>])  浮点    转换字符串为浮点数
str2list(<code class="special">{expr}</code> [, <code class="special">{utf8}</code>])     列表    把 <code class="special">{expr}</code> 的每个字符转换为 ASCII/UTF-8
                                        值
str2nr(<code class="special">{expr}</code> [, <code class="special">{base}</code> [, <code class="special">{quoted}</code>]])
                                数值    把字符串转换为数值
strcharlen(<code class="special">{expr}</code>)              数值    字符串 <code class="special">{expr}</code> 的字符长度
strcharpart(<code class="special">{str}</code>, <code class="special">{start}</code> [, <code class="special">{len}</code> [, <code class="special">{skipcc}</code>]])
                                字符串  <code class="special">{str}</code> 从第 <code class="special">{start}</code> 字符开始的 <code class="special">{len}</code> 个
                                        字符
strchars(<code class="special">{expr}</code> [, <code class="special">{skipcc}</code>])   数值    <code class="special">{expr}</code> 字符串的字符计数
strdisplaywidth(<code class="special">{expr}</code> [, <code class="special">{col}</code>]) 数值  <code class="special">{expr}</code> 字符串的显示长度
strftime(<code class="special">{format}</code> [, <code class="special">{time}</code>])   字符串  使用指定格式排版时间
strgetchar(<code class="special">{str}</code>, <code class="special">{index}</code>)      数值    从 <code class="special">{str}</code> 取得字符 <code class="special">{index}</code>
stridx(<code class="special">{haystack}</code>, <code class="special">{needle}</code> [, <code class="special">{start}</code>])
                                数值    <code class="special">{haystack}</code> 里 <code class="special">{needle}</code> 的位置
string(<code class="special">{expr}</code>)                  字符串  <code class="special">{expr}</code> 值得字符串表示
strlen(<code class="special">{expr}</code>)                  数值    字符串 <code class="special">{expr}</code> 的长度
strpart(<code class="special">{str}</code>, <code class="special">{start}</code> [, <code class="special">{len}</code> [, <code class="special">{chars}</code>]])
                                字符串  <code class="special">{str}</code> 从 <code class="special">{start}</code> 字节开始的 <code class="special">{len}</code> 个字
                                        节/字符
strptime(<code class="special">{format}</code>, <code class="special">{timestring}</code>)
                                数值    把 <code class="special">{timestring}</code> 转换为 unix 时间戳
strridx(<code class="special">{haystack}</code>, <code class="special">{needle}</code> [, <code class="special">{start}</code>])
                                数值    <code class="special">{haystack}</code> 里最后一个 <code class="special">{needle}</code> 的位置
strtrans(<code class="special">{expr}</code>)                字符串  翻译字符串，使之可以显示
strutf16len(<code class="special">{string}</code> [, <code class="special">{countcc}</code>])
                                数值    <code class="special">{string}</code> 里的 UTF-16 代码单元数
strwidth(<code class="special">{expr}</code>)                数值    <code class="special">{expr}</code> 字符串的显示单元长度
submatch(<code class="special">{nr}</code> [, <code class="special">{list}</code>])       字符串/列表
                                        ":s" 或 substitute() 的特定匹配
substitute(<code class="special">{expr}</code>, <code class="special">{pat}</code>, <code class="special">{sub}</code>, <code class="special">{flags}</code>)
                                字符串  <code class="special">{expr}</code> 里的所有 <code class="special">{pat}</code> 被 <code class="special">{sub}</code> 替代
swapfilelist()                  列表    <a href="options.html#'directory'">'directory'</a> 找到的交换文件列表
swapinfo(<code class="special">{fname}</code>)               字典    关于交换文件 <code class="special">{fname}</code> 的信息
swapname(<code class="special">{buf}</code>)                 字符串  缓冲区 <code class="special">{buf}</code> 的交换文件
synID(<code class="special">{lnum}</code>, <code class="special">{col}</code>, <code class="special">{trans}</code>)   数值    <code class="special">{lnum}</code> 行 <code class="special">{col}</code> 列所在的语法 ID
synIDattr(<code class="special">{synID}</code>, <code class="special">{what}</code> [, <code class="special">{mode}</code>])
                                字符串  syntax ID <code class="special">{synID}</code> 的 <code class="special">{what}</code> 属性
synIDtrans(<code class="special">{synID}</code>)             数值    <code class="special">{synID}</code> 经过翻译的语法 ID
synconcealed(<code class="special">{lnum}</code>, <code class="special">{col}</code>)     列表    关于隐藏的信息
synstack(<code class="special">{lnum}</code>, <code class="special">{col}</code>)         列表    <code class="special">{lnum}</code> 行 <code class="special">{col}</code> 列所在的语法 ID 堆栈
system(<code class="special">{expr}</code> [, <code class="special">{input}</code>])      字符串  外壳命令/过滤 <code class="special">{expr}</code> 的输出
systemlist(<code class="special">{expr}</code> [, <code class="special">{input}</code>])  列表    外壳命令/过滤 <code class="special">{expr}</code> 的输出
tabpagebuflist([<code class="special">{arg}</code>])         列表    标签页里的缓冲区号列表
tabpagenr([<code class="special">{arg}</code>])              数值    当前或最后标签页的编号
tabpagewinnr(<code class="special">{tabarg}</code> [, <code class="special">{arg}</code>]) 数值   标签页里当前窗口的编号
tagfiles()                      列表    使用的标签文件
taglist(<code class="special">{expr}</code> [, <code class="special">{filename}</code>])  列表    匹配 <code class="special">{expr}</code> 的标签列表
tan(<code class="special">{expr}</code>)                     浮点    <code class="special">{expr}</code> 的正切值
tanh(<code class="special">{expr}</code>)                    浮点    <code class="special">{expr}</code> 的双曲正切值
tempname()                      字符串  临时文件的文件名
term_dumpdiff(<code class="special">{filename}</code>, <code class="special">{filename}</code> [, <code class="special">{options}</code>])
                                数值    显示两份截图的差异
term_dumpload(<code class="special">{filename}</code> [, <code class="special">{options}</code>])
                                数值    显示一份屏幕截图
term_dumpwrite(<code class="special">{buf}</code>, <code class="special">{filename}</code> [, <code class="special">{options}</code>])
                                无      为终端窗口的内容进行截图
term_getaltscreen(<code class="special">{buf}</code>)        数值    取得备用屏幕标志位
term_getansicolors(<code class="special">{buf}</code>)       列表    取得 GUI 色彩模式的 ANSI 调色板
term_getattr(<code class="special">{attr}</code>, <code class="special">{what}</code>)    数值    取得 <code class="special">{what}</code> 属性的值
term_getcursor(<code class="special">{buf}</code>)           列表    取得终端光标位置
term_getjob(<code class="special">{buf}</code>)              作业    取得终端关联的作业
term_getline(<code class="special">{buf}</code>, <code class="special">{row}</code>)      字符串  从终端取得一行文本行
term_getscrolled(<code class="special">{buf}</code>)         数值    取得终端的滚动数目
term_getsize(<code class="special">{buf}</code>)             列表    取得终端的大小
term_getstatus(<code class="special">{buf}</code>)           字符串  取得终端的状态
term_gettitle(<code class="special">{buf}</code>)            字符串  取得终端的标题
term_gettty(<code class="special">{buf}</code>, [<code class="special">{input}</code>])   字符串  取得终端的 tty 名
term_list()                     列表    取得终端缓冲区的列表
term_scrape(<code class="special">{buf}</code>, <code class="special">{row}</code>)       列表    取得终端屏幕的某行
term_sendkeys(<code class="special">{buf}</code>, <code class="special">{keys}</code>)    无      给终端发送键序列
term_setansicolors(<code class="special">{buf}</code>, <code class="special">{colors}</code>)
                                无      设置 GUI 色彩模式的 ANSI 调色板
term_setapi(<code class="special">{buf}</code>, <code class="special">{expr}</code>)      无      设置  <a href="terminal.html#terminal-api">terminal-api</a>  函数名前缀
term_setkill(<code class="special">{buf}</code>, <code class="special">{how}</code>)      无      设置停止终端作业的信号值
term_setrestore(<code class="special">{buf}</code>, <code class="special">{command}</code>) 无    设置恢复终端的命令
term_setsize(<code class="special">{buf}</code>, <code class="special">{rows}</code>, <code class="special">{cols}</code>)
                                无      设置终端的大小
term_start(<code class="special">{cmd}</code> [, <code class="special">{options}</code>]) 数值    打开终端窗口并执行作业
term_wait(<code class="special">{buf}</code> [, <code class="special">{time}</code>])     数值    等待屏幕刷新
terminalprops()                 字典    终端属性
test_alloc_fail(<code class="special">{id}</code>, <code class="special">{countdown}</code>, <code class="special">{repeat}</code>)
                                无      使内存分配失败
test_autochdir()                无      系统启动中启动 <a href="options.html#'autochdir'">'autochdir'</a>
test_feedinput(<code class="special">{string}</code>)        无      给输入缓冲区增加键序列
test_garbagecollect_now()       无      为测试用，立即释放内存
test_garbagecollect_soon()      无      为测试用，尽快释放内存
test_getvalue(<code class="special">{string}</code>)         可变    得到内部变量的值
test_gui_event(<code class="special">{event}</code>, <code class="special">{args}</code>) 布尔型  为测试用，生成 GUI 事件
test_ignore_error(<code class="special">{expr}</code>)       无      忽略特定的错误
test_mswin_event(<code class="special">{event}</code>, <code class="special">{args}</code>)
                                布尔型  为测试用，生成 MS-Windows 事件
test_null_blob()                blob    用作测试的空值 (null)
test_null_channel()             通道    用作测试的空值 (null)
test_null_dict()                字典    用作测试的空值 (null)
test_null_function()            函数引用        用作测试的空值 (null)
test_null_job()                 作业    用作测试的空值 (null)
test_null_list()                列表    用作测试的空值 (null)
test_null_partial()             函数引用        用作测试的空值 (null)
test_null_string()              字符串  用作测试的空值 (null)
test_null_tuple()               元组    用途测试的空元组
test_option_not_set(<code class="special">{name}</code>)     无      复位指示选项已设置的标志位
test_override(<code class="special">{expr}</code>, <code class="special">{val}</code>)    无      Vim 内部覆盖用作测试
test_refcount(<code class="special">{expr}</code>)           数值    得到 <code class="special">{expr}</code> 的引用计数
test_setmouse(<code class="special">{row}</code>, <code class="special">{col}</code>)     无      为测试用，设置鼠标位置
test_settime(<code class="special">{expr}</code>)            无      用作测试的当前时间
test_srand_seed([<code class="special">{seed}</code>])       无      为 srand() 测试用，设置种子
test_unknown()                  可变    用作测试的未知值
test_void()                     可变    且作测试的无值 (void)
timer_info([<code class="special">{id}</code>])              列表    定时器信息
timer_pause(<code class="special">{id}</code>, <code class="special">{pause}</code>)      无      暂停或继续定时器
timer_start(<code class="special">{time}</code>, <code class="special">{callback}</code> [, <code class="special">{options}</code>])
                                数值    新建定时器
timer_stop(<code class="special">{timer}</code>)             无      停止定时器
timer_stopall()                 无      停止所有定时器
tolower(<code class="special">{expr}</code>)                 字符串  字符串 <code class="special">{expr}</code> 变为小写
toupper(<code class="special">{expr}</code>)                 字符串  字符串 <code class="special">{expr}</code> 变为大写
tr(<code class="special">{src}</code>, <code class="special">{fromstr}</code>, <code class="special">{tostr}</code>)   字符串  把 <code class="special">{src}</code> 里的 <code class="special">{fromstr}</code> 字符翻译为
                                        <code class="special">{tostr}</code> 字符
trim(<code class="special">{text}</code> [, <code class="special">{mask}</code> [, <code class="special">{dir}</code>]])
                                字符串  从 <code class="special">{text}</code> 中删除 <code class="special">{mask}</code> 中的字符
trunc(<code class="special">{expr}</code>)                   浮点    浮点数 <code class="special">{expr}</code> 截断小数点
tuple2list(<code class="special">{tuple}</code>)             列表    把 <code class="special">{tuple}</code> 里的项目转为为列表
type(<code class="special">{expr}</code>)                    数值    值 <code class="special">{expr}</code> 的类型
typename(<code class="special">{expr}</code>)                字符串  <code class="special">{expr}</code> 类型的描述
undofile(<code class="special">{name}</code>)                字符串  对应 <code class="special">{name}</code> 的撤销文件名
undotree([<code class="special">{buf}</code>])               列表    撤销缓冲区 <code class="special">{buf}</code> 的文件树
uniq(<code class="special">{list}</code> [, <code class="special">{func}</code> [, <code class="special">{dict}</code>]])
                                列表    从列表中删除相邻的重复项
uri_decode(<code class="special">{string}</code>)            字符串  URI-解码字符串
uri_encode(<code class="special">{string}</code>)            字符串  URI-编码字符串
utf16idx(<code class="special">{string}</code>, <code class="special">{idx}</code> [, <code class="special">{countcc}</code> [, <code class="special">{charidx}</code>]])
                                数值    <code class="special">{string}</code> 里 <code class="special">{idx}</code> 字节的 UTF-16 索引
values(<code class="special">{dict}</code>)                  列表    <code class="special">{dict}</code> 的所有值
virtcol(<code class="special">{expr}</code> [, <code class="special">{list}</code> [, <code class="special">{winid}</code>])
                                数值或列表
                                        光标或位置标记的屏幕列
virtcol2col(<code class="special">{winid}</code>, <code class="special">{lnum}</code>, <code class="special">{col}</code>)
                                数值    屏幕上字符的字节索引
visualmode([<code class="special">{expr}</code>])            字符串  最近使用的可视模式
wildmenumode()                  数值    <a href="options.html#'wildmenu'">'wildmenu'</a> 模式是否激活
wildtrigger()                   数值    开始通配扩展
win_execute(<code class="special">{id}</code>, <code class="special">{command}</code> [, <code class="special">{silent}</code>])
                                字符串  在窗口 <code class="special">{id}</code> 执行 <code class="special">{command}</code>
win_findbuf(<code class="special">{bufnr}</code>)            列表    寻找包含 <code class="special">{bufnr}</code> 的窗口
win_getid([<code class="special">{win}</code> [, <code class="special">{tab}</code>]])    数值    得到 <code class="special">{tab}</code> 中 <code class="special">{win}</code> 的窗口 ID
win_gettype([<code class="special">{nr}</code>])             字符串  窗口 <code class="special">{nr}</code> 的类型
win_gotoid(<code class="special">{expr}</code>)              数值    转到 ID 为 <code class="special">{expr}</code> 的窗口
win_id2tabwin(<code class="special">{expr}</code>)           列表    从窗口 ID 获得标签页与窗口
win_id2win(<code class="special">{expr}</code>)              数值    从窗口 ID 获得窗口号
win_move_separator(<code class="special">{nr}</code>)        数值    移动窗口的垂直分割符
win_move_statusline(<code class="special">{nr}</code>)       数值    移动窗口的状态行
win_screenpos(<code class="special">{nr}</code>)             列表    得到窗口 <code class="special">{nr}</code> 的屏幕位置
win_splitmove(<code class="special">{nr}</code>, <code class="special">{target}</code> [, <code class="special">{options}</code>])
                                数值    移动窗口 <code class="special">{nr}</code> 成为 <code class="special">{target}</code> 的分割窗口
winbufnr(<code class="special">{nr}</code>)                  数值    窗口 <code class="special">{nr}</code> 的缓冲区号
wincol()                        数值    光标所在的窗口列
windowsversion()                字符串  MS-Windows 操作系统版本
winheight(<code class="special">{nr}</code>)                 数值    窗口 <code class="special">{nr}</code> 的高度
winlayout([<code class="special">{tabnr}</code>])            列表    标签页 <code class="special">{tabnr}</code> 的窗口布局
winline()                       数值    光标所在的窗口行
winnr([<code class="special">{expr}</code>])                 数值    当前窗口的编号
winrestcmd()                    字符串  返回恢复窗口大小的命令
winrestview(<code class="special">{dict}</code>)             无      恢复当前窗口的视图
winsaveview()                   字典    保存当前窗口的视图
winwidth(<code class="special">{nr}</code>)                  数值    窗口 <code class="special">{nr}</code> 的宽度
wordcount()                     字典    字节/字符/单词统计
writefile(<code class="special">{object}</code>, <code class="special">{fname}</code> [, <code class="special">{flags}</code>])
                                数值    把行的  <a href="eval.html#Blob">Blob</a>  或  <a href="eval.html#List">List</a>  写到文件
                                        <code class="special">{fname}</code>
xor(<code class="special">{expr}</code>, <code class="special">{expr}</code>)             数值    按位异或

</section><hr class="doubleline" /><section class=inner>
<h4>2. 详述                                         <b class="vimtag"> <a name="builtin-function-details">builtin-function-details</a> </b></h4>
此处并不包含所有函数，有些特定功能的函数移到了相应的单独帮助文件里。
返回类型指定  <a href="vim9.html#Vim9-script">Vim9-script</a>  使用的类型，见  <a href="vim9.html#vim9-types">vim9-types</a> 

abs(<code class="special">{expr}</code>)                                             <b class="vimtag"> <a name="abs()">abs()</a> </b>
                返回 <code class="special">{expr}</code> 的绝对值。当 <code class="special">{expr}</code> 计算结果为  <a href="eval.html#Float">Float</a>  时，abs()
                返回  <a href="eval.html#Float">Float</a> 。而当 <code class="special">{expr}</code> 可转换为  <a href="eval.html#Number">Number</a>  时，abs() 返回
                 <a href="eval.html#Number">Number</a> 。否则报错并返回 -1。
                示例:
<code class="example">                        echo abs(1.456)</code>
                        1.456 
<code class="example">                        echo abs(-5.456)</code>
                        5.456 
<code class="example">                        echo abs(-4)</code>
                        4

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        Compute()-&gt;abs()</code>

                返回类型:  <a href="eval.html#Number">Number</a>  或  <a href="eval.html#Float">Float</a> ，取决于 <code class="special">{expr}</code>


acos(<code class="special">{expr}</code>)                                            <b class="vimtag"> <a name="acos()">acos()</a> </b>
                返回 <code class="special">{expr}</code> 的反余弦值，类型为  <a href="eval.html#Float">Float</a> ，范围在 [0, pi] 弧度之
                间。
                <code class="special">{expr}</code> 的计算结果必须是 [-1, 1] 区间内的  <a href="eval.html#Float">Float</a>  或  <a href="eval.html#Number">Number</a> 。
                否则 acos() 返回 "nan"。
                示例:
<code class="example">                        :echo acos(0)</code>
                        1.570796
<code class="example">                        :echo acos(-0.5)</code>
                        2.094395

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        Compute()-&gt;acos()</code>

                返回类型:  <a href="eval.html#Float">Float</a> 


add(<code class="special">{object}</code>, <code class="special">{expr}</code>)                                   <b class="vimtag"> <a name="add()">add()</a> </b>
                在  <a href="eval.html#List">List</a>  或  <a href="eval.html#Blob">Blob</a>  <code class="special">{object}</code> 末尾附加项目 <code class="special">{expr}</code>。返回新生成的
                 <a href="eval.html#List">List</a>  或  <a href="eval.html#Blob">Blob</a> 。例如:
<code class="example">                        :let alist = add([1, 2, 3], item)</code>
<code class="example">                        :call add(mylist, "woodstock")</code>
                <code class="note">注意</code> 如果 <code class="special">{expr}</code> 是  <a href="eval.html#List">List</a> ，它被作为单个项目追加。
                 <a href="builtin.html#extend()">extend()</a>  则可用来连接  <a href="eval.html#List">List</a> 。
                <code class="special">{object}</code> 是  <a href="eval.html#Blob">Blob</a>  时，<code class="special">{expr}</code> 必须是数值。
                 <a href="builtin.html#insert()">insert()</a>  可用来在其它位置插入项目。
                如果 <code class="special">{object}</code> 不是  <a href="eval.html#List">List</a>  或  <a href="eval.html#Blob">Blob</a> ，返回 1。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        mylist-&gt;add(val1)-&gt;add(val2)</code>

                返回类型: list&lt;<code class="special">{type}</code>&gt; (取决于输入的  <a href="eval.html#List">List</a> ) 或  <a href="eval.html#Blob">Blob</a> 


and(<code class="special">{expr}</code>, <code class="special">{expr}</code>)                                     <b class="vimtag"> <a name="and()">and()</a> </b>
                对两个参数进行按位与。参数会被转换为数值。参数如果是列表、字典
                或浮点数会报错。
                另见  <a href="builtin.html#or()">or()</a>  和  <a href="builtin.html#xor()">xor()</a> 。
                示例:
<code class="example">                        :let flag = and(bits, 0x80)</code>
                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        :let flag = bits-&gt;and(0x80)</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


append(<code class="special">{lnum}</code>, <code class="special">{text}</code>)                                  <b class="vimtag"> <a name="append()">append()</a> </b>
                当 <code class="special">{text}</code> 为  <a href="eval.html#List">List</a>  时: 把  <a href="eval.html#List">List</a>  里的每个项目作为单独的文本
                行，附加到当前缓冲区第 <code class="special">{lnum}</code> 行之下。
                否则，把 <code class="special">{text}</code> 作为单个文本行，附加到当前缓冲区第 <code class="special">{lnum}</code> 行之
                下。
                接受任何项目，并会被转换为字符串。
                <code class="special">{lnum}</code> 可为零，用于在第一行前插入一行。
                <code class="special">{lnum}</code> 的用法可见  <a href="builtin.html#getline()">getline()</a> 。
                如果失败 (<code class="special">{lnum}</code> 越界或内存溢出)，返回 1，成功则返回 0。<code class="special">{text}</code>
                为空列表时，不管 <code class="special">{lnum}</code> 为何，总返回零。
                 <a href="vim9.html#Vim9">Vim9</a>  脚本中非法参数或负数会报错。例如:
<code class="example">                        :let failed = append(line('$'), "# THE END")</code>
<code class="example">                        :let failed = append(0, ["Chapter 1", "the beginning"])</code>
<code class="example"></code>
                也可用作列表的  <a href="eval.html#method">method</a> ，基是作为第二个参数传递的:
<code class="example">                        mylist-&gt;append(lnum)</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


appendbufline(<code class="special">{buf}</code>, <code class="special">{lnum}</code>, <code class="special">{text}</code>)                    <b class="vimtag"> <a name="appendbufline()">appendbufline()</a> </b>
                类似于  <a href="builtin.html#append()">append()</a> ，但在指定缓冲区 <code class="special">{buf}</code> 中附加文本。

                本函数只能用于已加载的缓冲区。如有必要，可先调用  <a href="builtin.html#bufload()">bufload()</a> 。

                <code class="special">{buf}</code> 的用法见  <a href="builtin.html#bufname()">bufname()</a> 。

                <code class="special">{lnum}</code> 是行号，在其下附加文本。<code class="note">注意</code> 使用  <a href="builtin.html#line()">line()</a>  会引用当前缓
                冲区而非正在追加的缓冲区。"$" 可用来附加于缓冲区末尾。除此以
                外，不支持其他字符串值。

                成功时返回 0，失败则返回 1。
                 <a href="vim9.html#Vim9">Vim9</a>  脚本中非法 <code class="special">{lnum}</code> 会报错。

                如果 <code class="special">{buf}</code> 不是合法缓冲区或 <code class="special">{lnum}</code> 不合法，报错。例如:
<code class="example">                        :let failed = appendbufline(13, 0, "# THE START")</code>
                不过，<code class="special">{text}</code> 为空列表时，非法 <code class="special">{lnum}</code> 也不会报错，因为并不实际
                使用 <code class="special">{lnum}</code>。

                也可用作列表的  <a href="eval.html#method">method</a> ，基是作为第二个参数传递的:
<code class="example">                        mylist-&gt;appendbufline(buf, lnum)</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


argc([<code class="special">{winid}</code>])                                         <b class="vimtag"> <a name="argc()">argc()</a> </b>
                返回参数列表的文件数目。见  <a href="editing.html#arglist">arglist</a> 。
                <code class="special">{winid}</code> 省略时，使用当前窗口的参数列表。
                否则如果 <code class="special">{winid}</code> 是 -1，使用全局参数列表。
                否则，<code class="special">{winid}</code> 指定参数列表所在的窗口: 窗口号或窗口 ID 均可。
                如果 <code class="special">{winid}</code> 参数不合法，返回 -1。

                返回类型:  <a href="eval.html#Number">Number</a> 


argidx()                                                <b class="vimtag"> <a name="argidx()">argidx()</a> </b>
                返回参数列表的当前索引。0 对应首个文件。 <a href="builtin.html#argc()">argc()</a>  - 1 对应最后
                一个文件。见  <a href="editing.html#arglist">arglist</a> 。

                返回类型:  <a href="eval.html#Number">Number</a> 


arglistid([<code class="special">{winnr}</code> [, <code class="special">{tabnr}</code>]])                        <b class="vimtag"> <a name="arglistid()">arglistid()</a> </b>
                返回参数列表 ID，该数值用于标识正在使用的参数列表。零代表全局
                参数列表。见  <a href="editing.html#arglist">arglist</a> 。
                参数非法时返回 -1。

                参数省略时，使用当前窗口。
                如果只提供 <code class="special">{winnr}</code>，使用当前标签页的指定窗口。
                如果同时提供 <code class="special">{winnr}</code> 和 <code class="special">{tabnr}</code>，使用指定标签页的指定窗口。
                <code class="special">{winnr}</code> 可为窗口号或  <a href="windows.html#window-ID">window-ID</a> 。

                返回类型:  <a href="eval.html#Number">Number</a> 


argv([<code class="special">{nr}</code> [, <code class="special">{winid}</code>]])                                <b class="vimtag"> <a name="argv()">argv()</a> </b>
                返回参数列表第 <code class="special">{nr}</code> 个参数。见  <a href="editing.html#arglist">arglist</a> 。"argv(0)" 对应首个参
                数。例如:
<code class="example">        :let i = 0</code>
<code class="example">        :while i &lt; argc()</code>
<code class="example">        :  let f = escape(fnameescape(argv(i)), '. ')</code>
<code class="example">        :  exe 'amenu Arg.' .. f .. ' :e ' .. f .. '&lt;CR&gt;'</code>
<code class="example">        :  let i = i + 1</code>
<code class="example">        :endwhile</code>
                <code class="special">{nr}</code> 参数省略或为 -1 时，返回类型为  <a href="eval.html#List">List</a>  的完整 <code class="special">{arglist}</code>。

                <code class="special">{winid}</code> 参数指定窗口 ID，见  <a href="builtin.html#argc()">argc()</a> 。
                关于 Vim 的命令行参数，可见  <a href="eval.html#v:argv">v:argv</a> 。

                如果参数列表中不存在第 <code class="special">{nr}</code> 个参数，返回空串。如果 <code class="special">{winid}</code> 参
                数非法，返回空列表。

                返回类型:  <a href="eval.html#String">String</a> 


asin(<code class="special">{expr}</code>)                                            <b class="vimtag"> <a name="asin()">asin()</a> </b>
                返回 <code class="special">{expr}</code> 的反正弦值，类型为  <a href="eval.html#Float">Float</a> ，范围在 [-pi/2, pi/2]
                弧度之间。
                <code class="special">{expr}</code> 的计算结果必须是 [-1, 1] 区间内的  <a href="eval.html#Float">Float</a>  或  <a href="eval.html#Number">Number</a> 。
                如果 <code class="special">{expr}</code> 越出 [-1, 1] 区间，返回 "nan"。如果 <code class="special">{expr}</code> 不是
                 <a href="eval.html#Float">Float</a>  或  <a href="eval.html#Number">Number</a> ，返回 0.0。
                示例:
<code class="example">                        :echo asin(0.8)</code>
                        0.927295
<code class="example">                        :echo asin(-0.5)</code>
                        -0.523599

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        Compute()-&gt;asin()</code>

                返回类型:  <a href="eval.html#Float">Float</a> 

assert_ 函数文档在这里:  <a href="testing.html#assert-functions-details">assert-functions-details</a> 


atan(<code class="special">{expr}</code>)                                            <b class="vimtag"> <a name="atan()">atan()</a> </b>
                返回 <code class="special">{expr}</code> 的反正切主值，类型为  <a href="eval.html#Float">Float</a> ，范围在
                [-pi/2, +pi/2] 弧度之间。
                <code class="special">{expr}</code> 的计算结果必须是  <a href="eval.html#Float">Float</a>  或  <a href="eval.html#Number">Number</a> 。否则返回 0.0。
                示例:
<code class="example">                        :echo atan(100)</code>
                        1.560797
<code class="example">                        :echo atan(-4.01)</code>
                        -1.326405

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        Compute()-&gt;atan()</code>

                返回类型:  <a href="eval.html#Float">Float</a> 


atan2(<code class="special">{expr1}</code>, <code class="special">{expr2}</code>)                                 <b class="vimtag"> <a name="atan2()">atan2()</a> </b>
                返回 <code class="special">{expr1}</code> / <code class="special">{expr2}</code> 的反正切值，类型为  <a href="eval.html#Float">Float</a> ，范围在
                [-pi, +pi] 弧度之间。
                <code class="special">{expr1}</code> 和 <code class="special">{expr2}</code> 的计算结果必须是  <a href="eval.html#Float">Float</a>  或  <a href="eval.html#Number">Number</a> 。否则
                返回 0.0。
                示例:
<code class="example">                        :echo atan2(-1, 1)</code>
                        -0.785398
<code class="example">                        :echo atan2(1, -1)</code>
                        2.356194

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        Compute()-&gt;atan2(1)</code>

                返回类型:  <a href="eval.html#Float">Float</a> 


autocmd_add(<code class="special">{acmds}</code>)                                    <b class="vimtag"> <a name="autocmd_add()">autocmd_add()</a> </b>
                新增一组自动命令和自动命令组。

                <code class="special">{acmds}</code> 参数是列表，其中每个项目为包含以下可选项目的字典:
                    bufnr       要新增缓冲区局部自动命令时使用的缓冲区号。如果
                                指定，忽略 "pattern" 项目。
                    cmd         此自动命令事件要执行的 Ex 命令
                    event       自动命令事件名。参见  <a href="autocmd.html#autocmd-events">autocmd-events</a> 。参数可
                                以是单个事件名的字符串，也可以是包含多个事件名
                                的列表。
                    group       自动命令组名。参见  <a href="autocmd.html#autocmd-groups">autocmd-groups</a> 。如指定组
                                尚不存在，先创建之。如果不指定或为空，使用缺省
                                组。
                    nested      布尔型标志位，要新增支持嵌套的自动命令时设为
                                v:true。参见  <a href="autocmd.html#autocmd-nested">autocmd-nested</a> 。
                    once        布尔型标志位，要新增只执行一次的自动命令时设为
                                v:true。参见  <a href="autocmd.html#autocmd-once">autocmd-once</a> 。
                    pattern     自动命令的模式串。参见  <a href="autocmd.html#autocmd-patterns">autocmd-patterns</a> 。如
                                果指定 "bufnr" 项目，会忽略本项目。参数可以是
                                单个模式的字符串，也可以是包含多个模式的列表。
                    replace     布尔型标志位，设为 v:true 时，先删除和指定自动
                                命令事件和组关联的所有命令，再加入 <code class="special">{cmd}</code>。这可
                                用于避免为同一组和同一事件重复添加相同的自动命
                                令。

                成功时返回 v:true，而失败时返回 v:false。
                示例:
<code class="example">                        " 为 5 号缓冲区创建缓冲区局部自动命令</code>
<code class="example">                        let acmd = {}</code>
<code class="example">                        let acmd.group = 'MyGroup'</code>
<code class="example">                        let acmd.event = 'BufEnter'</code>
<code class="example">                        let acmd.bufnr = 5</code>
<code class="example">                        let acmd.cmd = 'call BufEnterFunc()'</code>
<code class="example">                        call autocmd_add([acmd])</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetAutocmdList()-&gt;autocmd_add()</code>

                返回类型:  <a href="vim9.html#vim9-boolean">vim9-boolean</a> 


autocmd_delete(<code class="special">{acmds}</code>)                                 <b class="vimtag"> <a name="autocmd_delete()">autocmd_delete()</a> </b>
                删除一组自动命令和自动命令组。

                <code class="special">{acmds}</code> 参数是列表，其中每个项目为包含以下可选项目的字典:
                    bufnr       待删除的缓冲区局部自动命令的缓冲区号。如果指
                                定，忽略 "pattern" 项目。
                    cmd         此自动命令事件要执行的 Ex 命令
                    event       自动命令事件名。参见  <a href="autocmd.html#autocmd-events">autocmd-events</a> 。如果为
                                '*'，删除此组中的所有自动命令事件。
                    group       自动命令组名。参见  <a href="autocmd.html#autocmd-groups">autocmd-groups</a> 。如果不指
                                定或为空，使用缺省组。
                    nested      布尔型标志位，要指定支持嵌套的自动命令时设为
                                v:true。参见  <a href="autocmd.html#autocmd-nested">autocmd-nested</a> 。
                    once        布尔型标志位，要指定只执行一次的自动命令时设为
                                v:true。参见  <a href="autocmd.html#autocmd-once">autocmd-once</a> 。
                    pattern     自动命令的模式串。参见  <a href="autocmd.html#autocmd-patterns">autocmd-patterns</a> 。如
                                果指定 "bufnr" 项目，会忽略本项目。

                如果 <code class="special">{acmds}</code> 字典只指定了 <code class="special">{group}</code> 而未指定 <code class="special">{event}</code>、<code class="special">{pattern}</code>
                和 <code class="special">{cmd}</code>，则删除整个自动命令组。

                成功时返回 v:true，而失败时返回 v:false。
                示例:
<code class="example">                        " :autocmd! BufLeave *.vim</code>
<code class="example">                        let acmd = #{event: 'BufLeave', pattern: '*.vim'}</code>
<code class="example">                        call autocmd_delete([acmd]})</code>
<code class="example">                        " :autocmd! MyGroup1 BufLeave</code>
<code class="example">                        let acmd = #{group: 'MyGroup1', event: 'BufLeave'}</code>
<code class="example">                        call autocmd_delete([acmd])</code>
<code class="example">                        " :autocmd! MyGroup2 BufEnter *.c</code>
<code class="example">                        let acmd = #{group: 'MyGroup2', event: 'BufEnter',</code>
<code class="example">                                                        \ pattern: '*.c'}</code>
<code class="example">                        " :autocmd! MyGroup2 * *.c</code>
<code class="example">                        let acmd = #{group: 'MyGroup2', event: '*',</code>
<code class="example">                                                        \ pattern: '*.c'}</code>
<code class="example">                        call autocmd_delete([acmd])</code>
<code class="example">                        " :autocmd! MyGroup3</code>
<code class="example">                        let acmd = #{group: 'MyGroup3'}</code>
<code class="example">                        call autocmd_delete([acmd])</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetAutocmdList()-&gt;autocmd_delete()</code>

                返回类型:  <a href="vim9.html#vim9-boolean">vim9-boolean</a> 


autocmd_get([<code class="special">{opts}</code>])                                   <b class="vimtag"> <a name="autocmd_get()">autocmd_get()</a> </b>
                返回自动命令  <a href="eval.html#List">List</a> 。<code class="special">{opts}</code> 省略时，返回所有组里所有事件的自动
                命令。

                可选的 <code class="special">{opts}</code> 字典参数支持以下项目:
                    group       自动命令组名。如果指定，只返回此组中定义的自动
                                命令。如果给出的组不存在，返回错误信息。如果设
                                为空串，使用缺省自动命令组。
                    event       自动命令事件名。如果指定，只返回为此事件定义的
                                自动命令。如为 "*"，返回所有事件的自动命令。如
                                果给出的事件不存在，返回错误信息。
                    pattern     自动命令模式。如果指定，只返回使用此模式定义的
                                自动命令。
                <code class="special">{opts}</code> 接受以上三者的组合。

                返回列表中的每个项目是包含以下项目的字典:
                    bufnr       对缓冲区局部自动命令而言，此自动命令定义所在的
                                缓冲区号。
                    cmd         此自动命令执行的命令。
                    event       自动命令事件名。
                    group       自动命令组名。
                    nested      布尔型标志位，自动命令支持嵌套则为 v:true。见
                                 <a href="autocmd.html#autocmd-nested">autocmd-nested</a> 。
                    once        布尔型标志位，自动命令只执行一次则为 v:true。
                                参见  <a href="autocmd.html#autocmd-once">autocmd-once</a> 。
                    pattern     自动命令模式。如果是缓冲区局部自动命令，则有以
                                下形式 "&lt;buffer=n&gt;"。
                如果同一组里的一个事件对应多个自动命令，每个命令都会作为单独的
                项目返回。

                如果对应指定组、事件或模式的自动命令不存在，返回空列表。

                示例:
<code class="example">                        " :autocmd MyGroup</code>
<code class="example">                        echo autocmd_get(#{group: 'Mygroup'})</code>
<code class="example">                        " :autocmd G BufUnload</code>
<code class="example">                        echo autocmd_get(#{group: 'G', event: 'BufUnload'})</code>
<code class="example">                        " :autocmd G * *.ts</code>
<code class="example">                        let acmd = #{group: 'G', event: '*', pattern: '*.ts'}</code>
<code class="example">                        echo autocmd_get(acmd)</code>
<code class="example">                        " :autocmd Syntax</code>
<code class="example">                        echo autocmd_get(#{event: 'Syntax'})</code>
<code class="example">                        " :autocmd G BufEnter *.ts</code>
<code class="example">                        let acmd = #{group: 'G', event: 'BufEnter',</code>
<code class="example">                                                        \ pattern: '*.ts'}</code>
<code class="example">                        echo autocmd_get(acmd)</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        Getopts()-&gt;autocmd_get()</code>

                返回类型: list&lt;dict<code class="special">&lt;any&gt;</code>&gt;


balloon_gettext()                                       <b class="vimtag"> <a name="balloon_gettext()">balloon_gettext()</a> </b>
                返回气泡的当前文本。只用于字符串，不用于列表。如果气泡不存在，
                返回空串。

                返回类型:  <a href="eval.html#String">String</a> 


balloon_show(<code class="special">{expr}</code>)                                    <b class="vimtag"> <a name="balloon_show()">balloon_show()</a> </b>
                在气泡中显示 <code class="special">{expr}</code>。GUI 中 <code class="special">{expr}</code> 作为字符串使用。而终端中
                <code class="special">{expr}</code> 可为多行的列表。如果 <code class="special">{expr}</code> 不是列表，将通过
                 <a href="builtin.html#balloon_split()">balloon_split()</a>  先进行分割。
                <code class="special">{expr}</code> 为空时，删除任何已存在的气泡。

                示例:
<code class="example">                        func GetBalloonContent()</code>
<code class="example">                           " ... 启动内容的获取</code>
<code class="example">                           return ''</code>
<code class="example">                        endfunc</code>
<code class="example">                        set balloonexpr=GetBalloonContent()</code>
<code class="example"></code>
<code class="example">                        func BalloonCallback(result)</code>
<code class="example">                          call balloon_show(a:result)</code>
<code class="example">                        endfunc</code>
                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetText()-&gt;balloon_show()</code>

                期待的用法是从 <a href="options.html#'balloonexpr'">'balloonexpr'</a> 启动气泡内容的获取。它应调用异步
                方法，然后在其回调中执行 balloon_show()。<a href="options.html#'balloonexpr'">'balloonexpr'</a> 自
                身可返回空串或任何占位符，例如 "载入中..."。

                如果不能显示气泡，不做任何事，不会报错。
                {仅当编译时加入  <a href="various.html#+balloon_eval">+balloon_eval</a>  或  <code class="badlink">balloon_eval_term</code>  特性才
                有效}

                返回类型:  <a href="eval.html#Number">Number</a> 


balloon_split(<code class="special">{msg}</code>)                                    <b class="vimtag"> <a name="balloon_split()">balloon_split()</a> </b>
                把字符串 <code class="special">{msg}</code> 分割为方便在气泡中显示的多行。分割依据的是当前
                窗口大小，并进行优化以显示调试器的输出。
                返回分割后行的  <a href="eval.html#List">List</a> 。如果出错，返回空列表。
                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetText()-&gt;balloon_split()-&gt;balloon_show()</code>
<code class="example"></code>
                <code class="notvi">{仅当编译时加入  <code class="badlink">balloon_eval_term</code>  特性才有效}</code>

                返回类型: list<code class="special">&lt;any&gt;</code> 或 list<code class="special">&lt;string&gt;</code>


base64_decode(<code class="special">{string}</code>)                                 <b class="vimtag"> <a name="base64_decode()">base64_decode()</a> </b>
                返回 blob，包含 <code class="special">{string}</code> 里 base64 编码字符解码后的字节。

                <code class="special">{string}</code> 参数只能包含 base64-编码的字符，长度必须为 4 的倍数。

                如果出错，返回空 blob。

                示例:
<code class="example">                    " 把解码内容写到二进制文件</code>
<code class="example">                    call writefile(base64_decode(s), 'tools.bmp')</code>
<code class="example">                    " 解码 base64-编码的字符串</code>
<code class="example">                    echo blob2str(base64_decode(encodedstr))</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetEncodedString()-&gt;base64_decode()</code>

                返回类型:  <a href="eval.html#Blob">Blob</a> 


base64_encode(<code class="special">{blob}</code>)                                   <b class="vimtag"> <a name="base64_encode()">base64_encode()</a> </b>
                返回将 <code class="special">{blob}</code> 里包含的字节进行 base64 编码后的字符串。使用 RFC
                4648 定义的 base64 字母表。

                示例:
<code class="example">                    " 对二进制文件内容进行编码</code>
<code class="example">                    echo base64_encode(readblob('somefile.bin'))</code>
<code class="example">                    " 对字符串进行编码</code>
<code class="example">                    echo base64_encode(str2blob(somestr-&gt;split("\n")))</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetBinaryData()-&gt;base64_encode()</code>

                返回类型:  <a href="eval.html#String">String</a> 


bindtextdomain(<code class="special">{package}</code>, <code class="special">{path}</code>)                       <b class="vimtag"> <a name="bindtextdomain()">bindtextdomain()</a> </b>
                将指定的 <code class="special">{package}</code> 和 <code class="special">{path}</code> 进行绑定，使得  <a href="builtin.html#gettext()">gettext()</a>  函数可
                用于得到该包的特定语言翻译。<code class="special">{path}</code> 为包含翻译文件的目录名。见
                 <a href="repeat.html#package-translation">package-translation</a> 。

                成功时返回 v:true，而失败时返回 v:false (内存溢出)。

                返回类型:  <a href="vim9.html#vim9-boolean">vim9-boolean</a> 


blob2list(<code class="special">{blob}</code>)                                       <b class="vimtag"> <a name="blob2list()">blob2list()</a> </b>
                返回 <code class="special">{blob}</code> 中每个字节对应的数值的列表。示例:
<code class="example">                        blob2list(0z0102.0304)  返回 [1, 2, 3, 4]</code>
<code class="example">                        blob2list(0z)           返回 []</code>
                如果出错，返回空列表。 <a href="builtin.html#list2blob()">list2blob()</a>  是其逆操作。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetBlob()-&gt;blob2list()</code>

                返回类型: list<code class="special">&lt;any&gt;</code> 或 list<code class="special">&lt;number&gt;</code>


blob2str(<code class="special">{blob}</code> [, <code class="special">{options}</code>])                          <b class="vimtag"> <a name="blob2str()">blob2str()</a> </b>
                返回 <code class="special">{blob}</code> 中字节序列使用当前 <a href="options.html#'encoding'">'encoding'</a> 转换为字符后组成的字
                符串列表。

                blob 里的每个 <code class="special">&lt;NL&gt;</code> 字节视作字符串结束，并生成新列表项目。而
                blob 里的每个 <code class="special">&lt;NUL&gt;</code> 字节则被转换为 <code class="special">&lt;NL&gt;</code> 字符。

                <code class="special">{options}</code> 省略时，使用当前 <a href="options.html#'encoding'">'encoding'</a> 值来解码 <code class="special">{blob}</code> 里的字节
                序列。

                参数 <code class="special">{options}</code> 为  <a href="eval.html#Dict">Dict</a> ，支持以下项目:
                    encoding    使用此编码来解码 <code class="special">{blob}</code> 里的字节序列。 <a href="eval.html#String">String</a> 
                                值。支持的值可见  <a href="mbyte.html#encoding-names">encoding-names</a>  (加上特殊值
                                "none")。
                                                        <b class="vimtag"> <a name="E1515">E1515</a> </b> <b class="vimtag"> <a name="E1516">E1516</a> </b>
                当前 <a href="options.html#'encoding'">'encoding'</a> 如为 "utf-8"，<code class="special">{blob}</code> 发现非法字节序列时会报错
                并返回空列表。要抑制此种检验而不介意得到可能非法的字符串，将
                <code class="special">{options}</code> 里的 "encoding" 设为 "none"。

                blob 为空时返回空列表。

                另见  <a href="builtin.html#str2blob()">str2blob()</a> 

                示例:
<code class="example">                    blob2str(0z6162)            返回 ['ab']</code>
<code class="example">                    blob2str(0zC2ABC2BB)        返回 ['«»']</code>
<code class="example">                    blob2str(0z610A62)          返回 ['a', 'b']</code>
<code class="example">                    blob2str(0z610062)          返回 ['a\nb']</code>
<code class="example">                    blob2str(0zABBB, {'encoding': 'latin1'}) 返回 ['«»']</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetBlob()-&gt;blob2str()</code>

                返回类型: list<code class="special">&lt;string&gt;</code>


browse(<code class="special">{save}</code>, <code class="special">{title}</code>, <code class="special">{initdir}</code>, <code class="special">{default}</code>)           <b class="vimtag"> <a name="browse()">browse()</a> </b>
                启动文件请求窗口。只有在 "has("browse")" 返回  <a href="eval.html#TRUE">TRUE</a>  时 (只在
                一些 GUI 版本里有效) 才可用。
                输入的字段包括:
                    <code class="special">{save}</code>       <a href="eval.html#TRUE">TRUE</a>  时，选择要写入的文件
                    <code class="special">{title}</code>     请求窗口的标题
                    <code class="special">{initdir}</code>   开始浏览的目录
                    <code class="special">{default}</code>   缺省文件名
                如果按了 "Cancel" 按钮、出错或者无法浏览，则返回空串。

                返回类型:  <a href="eval.html#String">String</a> 


browsedir(<code class="special">{title}</code>, <code class="special">{initdir}</code>)                           <b class="vimtag"> <a name="browsedir()">browsedir()</a> </b>
                启动目录请求窗口。只有在 "has("browse")" 返回  <a href="eval.html#TRUE">TRUE</a>  时 (只在
                一些 GUI 版本里有效) 才可用。
                有的系统上不支持目录浏览器，这时会使用文件浏览器。此种情况下:
                请选择要用的目录里的一个文件。
                输入的字段包括:
                    <code class="special">{title}</code>     请求窗口的标题
                    <code class="special">{initdir}</code>   开始浏览的目录
                如果按了 "Cancel" 按钮、出错或者无法浏览，则返回空串。

                返回类型:  <a href="eval.html#String">String</a> 


bufadd(<code class="special">{name}</code>)                                          <b class="vimtag"> <a name="bufadd()">bufadd()</a> </b>
                在缓冲区列表中加入名为 <code class="special">{name}</code> (必须为字符串) 的缓冲区。
                如果对应文件 <code class="special">{name}</code> 的缓冲区已存在，返回该缓冲区号。否则返回新
                建缓冲区的号。<code class="special">{name}</code> 为空串时，总是建立新缓冲区。
                该缓冲区未置位 <a href="options.html#'buflisted'">'buflisted'</a>，而且尚未加载。要在缓冲区中增加文
                件:
<code class="example">                        let bufnr = bufadd('someName')</code>
<code class="example">                        call bufload(bufnr)</code>
<code class="example">                        call setbufline(bufnr, 1, ['some', 'text'])</code>
                如果出错，返回 0。
                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        let bufnr = 'somename'-&gt;bufadd()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


bufexists(<code class="special">{buf}</code>)                                        <b class="vimtag"> <a name="bufexists()">bufexists()</a> </b>
                返回数值，如果存在名为 <code class="special">{buf}</code> 的缓冲区，返回  <a href="eval.html#TRUE">TRUE</a> 。
                <code class="special">{buf}</code> 参数是数值时，指定缓冲区号。数值零指定当前窗口的轮换缓
                冲区。

                <code class="special">{buf}</code> 参数是字符串时，必须完全匹配指定缓冲区名。该名可以是:
                - 相对于当前目录的相对路径。
                - 完整路径。
                - <a href="options.html#'buftype'">'buftype'</a> 设为 "nofile" 时的缓冲区名。
                - URL 名。
                即使缓冲区不在列表中，也能被找到。
                <code class="note">注意</code> 帮助文件在  <a href="windows.html#:buffers">:buffers</a>  里列出的是它们的短名字。但
                bufexists() 需要它们的长名字才能找到它们。
                bufexists() 可报告缓冲区存在，但要使用用于  <a href="windows.html#:buffer">:buffer</a>  命令的名
                字，可能需要借助  <a href="builtin.html#expand()">expand()</a> 。尤其在 MS-Windows 中需要形如
                "c:\DOCUME~1" 的 8.3 名字。
                "bufexists(0)" 可用来测试轮换文件名是否存在。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        let exists = 'somename'-&gt;bufexists()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 

                已废弃的名字: buffer_exists()。         <b class="vimtag"> <a name="buffer_exists()">buffer_exists()</a> </b>

buflisted(<code class="special">{buf}</code>)                                        <b class="vimtag"> <a name="buflisted()">buflisted()</a> </b>
                返回数值，名为 <code class="special">{buf}</code> 的缓冲区在列表中 (置位了 <a href="options.html#'buflisted'">'buflisted'</a> 选
                项) 时，返回  <a href="eval.html#TRUE">TRUE</a> 。
                <code class="special">{buf}</code> 参数用法同  <a href="builtin.html#bufexists()">bufexists()</a> 。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        let listed = 'somename'-&gt;buflisted()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


bufload(<code class="special">{buf}</code>)                                          <b class="vimtag"> <a name="bufload()">bufload()</a> </b>
                确保缓冲区 <code class="special">{buf}</code> 已加载。缓冲区名对应的文件存在时，读入该文
                件。否则缓冲区保持为空。如果缓冲区已载入，则不作任何改变。如
                果缓冲区不和文件相关 (例如 <a href="options.html#'buftype'">'buftype'</a> 为 "nofile")，不读取文
                件。如果缓冲区的文件已有交换文件，不弹出对话框，直接载入缓冲
                区。
                <code class="special">{buf}</code> 参数的用法可见  <a href="builtin.html#bufexists()">bufexists()</a> 。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        eval 'somename'-&gt;bufload()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


bufloaded(<code class="special">{buf}</code>)                                        <b class="vimtag"> <a name="bufloaded()">bufloaded()</a> </b>
                返回数值，名为 <code class="special">{buf}</code> 的缓冲区存在且已加载 (无论在窗口中显示还
                是被隐藏) 时，返回  <a href="eval.html#TRUE">TRUE</a> 。
                <code class="special">{buf}</code> 参数用法同  <a href="builtin.html#bufexists()">bufexists()</a> 。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        let loaded = 'somename'-&gt;bufloaded()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


bufname([<code class="special">{buf}</code>])                                        <b class="vimtag"> <a name="bufname()">bufname()</a> </b>
                返回缓冲区的名字，多数情况下与 ":ls" 命令显示的一致，但不会使
                用诸如 "[未命名]" 那样的特别名称。
                <code class="special">{buf}</code> 省略时，使用当前缓冲区。
                <code class="special">{buf}</code> 参数为数值时，用来指定缓冲区号。数值零代表当前窗口的轮换
                缓冲区。
                <code class="special">{buf}</code> 参数为字符串时，用作匹配缓冲区名字的  <a href="autocmd.html#file-pattern">file-pattern</a> 。这
                里假设 <a href="options.html#'magic'">'magic'</a> 总是置位而 <a href="options.html#'cpoptions'">'cpoptions'</a> 总为空。如果匹配超过一
                个，返回空串。
                可用 "" 或 "%" 来指定当前缓冲区，而 "#" 指定轮换缓冲区。
                完整匹配优先，如果找不到，也接受在缓冲区名的开头，结尾或中间的
                匹配。如果只接受完整匹配，在模式的开头加上 "^"，而结尾加 "$"。
                列表内缓冲区优先。如果列表内有唯一的匹配，返回该缓冲区。否则，
                继续在列表外的缓冲区里查找。
                如果 <code class="special">{buf}</code> 是字符串但想用作缓冲区号，可通过加零将它强制转化为
                数值:
<code class="example">                        :echo bufname("3" + 0)</code>
                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        echo bufnr-&gt;bufname()</code>
<code class="example"></code>
                如果缓冲区不存在，或者没有名字，返回空串。
<code class="example">        bufname("#")            轮换缓冲区名</code>
<code class="example">        bufname(3)              缓冲区 3 的名字</code>
<code class="example">        bufname("%")            当前缓冲区名</code>
<code class="example">        bufname("file2")        匹配 "file2" 的缓冲区名。</code>

                返回类型:  <a href="eval.html#String">String</a> 
                                                        <b class="vimtag"> <a name="buffer_name()">buffer_name()</a> </b>
                已废弃的名字: buffer_name()。


bufnr([<code class="special">{buf}</code> [, <code class="special">{create}</code>]])                             <b class="vimtag"> <a name="bufnr()">bufnr()</a> </b>
                返回缓冲区的编号，与 ":ls" 命令显示的一致。<code class="special">{buf}</code> 的用法见上
                 <a href="builtin.html#bufname()">bufname()</a> 。

                如果不存在符合条件的缓冲区，返回 -1。但如果提供了 <code class="special">{create}</code> 参
                数且为 TRUE，则会建立一个新的列表外缓冲区，并返回其编号。例
                如:
<code class="example">                        let newbuf = bufnr('Scratch001', 1)</code>
                空名会指定当前缓冲区。要创建带空名的新缓冲区可用  <a href="builtin.html#bufadd()">bufadd()</a> 。

                bufnr("$") 对应最后一个缓冲区:
<code class="example">                        :let last_buffer = bufnr("$")</code>
                返回当前已存在缓冲区的最大编号，类型为数值。<code class="note">注意</code> 较小的编号不
                一定对应仍存在的缓冲区，因为可能已被 ":bwipeout" 永久删除。
                 <a href="builtin.html#bufexists()">bufexists()</a>  可用来测试缓冲区是否存在。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        echo bufref-&gt;bufnr()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 

                已废弃的名字: buffer_number()。         <b class="vimtag"> <a name="buffer_number()">buffer_number()</a> </b>
                                                        <b class="vimtag"> <a name="last_buffer_nr()">last_buffer_nr()</a> </b>
                bufnr("$") 已废弃的名字: last_buffer_nr()。

bufwinid(<code class="special">{buf}</code>)                                         <b class="vimtag"> <a name="bufwinid()">bufwinid()</a> </b>
                返回数值，与缓冲区 <code class="special">{buf}</code> 相关联的首个窗口的  <a href="windows.html#window-ID">window-ID</a> 。<code class="special">{buf}</code>
                的用法见上述  <a href="builtin.html#bufname()">bufname()</a> 。如果缓冲区 <code class="special">{buf}</code> 不存在或没有对应窗
                口，返回 -1。示例:
<code class="example"></code>
<code class="example">        echo "包含缓冲区 1 的窗口是 " .. (bufwinid(1))</code>

                只处理当前标签页。要找到更多窗口可见  <a href="builtin.html#win_findbuf()">win_findbuf()</a> 。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        FindBuffer()-&gt;bufwinid()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


bufwinnr(<code class="special">{buf}</code>)                                         <b class="vimtag"> <a name="bufwinnr()">bufwinnr()</a> </b>
                类似于  <a href="builtin.html#bufwinid()">bufwinid()</a> ，但返回窗口号而不是  <a href="windows.html#window-ID">window-ID</a> 。
                如果缓冲区 <code class="special">{buf}</code> 不存在或没有对应窗口，返回 -1。例如:
<code class="example"></code>
<code class="example">        echo "包含缓冲区 1 的窗口是 " .. (bufwinnr(1))</code>
<code class="example"></code>
                该编号可用于  <a href="windows.html#CTRL-W_w">CTRL-W_w</a>  和 ":wincmd w"  <a href="windows.html#:wincmd">:wincmd</a> 。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        FindBuffer()-&gt;bufwinnr()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


byte2line(<code class="special">{byte}</code>)                                       <b class="vimtag"> <a name="byte2line()">byte2line()</a> </b>
                返回当前缓冲区第 <code class="special">{byte}</code> 个字节所在的行号。取决于当前缓冲区的
                <a href="options.html#'fileformat'">'fileformat'</a> 选项，这可以包括不同的换行符。第一个字符的字节编
                号为 1。
                另见  <a href="builtin.html#line2byte()">line2byte()</a> 、 <a href="motion.html#go">go</a>  和  <a href="motion.html#:goto">:goto</a> 。

                如果 <code class="special">{byte}</code> 值非法，返回 -1。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetOffset()-&gt;byte2line()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 

                <code class="notvi">{仅当编译时加入  <a href="various.html#+byte_offset">+byte_offset</a>  特性才有效}</code>


byteidx(<code class="special">{expr}</code>, <code class="special">{nr}</code> [, <code class="special">{utf16}</code>])                       <b class="vimtag"> <a name="byteidx()">byteidx()</a> </b>
                返回字符串 <code class="special">{expr}</code> 里第 <code class="special">{nr}</code> 个字符的字节位置。零代表第一个字
                符，此时返回零。
                如果没有多字节字符，返回值总是等于 <code class="special">{nr}</code>。
                组合字符不单独计数，其字节长度加到其前导的基础字符上。要将组合
                字符分别计数，见下  <a href="builtin.html#byteidxcomp()">byteidxcomp()</a> 。
                <code class="special">{utf16}</code> 给出且为 TRUE 时，<code class="special">{nr}</code> 用作字符串 <code class="special">{expr}</code> 的 UTF-16 索
                引，而不是字符索引。UTF-16 索引是字符串以 16 位单词编码时的索
                引。如果指定的 UTF-16 索引在某字符 (如 4-字节字符) 的内部，返
                回该字符首个字节的字节索引。详见  <a href="eval.html#string-offset-encoding">string-offset-encoding</a> 。
                例如:
<code class="example">                        echo matchstr(str, ".", byteidx(str, 3))</code>
                显示第四个字符。另一个方法也能达到相同的效果:
<code class="example">                        let s = strpart(str, byteidx(str, 3))</code>
<code class="example">                        echo strpart(s, 0, byteidx(s, 1))</code>
                另见  <a href="builtin.html#strgetchar()">strgetchar()</a>  和  <a href="builtin.html#strcharpart()">strcharpart()</a> 。

                如果字符数不足 <code class="special">{nr}</code>，返回 -1。
                如果刚好有 <code class="special">{nr}</code> 个字符，返回字符串的字节长度。
                要从字节索引相应地获取字符索引和 UTF-16 索引，见  <a href="builtin.html#charidx()">charidx()</a> 
                和  <a href="builtin.html#utf16idx()">utf16idx()</a> 。
                示例:
<code class="example">                        echo byteidx('a😊😊', 2)        返回 5</code>
<code class="example">                        echo byteidx('a😊😊', 2, 1)     返回 1</code>
<code class="example">                        echo byteidx('a😊😊', 3, 1)     返回 5</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetName()-&gt;byteidx(idx)</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


byteidxcomp(<code class="special">{expr}</code>, <code class="special">{nr}</code> [, <code class="special">{utf16}</code>])                   <b class="vimtag"> <a name="byteidxcomp()">byteidxcomp()</a> </b>
                类似于  <a href="builtin.html#byteidx()">byteidx()</a> ，但组合字符作为一个单独的字符计算。示例:
<code class="example">                        let s = 'e' .. nr2char(0x301)</code>
<code class="example">                        echo byteidx(s, 1)</code>
<code class="example">                        echo byteidxcomp(s, 1)</code>
<code class="example">                        echo byteidxcomp(s, 2)</code>
                第一个和第三个 echo 返回 3 ('e' 加上组合字符是 3 个字节)，第二
                个 echo 返回 1 ('e' 是一个字节)。
                仅当 <a href="options.html#'encoding'">'encoding'</a> 为某种 Unicode 编码时，结果才会和  <a href="builtin.html#byteidx()">byteidx()</a> 
                有所不同。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetName()-&gt;byteidxcomp(idx)</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


call(<code class="special">{func}</code>, <code class="special">{arglist}</code> [, <code class="special">{dict}</code>])                      <b class="vimtag"> <a name="call()">call()</a> </b> <b class="vimtag"> <a name="E699">E699</a> </b>
                调用函数 <code class="special">{func}</code>，使用  <a href="eval.html#List">List</a>  <code class="special">{arglist}</code> 项目作为参数。
                <code class="special">{func}</code> 可为  <a href="eval.html#Funcref">Funcref</a>  或函数名。
                调用时，a:firstline 和 a:lastline 都设为光标所在行。
                返回所调函数的返回值。
                <code class="special">{dict}</code> 用于为函数指定 "dict" 属性。用于设置局部变量 "self"。
                 <a href="eval.html#Dictionary-function">Dictionary-function</a> 

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetFunc()-&gt;call([arg, arg], dict)</code>

                返回类型: any，取决于 <code class="special">{func}</code>


ceil(<code class="special">{expr}</code>)                                            <b class="vimtag"> <a name="ceil()">ceil()</a> </b>
                返回浮点数形式的大于等于 <code class="special">{expr}</code> 的最小整数 (向上取整)。
                <code class="special">{expr}</code> 的计算结果必须是浮点数或数值。
                示例:
<code class="example">                        echo ceil(1.456)</code>
                        2.0 
<code class="example">                        echo ceil(-5.456)</code>
                        -5.0 
<code class="example">                        echo ceil(4.0)</code>
                        4.0

                如果 <code class="special">{expr}</code> 不是  <a href="eval.html#Float">Float</a>  或  <a href="eval.html#Number">Number</a> ，返回 0.0。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        Compute()-&gt;ceil()</code>

                返回类型:  <a href="eval.html#Float">Float</a> 


ch_ 函数文档在这里:  <a href="channel.html#channel-functions-details">channel-functions-details</a> 


changenr()                                              <b class="vimtag"> <a name="changenr()">changenr()</a> </b>
                返回最近的改变号。这和  <a href="undo.html#:undolist">:undolist</a>  显示的编号一致，并可用于
                 <a href="undo.html#:undo">:undo</a>  命令。
                对一般的改变，返回的是该改变的编号。对重做操作，返回的是重做改
                变的编号。而对撤销操作，返回的是撤销改变的编号减一。
                如果撤销列表为空，返回 0。

                返回类型:  <a href="eval.html#Number">Number</a> 


char2nr(<code class="special">{string}</code> [, <code class="special">{utf8}</code>])                            <b class="vimtag"> <a name="char2nr()">char2nr()</a> </b>
                返回 <code class="special">{string}</code> 首个字符，类型为数值。例如:
<code class="example">                        char2nr(" ")            返回 32</code>
<code class="example">                        char2nr("ABC")          返回 65</code>
                <code class="special">{utf8}</code> 省略或为零时，使用当前 <a href="options.html#'encoding'">'encoding'</a>。
                以 "utf-8" 为例:
<code class="example">                        char2nr("á")            返回 225</code>
<code class="example">                        char2nr("á"[0])         返回 195</code>
                <code class="special">{utf8}</code> 为 TRUE 时，总是按 UTF-8 字符处理。
                组合字符当作单独的字符。
                 <a href="builtin.html#nr2char()">nr2char()</a>  是其逆操作。
                要把字符串转换为字符对应数值的列表:
<code class="example">                    let str = "ABC"</code>
<code class="example">                    let list = map(split(str, '\zs'), {_, val -&gt; char2nr(val)})</code>
                结果是: [65, 66, 67]

                如果 <code class="special">{string}</code> 不是字符串型，返回 0。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetChar()-&gt;char2nr()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


charclass(<code class="special">{string}</code>)                                     <b class="vimtag"> <a name="charclass()">charclass()</a> </b>
                返回 <code class="special">{string}</code> 首个字符的字符类。
                字符类为以下之一:
                        0       空白
                        1       标点
                        2       单词字符 (取决于 <a href="options.html#'iskeyword'">'iskeyword'</a>)
                        3       表情符号
                        其它    特定 Unicode 类 (<code class="vim">译者注</code>:
                                中日韩统一表意文字      0x4e00，或 19968
                                上标字符                0x2070，或 8304
                                下标字符                0x2080，或 8320
                                盲文                    0x2800，或 10240
                                平假名                  0x3040，或 12352
                                片假名                  0x30a0，或 12448
                                谚文音节                0xac00，或 44032
                                )
                此类用于模式匹配和单词动作。
                如果 <code class="special">{string}</code> 不是字符串型，返回 0。

                返回类型:  <a href="eval.html#Number">Number</a> 


charcol(<code class="special">{expr}</code> [, <code class="special">{winid}</code>])                             <b class="vimtag"> <a name="charcol()">charcol()</a> </b>
                同  <a href="builtin.html#col()">col()</a> ，但返回 <code class="special">{expr}</code> 给出的列位置的字符索引，而非字节索
                引。

                示例:
                当光标在第五行文本 "여보세요" 的 '세' 时:
<code class="example">                        charcol('.')            返回 3</code>
<code class="example">                        col('.')                返回 7</code>
<code class="example"></code>
                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetPos()-&gt;col()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


charidx(<code class="special">{string}</code>, <code class="special">{idx}</code> [, <code class="special">{countcc}</code> [, <code class="special">{utf16}</code>]])      <b class="vimtag"> <a name="charidx()">charidx()</a> </b>
                返回 <code class="special">{string}</code> 里第 <code class="special">{idx}</code> 个字节所属字符的索引。
                首个字符的索引为零。
                如果字符串里不含多字节字符，返回值等于 <code class="special">{idx}</code>。

                <code class="special">{countcc}</code> 省略或  <a href="eval.html#FALSE">FALSE</a>  时，组合字符不单独计算，其字节长度会
                加到前导的基本字符上。
                <code class="special">{countcc}</code> 为  <a href="eval.html#TRUE">TRUE</a>  时，组合字符算作单独的字符。

                <code class="special">{utf16}</code> 给出且为 TRUE 时，<code class="special">{idx}</code> 用作 <code class="special">{string}</code> 的 UTF-16 索引，
                而非字节索引。

                如果参数非法或字节数不足 <code class="special">{idx}</code>，返回 -1。如果正好有 <code class="special">{idx}</code> 个字
                节，返回字符串的字符长度。

                如果首个参数不是字符串、第二个参数不是数值或第三个参数存在且非
                零或一，报错。

                想了解如何从字符索引得到字节索引，可参见  <a href="builtin.html#byteidx()">byteidx()</a>  和
                 <a href="builtin.html#byteidxcomp()">byteidxcomp()</a> ，而要从字符索引得到 UTF-16 索引，可见
                 <code class="badlink">utf16idx</code> 。
                详见  <a href="eval.html#string-offset-encoding">string-offset-encoding</a> 。
                示例:
<code class="example">                        echo charidx('áb́ć', 3)            返回 1</code>
<code class="example">                        echo charidx('áb́ć', 6, 1) 返回 4</code>
<code class="example">                        echo charidx('áb́ć', 16)           返回 -1</code>
<code class="example">                        echo charidx('a😊😊', 4, 0, 1)  返回 2</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetName()-&gt;charidx(idx)</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


chdir(<code class="special">{dir}</code> [, <code class="special">{scope}</code>])                                <b class="vimtag"> <a name="chdir()">chdir()</a> </b>
                将当前工作目录切换为 <code class="special">{dir}</code>。改变目录的作用域见下:
                <code class="special">{scope}</code> 省略时，根据当前目录的作用域来切换当前工作目录:
                    - 如果设置了窗口局部目录 ( <a href="editing.html#:lcd">:lcd</a> )，则在该作用域里改变当前
                      工作目录。
                    - 否则，如果设置了标签页局部目录 ( <a href="editing.html#:tcd">:tcd</a> )，则在该作用域里
                      改变当前工作目录。
                    - 再不然，改变全局目录。

                <code class="special">{scope}</code> 给出时，只为其指定的作用域改变当前工作目录:
                    "window"    改变窗口局部目录。 <a href="editing.html#:lcd">:lcd</a> 
                    "tabpage"   改变标签页局部目录。 <a href="editing.html#:tcd">:tcd</a> 
                    "global"    改变全局目录。 <a href="editing.html#:cd">:cd</a> 

                <code class="special">{dir}</code> 必须为字符串。
                如果成功，返回上次的工作目录。把它传给下一个 chdir() 可以恢复
                上次目录。
                如果失败，返回空串。

                示例:
<code class="example">                        let save_dir = chdir(newdir)</code>
<code class="example">                        if save_dir != ""</code>
<code class="example">                           " ... 做点事</code>
<code class="example">                           call chdir(save_dir)</code>
<code class="example">                        endif</code>
<code class="example"></code>
                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetDir()-&gt;chdir()</code>

                返回类型:  <a href="eval.html#String">String</a> 


cindent(<code class="special">{lnum}</code>)                                         <b class="vimtag"> <a name="cindent()">cindent()</a> </b>
                返回第 <code class="special">{lnum}</code> 行根据 C 缩进规则应有的缩进量，见 <a href="options.html#'cindent'">'cindent'</a>。
                缩进以空格计，因而与 <a href="options.html#'tabstop'">'tabstop'</a> 的值相关。<code class="special">{lnum}</code> 的用法可见
                 <a href="builtin.html#getline()">getline()</a> 。
                如果 <code class="special">{lnum}</code> 非法，返回 -1。
                参见  <a href="indent.html#C-indenting">C-indenting</a> 。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetLnum()-&gt;cindent()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


clearmatches([<code class="special">{win}</code>])                                   <b class="vimtag"> <a name="clearmatches()">clearmatches()</a> </b>
                清除当前窗口中之前通过  <a href="builtin.html#matchadd()">matchadd()</a>  和  <a href="pattern.html#:match">:match</a>  命令定义的所有
                匹配。
                当 <code class="special">{win}</code> 存在时，使用对应窗口号或窗口 ID 的窗口，而非默认的当
                前窗口。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetWin()-&gt;clearmatches()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


cmdcomplete_info()                                      <b class="vimtag"> <a name="cmdcomplete_info()">cmdcomplete_info()</a> </b>
                返回类型为  <a href="eval.html#Dictionary">Dictionary</a>  的命令行补全信息。见
                 <a href="cmdline.html#cmdline-completion">cmdline-completion</a> 。
                其中的项目有:
                   cmdline_orig 补全开始前原始的命令行字符串。
                   pum_visible  弹出菜单可见则为  <a href="eval.html#TRUE">TRUE</a> 。
                                见  <a href="builtin.html#pumvisible()">pumvisible()</a> 。
                   matches      所有补全候选组成的列表。每个项目都是字符串。
                   selected     选中项目的索引。首个项目的索引值为零。如果没选
                                中任何项目 (仅显示输入文本，或者在按 <code class="special">&lt;Up&gt;</code> 或
                                <code class="special">&lt;Down&gt;</code> 键查找历史记录时没有选中任何项目而重新
                                显示最近一次补全)，此值为 -1

                如果没有尝试过补全、只有一个候选且已完整提供、或者出了错，返回
                空  <a href="eval.html#Dictionary">Dictionary</a> 。

                返回类型: dict<code class="special">&lt;any&gt;</code>


col(<code class="special">{expr}</code> [, <code class="special">{winid}</code>])                                 <b class="vimtag"> <a name="col()">col()</a> </b>
                返回 <code class="special">{expr}</code> 给定的列位置的字节索引，类型为数值。
                可接受的位置参见  <a href="builtin.html#getpos()">getpos()</a> 。
                <code class="special">{expr}</code> 为 "$" 表示光标行的行尾，此时返回光标行的字节总数加一。
                <code class="special">{expr}</code> 也可以是形如 [lnum, col] 的  <a href="eval.html#List">List</a> ，包含行号和列号。常
                用于指定列号为 "$" 以得到特定行的末列列号。如果 "lnum" 或
                "col" 超出范围，col() 返回零。

                可选的 <code class="special">{winid}</code> 参数表示从指定窗口而非从当前窗口中取值。

                若需行号，可用  <a href="builtin.html#line()">line()</a> 。若同时需要行列号，可用  <a href="builtin.html#getpos()">getpos()</a> 。
                若需屏幕列位置，可用  <a href="builtin.html#virtcol()">virtcol()</a> 。而若需字符位置，可用
                 <a href="builtin.html#charcol()">charcol()</a> 。

                <code class="note">注意</code> 只能使用当前文件的位置标记。

                例如:
<code class="example">                        col(".")                光标所在列</code>
<code class="example">                        col("$")                光标行的长度加 1</code>
<code class="example">                        col("'t")               位置标记 t 的列号</code>
<code class="example">                        col("'" .. markname)    名为 markname 的位置标记的列号</code>

                首列的列号为 1。如果 <code class="special">{expr}</code> 非法或 ID 为 <code class="special">{winid}</code> 的窗口不存
                在，返回 0。
                大写位置标记所指的列可能实际位于另一个缓冲区中。
                激活 <a href="options.html#'virtualedit'">'virtualedit'</a> 时，如果光标位于行尾之后，返回的光标所在列
                位置为行尾列号加一。此外，使用 <code class="special">&lt;Cmd&gt;</code> 的映射不移动光标，可以利
                用此一特性获取插入模式下的列号:
<code class="example">                        :imap &lt;F2&gt; &lt;Cmd&gt;echowin col(".")&lt;CR&gt;</code>
<code class="example"></code>
                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetPos()-&gt;col()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


complete(<code class="special">{startcol}</code>, <code class="special">{matches}</code>)                         <b class="vimtag"> <a name="complete()">complete()</a> </b> <b class="vimtag"> <a name="E785">E785</a> </b>
                设置插入模式补全的匹配项列表。只能用于插入模式。通常在
                <code class="keystroke">CTRL-R</code> = 的映射里调用 (见  <a href="insert.html#i_CTRL-R">i_CTRL-R</a> )，在  <a href="map.html#%3CCmd%3E">&lt;Cmd&gt;</a>  或
                 <a href="map.html#%3CScriptCmd%3E">&lt;ScriptCmd&gt;</a>  映射里调用也可。但不能在 <code class="keystroke">CTRL-O</code> 之后或表达式映射
                里使用。
                <code class="special">{startcol}</code> 是行内待补全文本的起始字节偏移。从此位置到光标为止
                的文本为原始文本，将要被匹配内容替代。这里用 col('.') 会得到空
                串。而用 "col('.') - 1" 将使单个字符被匹配内容替代。
                <code class="special">{matches}</code> 必须是  <a href="eval.html#List">List</a> 。其中每个  <a href="eval.html#List">List</a>  项目是一个匹配项。
                 <a href="insert.html#complete-items">complete-items</a>  说明匹配项可能的类型。忽略 <a href="options.html#'completeopt'">'completeopt'</a> 里的
                "longest"。
                <code class="note">注意</code> 调用本函数后，不应插入任何会导致补全停止的内容。
                像普通插入模式补全一样，可通过 <code class="keystroke">CTRL-N</code> 和 <code class="keystroke">CTRL-P</code> 选择匹配项。如
                果设置了相关选项，会显示弹出菜单，见  <a href="insert.html#ins-completion-menu">ins-completion-menu</a> 。

                示例 (使用老式 Vim 脚本):
<code class="example"></code>
<code class="example">                inoremap &lt;F5&gt; &lt;C-R&gt;=ListMonths()&lt;CR&gt;</code>
<code class="example"></code>
<code class="example">                func ListMonths()</code>
<code class="example">                  call complete(col('.'), ['January', 'February', 'March',</code>
<code class="example">                        \ 'April', 'May', 'June', 'July', 'August',</code>
<code class="example">                        \ 'September', 'October', 'November', 'December'])</code>
<code class="example">                  return ''</code>
<code class="example">                endfunc</code>

                示例 (使用 Vim9 脚本):
<code class="example"></code>
<code class="example">                vim9script</code>
<code class="example">                def ListMonths(): string</code>
<code class="example">                  const months = [ 'January', 'February', 'March', 'April',</code>
<code class="example">                        'May', 'June', 'July', 'September', 'October',</code>
<code class="example">                        'November', 'December']</code>
<code class="example">                  complete(col('.'), months)</code>
<code class="example">                  return ''</code>
<code class="example">                enddef</code>
<code class="example"></code>
<code class="example">                inoremap &lt;F5&gt; &lt;ScriptCmd&gt;ListMonths()&lt;CR&gt;</code>
<code class="example"></code>
                此例用途有限，但可用于演示功能。<code class="note">注意</code> 此处返回空串，不然就会插
                入一个零。

                也可用作  <a href="eval.html#method">method</a> ，基是作为第二个参数传递的:
<code class="example">                        GetMatches()-&gt;complete(col('.'))</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


complete_add(<code class="special">{expr}</code>)                                    <b class="vimtag"> <a name="complete_add()">complete_add()</a> </b>
                把 <code class="special">{expr}</code> 添加到匹配列表中。只能在用 <a href="options.html#'completefunc'">'completefunc'</a> 选项指定的
                函数中调用。
                失败时 (值为空串或者内存不足) 返回 0，匹配成功加入时返回 1，如
                果匹配已在列表中，返回 2。
                 <a href="insert.html#complete-functions">complete-functions</a>  有 <code class="special">{expr}</code> 的用法说明。与 <a href="options.html#'omnifunc'">'omnifunc'</a> 返回
                的列表中的单个项目相同。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetMoreMatches()-&gt;complete_add()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


complete_check()                                        <b class="vimtag"> <a name="complete_check()">complete_check()</a> </b>
                在寻找补全匹配时，检查输入的键。当匹配搜索可能耗时较长时使用。
                如果匹配的搜索被中止，返回  <a href="eval.html#TRUE">TRUE</a> 。否则返回零。
                只能在用 <a href="options.html#'completefunc'">'completefunc'</a> 选项指定的函数中调用。

                返回类型:  <a href="eval.html#Number">Number</a> 


complete_info([<code class="special">{what}</code>])                                 <b class="vimtag"> <a name="complete_info()">complete_info()</a> </b>
                返回插入模式补全信息的  <a href="eval.html#Dictionary">Dictionary</a> 。见  <a href="insert.html#ins-completion">ins-completion</a> 。
                其中包含的项目有:
                   completed    返回字典，包含当前选中项目在 "items" 中列出的
                                所有条目。
                   items        包含所有补全备选的列表。每个项目是一个字典，包
                                含 "word"、"abbr"、"menu"、"kind"、"info" 和
                                "user_data" 条目。
                                见  <a href="insert.html#complete-items">complete-items</a> 。
                   matches      类似于 "items"，但只返回匹配当前查询的项目。如
                                果 "what" 里同时要求 "matches" 和 "items"，会
                                返回单个名叫 "items" 的列表，但每个项目会有一
                                个额外的 "match" 字段。
                   mode         包含当前补全模式名的字符串。
                                可用值见  <a href="builtin.html#complete_info_mode">complete_info_mode</a> 。
                   preinserted_text
                                预插入的实际文本，见  <a href="builtin.html#preinserted()">preinserted()</a> 。
                   pum_visible  弹出菜单可见则为  <a href="eval.html#TRUE">TRUE</a> 。
                                见  <a href="builtin.html#pumvisible()">pumvisible()</a> 。
                   selected     选中项目的索引。首个项目的索引为零。如果没有选
                                中的项目(仅显示输入文本，或者在按 <code class="special">&lt;Up&gt;</code> 或
                                <code class="special">&lt;Down&gt;</code> 键时没有选中任何项目而重新显示最近一次
                                补全)，此值为 -1

                                                        <b class="vimtag"> <a name="complete_info_mode">complete_info_mode</a> </b>
                mode 值是:
                   ""                不处于任何补全模式
                   "keyword"         关键字补全  <a href="insert.html#i_CTRL-X_CTRL-N">i_CTRL-X_CTRL-N</a> 
                   "ctrl_x"          刚按下 <code class="keystroke">CTRL-X</code>  <a href="insert.html#i_CTRL-X">i_CTRL-X</a> 
                   "scroll"           <a href="insert.html#i_CTRL-X_CTRL-E">i_CTRL-X_CTRL-E</a>  或  <a href="insert.html#i_CTRL-X_CTRL-Y">i_CTRL-X_CTRL-Y</a>  滚
                                     动
                   "whole_line"      整行  <a href="insert.html#i_CTRL-X_CTRL-L">i_CTRL-X_CTRL-L</a> 
                   "files"           文件名  <a href="insert.html#i_CTRL-X_CTRL-F">i_CTRL-X_CTRL-F</a> 
                   "tags"            标签  <a href="insert.html#i_CTRL-X_CTRL-]">i_CTRL-X_CTRL-]</a> 
                   "path_defines"    定义补全  <a href="insert.html#i_CTRL-X_CTRL-D">i_CTRL-X_CTRL-D</a> 
                   "path_patterns"   头文件补全  <a href="insert.html#i_CTRL-X_CTRL-I">i_CTRL-X_CTRL-I</a> 
                   "dictionary"      字典  <a href="insert.html#i_CTRL-X_CTRL-K">i_CTRL-X_CTRL-K</a> 
                   "thesaurus"       同义词词典  <a href="insert.html#i_CTRL-X_CTRL-T">i_CTRL-X_CTRL-T</a> 
                   "cmdline"         Vim 命令行  <a href="insert.html#i_CTRL-X_CTRL-V">i_CTRL-X_CTRL-V</a> 
                   "function"        用户定义补全  <a href="insert.html#i_CTRL-X_CTRL-U">i_CTRL-X_CTRL-U</a> 
                   "omni"            全能补全  <a href="insert.html#i_CTRL-X_CTRL-O">i_CTRL-X_CTRL-O</a> 
                   "spell"           拼写建议  <a href="insert.html#i_CTRL-X_s">i_CTRL-X_s</a> 
                   "eval"             <a href="builtin.html#complete()">complete()</a>  补全
                   "register"        寄存器中的单词  <a href="insert.html#i_CTRL-X_CTRL-R">i_CTRL-X_CTRL-R</a> 
                   "unknown"         其它内部模式

                提供可选的 <code class="special">{what}</code> 列表参数时，仅返回 <code class="special">{what}</code> 中列出的项目。
                <code class="special">{what}</code> 中不支持的项目被安静跳过。

                要获取弹出菜单的位置和大小，可见  <a href="builtin.html#pum_getpos()">pum_getpos()</a> 。也可以通过
                 <a href="autocmd.html#CompleteChanged">CompleteChanged</a>  事件中的  <a href="eval.html#v:event">v:event</a>  得到。

                如果出错，返回空  <a href="eval.html#Dictionary">Dictionary</a> 。

                示例:
<code class="example">                        " 取得所有项目</code>
<code class="example">                        call complete_info()</code>
<code class="example">                        " 只要 'mode'</code>
<code class="example">                        call complete_info(['mode'])</code>
<code class="example">                        " 只要 'mode' 和 'pum_visible'</code>
<code class="example">                        call complete_info(['mode', 'pum_visible'])</code>
<code class="example"></code>
                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetItems()-&gt;complete_info()</code>

                返回类型: dict<code class="special">&lt;any&gt;</code>


complete_match([<code class="special">{lnum}</code>, <code class="special">{col}</code>])                         <b class="vimtag"> <a name="complete_match()">complete_match()</a> </b>
                从给定位置开始反向查找，返回根据 <a href="options.html#'isexpand'">'isexpand'</a> 选项找到的匹配列
                表。没有提供参数时，缺省使用当前光标位置。

                每个匹配项表示为 [startcol, trigger_text]，其中:
                - startcol: 补全应开始的列号，如果未找到触发器位置，则为 -1。
                  而对多字符触发器，返回其首个字符的列号。
                - trigger_text: 匹配 <a href="options.html#'isexpand'">'isexpand'</a> 的触发器字符串，如果未找到匹配
                  或使用了缺省基于 <a href="options.html#'iskeyword'">'iskeyword'</a> 的模式，则为空串。

                <a href="options.html#'isexpand'">'isexpand'</a> 为空时，使用基于 <a href="options.html#'iskeyword'">'iskeyword'</a> 的模式 "\k\+$" 来查找
                当前关键字的开始位置。

                示例:
<code class="example">        set isexpand=.,-&gt;,/,/*,abc</code>
<code class="example">        func CustomComplete()</code>
<code class="example">          let res = complete_match()</code>
<code class="example">          if res-&gt;len() == 0 | return | endif</code>
<code class="example">          let [col, trigger] = res[0]</code>
<code class="example">          let items = []</code>
<code class="example">          if trigger == '/*'</code>
<code class="example">            let items = ['/** */']</code>
<code class="example">          elseif trigger == '/'</code>
<code class="example">            let items = ['/*! */', '// TODO:', '// fixme:']</code>
<code class="example">          elseif trigger == '.'</code>
<code class="example">            let items = ['length()']</code>
<code class="example">          elseif trigger =~ '^\-&gt;'</code>
<code class="example">            let items = ['map()', 'reduce()']</code>
<code class="example">          elseif trigger =~ '^\abc'</code>
<code class="example">            let items = ['def', 'ghk']</code>
<code class="example">          endif</code>
<code class="example">          if items-&gt;len() &gt; 0</code>
<code class="example">            let startcol = trigger =~ '^/' ? col : col + len(trigger)</code>
<code class="example">            call complete(startcol, items)</code>
<code class="example">          endif</code>
<code class="example">        endfunc</code>
<code class="example">        inoremap &lt;Tab&gt; &lt;Cmd&gt;call CustomComplete()&lt;CR&gt;</code>

                返回类型: list&lt;list<code class="special">&lt;any&gt;</code>&gt;


confirm(<code class="special">{msg}</code> [, <code class="special">{choices}</code> [, <code class="special">{default}</code> [, <code class="special">{type}</code>]]])   <b class="vimtag"> <a name="confirm()">confirm()</a> </b>
                confirm() 弹出对话框，让用户从中进行选择。返回选项的序号。首个
                个选项的序号为 1。
                <code class="note">注意</code>: 仅当编译时加入对话框支持，confirm() 才可用，见
                 <a href="various.html#+dialog_con">+dialog_con</a> 、 <a href="various.html#+dialog_con_gui">+dialog_con_gui</a>  和  <a href="various.html#+dialog_gui">+dialog_gui</a> 。

                在  <a href="gui_w32.html#dialog">dialog</a>  里显示 <code class="special">{msg}</code> 消息，并提供可能的选项 <code class="special">{choices}</code>。
                <code class="special">{choices}</code> 不存在或为空时，缺省使用 "&amp;OK" (会经过翻译)。
                <code class="special">{msg}</code> 是字符串，其中 '\n' 用于换行。在有些系统上，字符串显示不
                下时会自动回绕，但并非所有系统都如此。

                <code class="special">{choices}</code> 是字符串，其中 '\n' 用于分隔各个选项，例如
<code class="example">                        confirm("Save changes?", "&amp;Yes\n&amp;No\n&amp;Cancel")</code>
                '&amp;' 之后的字符用作快捷键。例如，可以输入 'c' 来选择 "Cancel"。
                快捷键不必是首字符:
<code class="example">                        confirm("file has been modified", "&amp;Save\nSave &amp;All")</code>
                控制台里，每个选项的首个字符用作缺省的快捷键。忽略大小写。

                可选的 <code class="special">{default}</code> 参数指定按 <code class="special">&lt;CR&gt;</code> 时使用的选项序号。1 使得首选
                项成为缺省，0 则不设定任何缺省。<code class="special">{default}</code> 省略时，默认值为 1。

                可选的 <code class="special">{type}</code> 字符串参数指定对话框的类型。仅在 GTK、Mac、Motif
                和 Win32 GUI 上生效，用于指定图标。可选值为: "Error"、
                "Question"、"Info"、"Warning" 或 "Generic"。仅首字符起作用。
                <code class="special">{type}</code> 省略时，默认值为 "Generic"。

                如果用户按 <code class="special">&lt;Esc&gt;</code>、<code class="keystroke">CTRL-C</code> 或其它合法的中断键中止了对话框，
                confirm() 返回 0。

                示例:
<code class="example">                   let choice = confirm("想吃点什么？",</code>
<code class="example">                                        \ "苹果(&amp;A)\n桔子(&amp;O)\n香蕉(&amp;B)", 2)</code>
<code class="example">                   if choice == 0</code>
<code class="example">                        echo "快下定决心！"</code>
<code class="example">                   elseif choice == 3</code>
<code class="example">                        echo "好吃"</code>
<code class="example">                   else</code>
<code class="example">                        echo "我还是喜欢香蕉。"</code>
<code class="example">                   endif</code>
                GUI 对话框使用按钮。按钮的排列方式取决于 <a href="options.html#'guioptions'">'guioptions'</a> 中的 'v'
                标志位。如果包含，按钮总为竖排。否则，confirm() 会先尝试横向排
                列按钮。放不下时，再改为竖排。有的系统上，无论设置如何，总为横
                排。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        BuildMessage()-&gt;confirm("&amp;Yes\n&amp;No")</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


copy(<code class="special">{expr}</code>)                                            <b class="vimtag"> <a name="copy()">copy()</a> </b>
                构造 <code class="special">{expr}</code> 的备份。对于数值和字符串，这与直接使用 <code class="special">{expr}</code> 并无
                不同。
                <code class="special">{expr}</code> 为  <a href="eval.html#List">List</a>  时，建立一个浅备份。这意味着原  <a href="eval.html#List">List</a>  上的修
                改不会影响新建的备份。反之亦然。不过，各项目共用同一对象，所以
                项目的修改会同时影响两个  <a href="eval.html#List">List</a> 。
                 <a href="eval.html#Tuple">Tuple</a>  或  <a href="eval.html#Dictionary">Dictionary</a>  的复制方式与  <a href="eval.html#List">List</a>  类同。
                另见  <a href="builtin.html#deepcopy()">deepcopy()</a> 。
                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        mylist-&gt;copy()</code>

                返回类型: any，取决于 <code class="special">{expr}</code>


cos(<code class="special">{expr}</code>)                                             <b class="vimtag"> <a name="cos()">cos()</a> </b>
                返回以弧度测量的 <code class="special">{expr}</code> 的余弦值，类型为  <a href="eval.html#Float">Float</a> 。
                <code class="special">{expr}</code> 的计算结果必须是  <a href="eval.html#Float">Float</a>  或  <a href="eval.html#Number">Number</a> 。否则返回 0.0。
                示例:
<code class="example">                        :echo cos(100)</code>
                        0.862319
<code class="example">                        :echo cos(-4.01)</code>
                        -0.646043

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        Compute()-&gt;cos()</code>

                返回类型:  <a href="eval.html#Float">Float</a> 


cosh(<code class="special">{expr}</code>)                                            <b class="vimtag"> <a name="cosh()">cosh()</a> </b>
                返回 <code class="special">{expr}</code> 的双曲余弦值，类型为  <a href="eval.html#Float">Float</a> ，范围在 [1, inf] 之
                间。
                <code class="special">{expr}</code> 的计算结果必须是  <a href="eval.html#Float">Float</a>  或  <a href="eval.html#Number">Number</a> 。否则返回 0.0。
                示例:
<code class="example">                        :echo cosh(0.5)</code>
                        1.127626
<code class="example">                        :echo cosh(-0.5)</code>
                        -1.127626

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        Compute()-&gt;cosh()</code>

                返回类型:  <a href="eval.html#Float">Float</a> 


count(<code class="special">{comp}</code>, <code class="special">{expr}</code> [, <code class="special">{ic}</code> [, <code class="special">{start}</code>]])              <b class="vimtag"> <a name="count()">count()</a> </b> <b class="vimtag"> <a name="E706">E706</a> </b>
                返回  <a href="eval.html#String">String</a> 、 <a href="eval.html#List">List</a> 、 <a href="eval.html#Tuple">Tuple</a>  或  <a href="eval.html#Dictionary">Dictionary</a>  类型的 <code class="special">{comp}</code>
                中，等于 <code class="special">{expr}</code> 的元素个数。

                <code class="special">{start}</code> 给出时，从该索引指定的项目开始。<code class="special">{start}</code> 只能用于
                 <a href="eval.html#List">List</a>  或  <a href="eval.html#Tuple">Tuple</a> 。

                <code class="special">{ic}</code> 给出且为  <a href="eval.html#TRUE">TRUE</a>  时，忽略大小写。

                <code class="special">{comp}</code> 为字符串时返回 <code class="special">{expr}</code> 不重叠出现的次数。<code class="special">{expr}</code> 为空串时
                返回零。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        mylist-&gt;count(val)</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


cscope_connection([<code class="special">{num}</code> , <code class="special">{dbpath}</code> [, <code class="special">{prepend}</code>]])     <b class="vimtag"> <a name="cscope_connection()">cscope_connection()</a> </b>
                检查  <a href="if_cscop.html#cscope">cscope</a>  连接是否存在。无参数时，函数返回:
                        0，表示 cscope 不可用 (编译时未启用该特性) 或者没有任
                           何 cscope 连接；
                        1，表示至少存在一个 cscope 连接。

                参数给出时，<code class="special">{num}</code> 值指定 cscope 连接是否存在的检查方式:

<code class="section">                <code class="special">{num}</code>   存在检查方式的描述 </code>
                -----   ------------------------------
                0       等同于无参数 (例如，"cscope_connection()")。
                1       忽略 <code class="special">{prepend}</code>，部分匹配 <code class="special">{dbpath}</code> 字符串。
                2       忽略 <code class="special">{prepend}</code>，完整匹配 <code class="special">{dbpath}</code> 字符串。
                3       使用 <code class="special">{prepend}</code>，部分匹配 <code class="special">{dbpath}</code> 和 <code class="special">{prepend}</code> 字符
                        串。
                4       使用 <code class="special">{prepend}</code>，完整匹配 <code class="special">{dbpath}</code> 和 <code class="special">{prepend}</code> 字符
                        串。

                <code class="note">注意</code>: 所有字符串比较均对大小写敏感！

                示例。假定我们有如下设置 (来自 ":cs show" 的输出):
<code class="example"></code>
<code class="example">  # pid    database name                        prepend path</code>
<code class="example">  0 27664  cscope.out                           /usr/local</code>

<code class="section">                启动方式                                           返回值 </code>
                ----------                                      ----------
<code class="example">                cscope_connection()                                     1</code>
<code class="example">                cscope_connection(1, "out")                             1</code>
<code class="example">                cscope_connection(2, "out")                             0</code>
<code class="example">                cscope_connection(3, "out")                             0</code>
<code class="example">                cscope_connection(3, "out", "local")                    1</code>
<code class="example">                cscope_connection(4, "out")                             0</code>
<code class="example">                cscope_connection(4, "out", "local")                    0</code>
<code class="example">                cscope_connection(4, "cscope.out", "/usr/local")        1</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


cursor(<code class="special">{lnum}</code>, <code class="special">{col}</code> [, <code class="special">{off}</code>])                         <b class="vimtag"> <a name="cursor()">cursor()</a> </b>
cursor(<code class="special">{list}</code>)
                定位光标到第 <code class="special">{lnum}</code> 行第 <code class="special">{col}</code> 列 (按字节计数)。首列列号为 1。

                只有一个参数 <code class="special">{list}</code> 时，用作带两、三或四个参数的  <a href="eval.html#List">List</a> :
                        [<code class="special">{lnum}</code>, <code class="special">{col}</code>]
                        [<code class="special">{lnum}</code>, <code class="special">{col}</code>, <code class="special">{off}</code>]
                        [<code class="special">{lnum}</code>, <code class="special">{col}</code>, <code class="special">{off}</code>, <code class="special">{curswant}</code>]
                这与  <a href="builtin.html#getpos()">getpos()</a>  和  <a href="builtin.html#getcurpos()">getcurpos()</a>  的返回值类似，但不包含第一
                项。

                要按字符计数使用 <code class="special">{col}</code> 来定位光标，可用  <a href="builtin.html#setcursorcharpos()">setcursorcharpos()</a> 。

                不改变跳转表。
                <code class="special">{lnum}</code> 的用法可见  <a href="builtin.html#getline()">getline()</a> ，但 <code class="special">{lnum}</code> 为零除外，此时光标留
                在当前行。
                如果 <code class="special">{lnum}</code> 超过缓冲区的总行数，光标定位在缓冲区末行。
                如果 <code class="special">{col}</code> 超过该行的字节总数，光标定位在该行的末字符上。
                如果 <code class="special">{col}</code> 为零，光标留在当前列。
                <code class="special">{curswant}</code> 给出时，用于设置垂直移动的首选列，否则使用 <code class="special">{col}</code>。

                <a href="options.html#'virtualedit'">'virtualedit'</a> 激活时，<code class="special">{off}</code> 指定从该字符开始按屏幕列计算的偏
                移量。例如 <code class="special">&lt;Tab&gt;</code> 内部或行尾之后的位置。
                定位成功时返回 0，否则返回 -1。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetCursorPos()-&gt;cursor()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


debugbreak(<code class="special">{pid}</code>)                                       <b class="vimtag"> <a name="debugbreak()">debugbreak()</a> </b>
                专用于中断正在调试的程序。会向进程 <code class="special">{uid}</code> 发送 SIGTRAP。其它进
                程的行为未定义。见  <a href="terminal.html#terminal-debugger">terminal-debugger</a> 。
                <code class="notvi">{仅适用于 MS-Windows}</code>

                成功中断了程序会返回  <a href="eval.html#TRUE">TRUE</a> 。否则返回  <a href="eval.html#FALSE">FALSE</a> 。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetPid()-&gt;debugbreak()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


deepcopy(<code class="special">{expr}</code> [, <code class="special">{noref}</code>])                            <b class="vimtag"> <a name="deepcopy()">deepcopy()</a> </b> <b class="vimtag"> <a name="E698">E698</a> </b>
                构造 <code class="special">{expr}</code> 的备份。对于数值和字符串，这与直接使用 <code class="special">{expr}</code> 并无
                不同。
                <code class="special">{expr}</code> 为  <a href="eval.html#List">List</a>  时，建立一个完整备份。这意味着原  <a href="eval.html#List">List</a>  上的
                修改不会影响新建的备份。反之亦然。 <a href="eval.html#List">List</a>  或  <a href="eval.html#Dictionary">Dictionary</a>  项目
                会递归建立备份。这样，修改备份项目就不会影响原  <a href="eval.html#List">List</a>  里的项
                目。
                 <a href="eval.html#Tuple">Tuple</a>  或  <a href="eval.html#Dictionary">Dictionary</a>  的复制方式与  <a href="eval.html#List">List</a>  类同。

                <code class="special">{noref}</code> 省略或为零时，内含的  <a href="eval.html#List">List</a>  或  <a href="eval.html#Dictionary">Dictionary</a>  只复制一
                次。所有引用都指向同一副本。而 <code class="special">{noref}</code> 为 1 时，每出现一次
                 <a href="eval.html#List">List</a>  或  <a href="eval.html#Dictionary">Dictionary</a>  都会生成一个新的副本。此时如果存在循环
                引用，deepcopy() 将会失败。
                                                        <b class="vimtag"> <a name="E724">E724</a> </b>
                嵌套可达 100 层。如果有项目层级超过最大深度且 <code class="special">{noref}</code> 为 1，深
                备份会失败。
                另见  <a href="builtin.html#copy()">copy()</a> 。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetObject()-&gt;deepcopy()</code>

                返回类型: any，取决于 <code class="special">{expr}</code>


delete(<code class="special">{fname}</code> [, <code class="special">{flags}</code>])                             <b class="vimtag"> <a name="delete()">delete()</a> </b>
                <code class="special">{flags}</code> 省略或为空时: 删除名为 <code class="special">{fname}</code> 的文件。

                <code class="special">{fname}</code> 可为符号链接。删除的是符号链接本身，而非其指向的文件。

                <code class="special">{flags}</code> 是 "d" 时: 删除名为 <code class="special">{fname}</code> 的目录。如果目录 <code class="special">{fname}</code>
                非空，操作会失败。

                <code class="special">{flags}</code> 是 "rf" 时: 递归删除名为 <code class="special">{fname}</code> 的目录和其下的所有文
                件。 <code class="emphasis">操作需谨慎</code> ！
                <code class="note">备注</code>: 在 MS-Windows 上，无法删除正在使用的目录。

                返回类型为数值。成功删除文件时返回 0/false，失败或部分失败时返
                回 -1/true。

                要从  <a href="eval.html#List">List</a>  里删除项目，请用  <a href="builtin.html#remove()">remove()</a> 。
                要删除缓冲区行，可用  <a href="change.html#:delete">:delete</a>  或  <a href="builtin.html#deletebufline()">deletebufline()</a> 。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetName()-&gt;delete()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


deletebufline(<code class="special">{buf}</code>, <code class="special">{first}</code> [, <code class="special">{last}</code>])                <b class="vimtag"> <a name="deletebufline()">deletebufline()</a> </b>
                删除缓冲区 <code class="special">{buf}</code> 中第 <code class="special">{first}</code> 到 <code class="special">{last}</code> (闭区间) 文本行。
                <code class="special">{last}</code> 省略时，只删除第 <code class="special">{first}</code> 行。
                成功时返回 0，失败时返回 1。

                本函数只能用于已加载的缓冲区。如有必要，可先调用  <a href="builtin.html#bufload()">bufload()</a> 。

                <code class="special">{buf}</code> 的用法见上述的  <a href="builtin.html#bufname()">bufname()</a> 。

                <code class="special">{first}</code> 和 <code class="special">{last}</code> 的用法可见  <a href="builtin.html#getline()">getline()</a> 。<code class="note">注意</code>  <a href="builtin.html#line()">line()</a>  指定的
                是当前缓冲区 (<code class="vim">译者注</code>: 实际上不接受除 "$" 以外的任何字符串值)。
                "$" 指定缓冲区 <code class="special">{buf}</code> 的末行。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetBuffer()-&gt;deletebufline(1)</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


did_filetype()                                          <b class="vimtag"> <a name="did_filetype()">did_filetype()</a> </b>
                在执行自动命令期间，如果至少触发过一次 FileType 事件，返回
                 <a href="eval.html#TRUE">TRUE</a> 。在检测文件类型的脚本里可用来防止再次触发 FileType 事
                件。 <a href="autocmd.html#FileType">FileType</a> 
                如果上次执行的是 ":setf FALLBACK"，此处返回  <a href="eval.html#FALSE">FALSE</a> 。
                在编辑其它文件时，该计数被重置，因而这里实际检查的是当前缓冲区
                是否触发过 FileType 事件。这使得自动命令可以编辑另一个缓冲区，
                设置其 <a href="options.html#'filetype'">'filetype'</a> 并载入相应的语法文件。

                返回类型:  <a href="eval.html#Number">Number</a> 


diff(<code class="special">{fromlist}</code>, <code class="special">{tolist}</code> [, <code class="special">{options}</code>])                <b class="vimtag"> <a name="diff()">diff()</a> </b>
                返回由 <code class="special">{fromlist}</code> 和 <code class="special">{tolist}</code> 中字符串的差异组成的字符串或列
                表。使用 Vim 内部 diff 库来计算差异。

                                                        <b class="vimtag"> <a name="E106">E106</a> </b>
                <code class="special">{options}</code> 里可选的 "output" 项目指定返回的 diff 格式。支持以下
                值:
                    indices     返回每个差异块的起始与结束索引还有字符串计数组
                                成的列表。
                    unified     返回字符串形式的合并风格 (unified) diff 输出。
                                这是缺省。

                <code class="special">{options}</code> 里的 "output" 项目为 "indices" 时，返回的列表中每项
                都是一个字典，对应一个差异块，包含以下字段:
                    from_idx    此差异块在 <code class="special">{fromlist}</code> 里的起始索引。
                    from_count  此差异块在 <code class="special">{fromlist}</code> 里被新增/删除/修改的字符
                                串数目。
                    to_idx      此差异块在 <code class="special">{tolist}</code> 里的起始索引。
                    to_count    此差异块在 <code class="special">{tolist}</code> 里被新增/删除/修改的字符串
                                数目。

                <code class="special">{options}</code> 字典参数还能指定比较选项 (类似于 <a href="options.html#'diffopt'">'diffopt'</a>)，支持以
                下字段:
                    algorithm           指定使用的比较算法。支持值为 "myers"、
                                        "minimal"、"patience" 和 "histogram"。
                    context             差异上下文行数。缺省为 0。
                    iblank              忽略全空白行的改动。
                    icase               忽略文本大小写的更改。
                    indent-heuristic    内部比较库使用缩进启发。
                    iwhite              忽略空白字符数目的更改。
                    iwhiteall           忽略所有空白字符的更改。
                    iwhiteeol           忽略行尾空白字符的更改。
                有关这些选项的更多信息，参见 <a href="options.html#'diffopt'">'diffopt'</a>。

                为了计算合并风格的 diff，会先将 <code class="special">{fromlist}</code> 里的所有项目用换行
                符连接成一个字符串，对 <code class="special">{tolist}</code> 也同样处理。因而，合并风格的
                diff 输出会出现行号。

                如果 <code class="special">{fromlist}</code> 和 <code class="special">{tolist}</code> 等同，返回空列表或空串。

                示例:
<code class="example">                    :echo diff(['abc'], ['xxx'])</code>
<code class="example">                     @@ -1 +1 @@</code>
<code class="example">                     -abc</code>
<code class="example">                     +xxx</code>
<code class="example"></code>
<code class="example">                    :echo diff(['abc'], ['xxx'], {'output': 'indices'})</code>
<code class="example">                     [{'from_idx': 0, 'from_count': 1, 'to_idx': 0, 'to_count': 1}]</code>
<code class="example">                    :echo diff(readfile('oldfile'), readfile('newfile'))</code>
<code class="example">                    :echo diff(getbufline(5, 1, '$'), getbufline(6, 1, '$'))</code>

                更多例子可见  <a href="diff.html#diff-func-examples">diff-func-examples</a> 

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetFromList-&gt;diff(to_list)</code>

                返回类型:  <a href="eval.html#String">String</a>  或 list&lt;dict<code class="special">&lt;number&gt;</code>&gt; 或 list<code class="special">&lt;any&gt;</code>，取决于
                <code class="special">{options}</code>


diff_filler(<code class="special">{lnum}</code>)                                     <b class="vimtag"> <a name="diff_filler()">diff_filler()</a> </b>
                返回第 <code class="special">{lnum}</code> 行之上的填充行数目。
                这些填充行对应另一个比较窗口中，在对应位置插入的内容。它们会在
                屏幕上显示，但实际上并不存在于缓冲区中。
                <code class="special">{lnum}</code> 的用法可见  <a href="builtin.html#getline()">getline()</a> 。所以 "." 是当前行，"'m" 是位置
                标记 m，等等。
                如果当前窗口未处于比较模式，返回 0。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetLnum()-&gt;diff_filler()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


diff_hlID(<code class="special">{lnum}</code>, <code class="special">{col}</code>)                                <b class="vimtag"> <a name="diff_hlID()">diff_hlID()</a> </b>
                返回比较模式下第 <code class="special">{lnum}</code> 行和第 <code class="special">{col}</code> (字节位置) 列所在的高亮
                ID (<code class="vim">译者注</code>: 对应 Diff* 高亮组)。当前行如果没有差异，返回零。
                <code class="special">{lnum}</code> 的用法可见  <a href="builtin.html#getline()">getline()</a> 。所以 "." 是当前行，"'m" 是位置
                标记 m，等等。
                最左列的列号 <code class="special">{col}</code> 为 1，首行的行号 <code class="special">{lnum}</code> 为 1。
                高亮 ID 可用于  <a href="builtin.html#synIDattr()">synIDattr()</a> ，以获取高亮对应的语法信息。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetLnum()-&gt;diff_hlID(col)</code>

                返回类型:  <a href="eval.html#Number">Number</a> 

                                                        <b class="vimtag"> <a name="digraph_get()">digraph_get()</a> </b>
digraph_get(<code class="special">{chars}</code>)                                    <b class="vimtag"> <a name="E1214">E1214</a> </b>
                返回 <code class="special">{chars}</code> 对应的二合字母。<code class="special">{chars}</code> 必须是包含两个字符的字符
                串。如果不是两个字符或者对应的二合字母不存在，报错并返回空串。

                如有需要，字符会从 Unicode 转换为 <a href="options.html#'encoding'">'encoding'</a> 编码。此种转换必
                须可行，否则可能会失败。

                另见  <a href="builtin.html#digraph_getlist()">digraph_getlist()</a> 。

                示例:
<code class="example">                " 得到内建的二合字母</code>
<code class="example">                :echo digraph_get('00')         " 返回 '∞'</code>
<code class="example"></code>
<code class="example">                " 得到用户定义的二合字母</code>
<code class="example">                :call digraph_set('aa', 'あ')</code>
<code class="example">                :echo digraph_get('aa')         " 返回 'あ'</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetChars()-&gt;digraph_get()</code>

                返回类型:  <a href="eval.html#String">String</a> 

                仅当编译时加入  <a href="various.html#+digraphs">+digraphs</a>  特性才有效。如果此特性被关闭，此函
                数会报错。


digraph_getlist([<code class="special">{listall}</code>])                            <b class="vimtag"> <a name="digraph_getlist()">digraph_getlist()</a> </b>
                返回二合字母列表。<code class="special">{listall}</code> 参数给出且为 TRUE 时，返回包括系统
                缺省在内的的所有二合字母。否则，只返回用户定义的二合字母。

                如有需要，字符会从 Unicode 转化为 <a href="options.html#'encoding'">'encoding'</a>。此种转换必须可
                行，有时可能会失败。

                另见  <a href="builtin.html#digraph_get()">digraph_get()</a> 。

                示例:
<code class="example">                " 得到用户定义的二合字母</code>
<code class="example">                :echo digraph_getlist()</code>
<code class="example"></code>
<code class="example">                " 得到所有的二合字母，包括缺省的二合字母</code>
<code class="example">                :echo digraph_getlist(1)</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetNumber()-&gt;digraph_getlist()</code>

                返回类型: list&lt;list<code class="special">&lt;string&gt;</code>&gt;

                仅当编译时加入  <a href="various.html#+digraphs">+digraphs</a>  特性才有效。如果该特性未开启，调用
                本函数会报错。


digraph_set(<code class="special">{chars}</code>, <code class="special">{digraph}</code>)                         <b class="vimtag"> <a name="digraph_set()">digraph_set()</a> </b>
                将二合字母 <code class="special">{chars}</code> 加入列表。<code class="special">{chars}</code> 必须是包含两个字符的字符
                串。<code class="special">{digraph}</code> 为包含单个 UTF-8 编码字符的字符串。 <b class="vimtag"> <a name="E1215">E1215</a> </b>
                <code class="note">注意</code>，本函数处理输入时 <code class="emphasis">不</code> 忽略组合字符 (<code class="vim">译者注</code>: 也就是说，带组
                合字符的基本字符会被视为多个字符，因而不会被接受为合法输入)。
                本函数类似于  <a href="digraph.html#:digraphs">:digraphs</a>  命令，但可用于空白开始的二合字母。

                <code class="special">{digraph}</code> 成功注册时返回 v:true。失败时报错并返回 v:false。

                要同时定义多个二合字母，可用  <a href="builtin.html#digraph_setlist()">digraph_setlist()</a> 。

                示例:
<code class="example">                        call digraph_set('  ', 'あ')</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetString()-&gt;digraph_set('あ')</code>

                返回类型:  <a href="vim9.html#vim9-boolean">vim9-boolean</a> 

                仅当编译时加入  <a href="various.html#+digraphs">+digraphs</a>  特性才有效。如果该特性未开启，调用
                本函数会报错。


digraph_setlist(<code class="special">{digraphlist}</code>)                          <b class="vimtag"> <a name="digraph_setlist()">digraph_setlist()</a> </b>
                类似于  <a href="builtin.html#digraph_set()">digraph_set()</a> ，但本函数一次可添加多个二合字母。
                <code class="special">{digraphlist}</code> 为列表的列表，每个子列表包含两个字符串，对应于
                 <a href="builtin.html#digraph_set()">digraph_set()</a>  中描述的 <code class="special">{chars}</code> 和 <code class="special">{digraph}</code>。 <b class="vimtag"> <a name="E1216">E1216</a> </b>
                示例:
<code class="example">                    call digraph_setlist([['aa', 'あ'], ['ii', 'い']])</code>

                功能相当于:
<code class="example">                    for [chars, digraph] in [['aa', 'あ'], ['ii', 'い']]</code>
<code class="example">                          call digraph_set(chars, digraph)</code>
<code class="example">                    endfor</code>
                区别在于，如果遇到第一个错误，本函数会立即返回，不再处理后续的
                二合字母。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                    GetList()-&gt;digraph_setlist()</code>

                返回类型:  <a href="vim9.html#vim9-boolean">vim9-boolean</a> 

                仅当编译时加入  <a href="various.html#+digraphs">+digraphs</a>  特性才有效。如果此特性未开启，调用
                本函数会报错。


echoraw(<code class="special">{expr}</code>)                                         <b class="vimtag"> <a name="echoraw()">echoraw()</a> </b>
                按原样输出 <code class="special">{expr}</code>，包括非打印字符。可用于输出终端控制码等内
                容。例如，要关闭 modifyOtherKeys:
<code class="example">                        call echoraw(&amp;t_TE)</code>
                要再次打开之:
<code class="example">                        call echoraw(&amp;t_TI)</code>
                使用时要谨慎，否则可能会扰乱终端显示。

                返回类型:  <a href="eval.html#Number">Number</a> 


empty(<code class="special">{expr}</code>)                                           <b class="vimtag"> <a name="empty()">empty()</a> </b>
                <code class="special">{expr}</code> 为空时，返回数值 1，否则返回 0。
                -  <a href="eval.html#List">List</a> 、 <a href="eval.html#Tuple">Tuple</a>  或  <a href="eval.html#Dictionary">Dictionary</a>  没有项目时为空。
                -  <a href="eval.html#String">String</a>  的长度为零时为空。
                -  <a href="eval.html#Number">Number</a>  或  <a href="eval.html#Float">Float</a>  的值为零时为空。
                -  <a href="eval.html#v:false">v:false</a> 、 <a href="eval.html#v:none">v:none</a>  和  <a href="eval.html#v:null">v:null</a>  为空，而  <a href="eval.html#v:true">v:true</a>  不是。
                - 启动失败的  <a href="eval.html#Job">Job</a>  为空。
                - 己关闭的  <a href="eval.html#Channel">Channel</a>  为空。
                -  <a href="eval.html#Blob">Blob</a>  的长度为零时为空。
                -  <a href="vim9class.html#Object">Object</a>  (如果对象存在) 的 empty() 方法返回真值时为空

                如果  <a href="eval.html#List">List</a>  很长，本函数比先获取长度再与零比较要快得多。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        mylist-&gt;empty()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


environ()                                               <b class="vimtag"> <a name="environ()">environ()</a> </b>
                返回所有环境变量构成的字典。可用于检查某个环境变量是否存在:
<code class="example">                        :echo has_key(environ(), 'HOME')</code>
                <code class="note">注意</code> 变量名可能是驼峰式 (CamelCase)，要忽略大小写，可用:
<code class="example">                        :echo index(keys(environ()), 'HOME', 0, 1) != -1</code>

                返回类型: dict<code class="special">&lt;string&gt;</code>


err_teapot([<code class="special">{expr}</code>])                                    <b class="vimtag"> <a name="err_teapot()">err_teapot()</a> </b>
                生成编号为 418 的错误，用于实现 RFC 2324。
                <code class="special">{expr}</code> 给出且作为表达式的计算结果为 TRUE 时，给出 503 错误，指
                示咖啡暂未准备好。
                <code class="special">{expr}</code> 给出时必须为字符串。
                (<code class="vim">译者注</code>: 如果 <code class="special">{expr}</code> 为空串或者只有空白字符，不会报错)

                返回类型:  <a href="eval.html#Number">Number</a> 


escape(<code class="special">{string}</code>, <code class="special">{chars}</code>)                               <b class="vimtag"> <a name="escape()">escape()</a> </b>
                将 <code class="special">{string}</code> 中出现在 <code class="special">{chars}</code> 集合里的字符用反斜杠转义。例如:
<code class="example">                        :echo escape('c:\program files\vim', ' \')</code>
                返回:
<code class="example">                        c:\\program\ files\\vim</code>
                另见  <a href="builtin.html#shellescape()">shellescape()</a>  和  <a href="builtin.html#fnameescape()">fnameescape()</a> 。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetText()-&gt;escape(' \')</code>

                返回类型:  <a href="eval.html#String">String</a> 


eval(<code class="special">{string}</code>)                                          <b class="vimtag"> <a name="eval()">eval()</a> </b>
                计算 <code class="special">{string}</code> 并返回其结果。这在将  <a href="builtin.html#string()">string()</a>  的结果还原为原始
                值时尤其有用。适用于数值、浮点数、字符串、blob 及其复合类型。
                也可用于指向现有函数的  <a href="eval.html#Funcref">Funcref</a> 。 <a href="vim9.html#Vim9">Vim9</a>  脚本中，还可用于通过
                 <a href="vim9class.html#enum">enum</a>  的完全限定名获取相应的枚举值。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        argv-&gt;join()-&gt;eval()</code>

                返回类型: any，取决于 <code class="special">{string}</code>


eventhandler()                                          <b class="vimtag"> <a name="eventhandler()">eventhandler()</a> </b>
                处于事件处理器中时返回 1。此时，Vim 在等待用户输入字符时被中
                断，例如当有文件被拖放到 Vim 时。该值为 1 意味着此时不能使用交
                互命令。否则，返回零。

                返回类型:  <a href="eval.html#Number">Number</a> 


executable(<code class="special">{expr}</code>)                                      <b class="vimtag"> <a name="executable()">executable()</a> </b>
                本函数检查名为 <code class="special">{expr}</code> 的可执行文件是否存在。<code class="special">{expr}</code> 必须是不带
                任何参数的程序名。

                executable() 使用 $PATH 值和/或正常的程序搜索路径。
                                                        <b class="vimtag"> <a name="PATHEXT">PATHEXT</a> </b>
                MS-Windows 上，可选地可以直接包含 ".exe"、".bat" 等扩展名。然
                后再尝试 $PATHEXT 里列出的扩展名。这样，如果 "foo.exe" 不存
                在，还可以找到 "foo.exe.bat"。$PATHEXT 未设置时，缺省使用
                ".com;.exe;.bat;.cmd"。在 $PATHEXT 中，单独的句号用来表示会尝
                试无扩展名的文件名。同样如果 <a href="options.html#'shell'">'shell'</a> 看起来像 Unix 外壳，那么
                Vim 也会尝试无扩展名的文件名。
                MS-Windows 上，只检查文件是否存在且不是目录，并不真正检查文件
                是否可以执行。
                MS-Windows 上，总能找到和 Vim 程序位于同一目录的可执行文件，因
                为该目录已加入 $PATH，执行时必然可以找到  <a href="os_win32.html#win32-PATH">win32-PATH</a> 。
                                        <b class="vimtag"> <a name="NoDefaultCurrentDirectoryInExePath">NoDefaultCurrentDirectoryInExePath</a> </b>
                MS-Windows 上，通常也能找到 Vim 当前工作目录下的可执行文件，不
                过，此行为可通过设置 $NoDefaultCurrentDirectoryInExePath 环境
                变量来关闭。

                返回值为数值，其意义为:
                        1       存在
                        0       不存在
                        -1      此系统中没有实现
                 <a href="builtin.html#exepath()">exepath()</a>  可用于获取可执行文件的完整路径。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetCommand()-&gt;executable()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


execute(<code class="special">{command}</code> [, <code class="special">{silent}</code>])                         <b class="vimtag"> <a name="execute()">execute()</a> </b>
                执行 Ex 命令或命令序列，并返回其输出结果，返回类型为字符串。
                <code class="special">{command}</code> 可为字符串或列表。如果是列表，逐行执行命令。
                这或多或少等价于:
<code class="example">                        redir =&gt; var</code>
<code class="example">                        {command}</code>
<code class="example">                        redir END</code>
                但不会识别 <code class="special">{command}</code> 里的续行。

                可选的 <code class="special">{silent}</code> 参数可取以下的值:
                        ""              不用  <a href="various.html#:silent">:silent</a> 
                        "silent"        用  <a href="various.html#:silent">:silent</a> 
                        "silent!"       用  <a href="various.html#:silent!">:silent!</a> 
                缺省是 "silent"。<code class="note">注意</code> 用 "silent!" 时，和  <a href="various.html#:redir">:redir</a>  不同，略过
                错误信息。使用外部命令时，可能会扰乱屏幕，要避免这一点，可用
                 <a href="builtin.html#system()">system()</a>  代替。
                                                        <b class="vimtag"> <a name="E930">E930</a> </b>
                <code class="special">{command}</code> 里不可用  <a href="various.html#:redir">:redir</a> 。

                要得到行的列表，可在返回结果上用  <a href="builtin.html#split()">split()</a> :
<code class="example">                        execute('args')-&gt;split("\n")</code>
<code class="example"></code>
                要在当前窗口以外的其它窗口中执行命令，可用  <a href="builtin.html#win_execute()">win_execute()</a> 。

                递归调用时，内层的输出结果不会包含在外层的结果里。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetCommand()-&gt;execute()</code>

                返回类型:  <a href="eval.html#String">String</a> 


exepath(<code class="special">{expr}</code>)                                         <b class="vimtag"> <a name="exepath()">exepath()</a> </b>
                如果 <code class="special">{expr}</code> 是可执行文件，并且或是绝对路径、或是相对路径，或在
                $PATH 中能找到，返回其完整路径。
                <code class="note">注意</code> 以 "./" 开头的 <code class="special">{expr}</code> 会使用当前目录，对 Vim 来说，某些情
                况下这可能会导致问题:
<code class="example">                        echo exepath(v:progpath)</code>
                如果 <code class="special">{expr}</code> 在 $PATH 里找不到，或者不可执行，返回空串。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetCommand()-&gt;exepath()</code>

                返回类型:  <a href="eval.html#String">String</a> 


exists(<code class="special">{expr}</code>)                                          <b class="vimtag"> <a name="exists()">exists()</a> </b>
                返回数值，<code class="special">{expr}</code> 有定义时返回  <a href="eval.html#TRUE">TRUE</a> ，不然返回零。

                <code class="note">备注</code>: 在已编译的  <a href="vim9.html#:def">:def</a>  函数里，表达式的求值发生在运行时。要在
                编译时计算表达式，可用  <a href="builtin.html#exists_compiled()">exists_compiled()</a> 。

                要检查特性是否支持，可用  <a href="builtin.html#has()">has()</a> 。
                要检查文件是否存在，可用  <a href="builtin.html#filereadable()">filereadable()</a> 。

                <code class="special">{expr}</code> 参数是字符串，可以使用下列选项之一:
                        varname         内部变量 (见  <a href="eval.html#internal-variables">internal-variables</a> )。也
                        dict.key        可使用  <a href="eval.html#curly-braces-names">curly-braces-names</a> 、
                        list[i]          <a href="eval.html#Dictionary">Dictionary</a>  项目、 <a href="eval.html#List">List</a>  项目、类和对
                        import.Func     象方法、导入项目等等。但已编译的
                        class.Func       <a href="vim9.html#:def">:def</a>  函数里的局部变量不可用。 <a href="vim9.html#Vim9">Vim9</a> 
                        object.Func     脚本里的函数也可用，因为它可用作函数引
                        class.varname   用。要小心，计算索引时如果表达式非法，
                        object.varname  可能会产生错误信息。例如:
<code class="example">                                           :let l = [1, 2, 3]</code>
<code class="example">                                           :echo exists("l[5]")</code>
                                           0
<code class="example">                                           :echo exists("l[xx]")</code>
                                           E121: Undefined variable: xx
                                           0
                        &amp;option-name    Vim 选项 (只检查是否存在，而不验证其是
                                        否可用)
                        +option-name    Vim 选项，并且确认可用。
                        $ENVNAME        环境变量 (也可以通过和空串比较来实现)
                        *funcname       已实现的内建函数 (见  <a href="eval.html#functions">functions</a> ) 或者
                                        用户定义函数 (见  <a href="eval.html#user-functions">user-functions</a> )。也
                                        可使用函数引用变量。
                        ?funcname       可实现的内建函数；用于检查 "funcname"
                                        是否合法
                        :cmdname        Ex 命令: 内建命令、用户命令或者命令修
                                        饰符  <a href="map.html#:command">:command</a> 。
                                        返回:
                                        1  匹配命令的开始
                                        2  完整匹配命令
                                        3  匹配多个用户命令
                                        要检查命令是否受支持，可以检查其返回值
                                        是否为 2。
                        :2match          <a href="pattern.html#:2match">:2match</a>  命令。
                        :3match          <a href="pattern.html#:3match">:3match</a>  命令 (通常不应使用，因为它保
                                        留给内部用途)。
                        #event          为该事件定义的自动命令
                        #event#pattern  为该事件和特定模式定义的自动命令 (模式
                                        按本义出现，会和自动命令的模式进行逐字
                                        符比较)
                        #group          自动命令组
                        #group#event    在该组里为特定事件定义的自动命令。
                        #group#event#pattern
                                        在该组里为特定事件和模式定义的自动命令。
                        ##event         支持在自动命令中使用该事件。

                例如:
<code class="example">                        exists("&amp;shortname")</code>
<code class="example">                        exists("$HOSTNAME")</code>
<code class="example">                        exists("*strftime")</code>
<code class="example">                        exists("*s:MyFunc")     " 只适用于老式脚本</code>
<code class="example">                        exists("*MyFunc")</code>
<code class="example">                        exists("bufcount")</code>
<code class="example">                        exists(":Make")</code>
<code class="example">                        exists("#CursorHold")</code>
<code class="example">                        exists("#BufReadPre#*.gz")</code>
<code class="example">                        exists("#filetypeindent")</code>
<code class="example">                        exists("#filetypeindent#FileType")</code>
<code class="example">                        exists("#filetypeindent#FileType#*")</code>
<code class="example">                        exists("##ColorScheme")</code>
                符号 (&amp;/$/*/#) 和名字之间不能有空格。
                名字之后不应有附加字符，虽然当前某些情况下会忽略这些字符，但
                将来可能更严格检查。因此不要依赖这种行为！
                可以通过的例子:
<code class="example">                        exists(":make")</code>
                 <code class="emphasis">不</code> 能通过的例子:
<code class="example">                        exists(":make install")</code>
<code class="example"></code>
                <code class="note">注意</code> 参数必须是字符串，而非变量名本身。例如:
<code class="example">                        exists(bufcount)</code>
                这里不检查变量 "bufcount" 是否存在，而是提取 "bufcount" 的值，
                然后作为 <code class="special">{expr}</code> 判断对应参数是否存在。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        Varname()-&gt;exists()</code>

                返回类型:  <a href="eval.html#String">String</a> 


exists_compiled(<code class="special">{expr}</code>)                                 <b class="vimtag"> <a name="exists_compiled()">exists_compiled()</a> </b>
                类似于  <a href="builtin.html#exists()">exists()</a>  但在编译时检查。可用于在函数未定义时跳过会报
                错的程序块:
<code class="example">                        if exists_compiled('*ThatFunction')</code>
<code class="example">                           ThatFunction('works')</code>
<code class="example">                        endif</code>
                用  <a href="builtin.html#exists()">exists()</a>  时，如果 ThatFunction() 未定义,会报告编译错误。

                <code class="special">{expr}</code> 必须是按本义出现的字符串。 <b class="vimtag"> <a name="E1232">E1232</a> </b>
                只能在  <a href="vim9.html#:def">:def</a>  函数的内部使用。 <b class="vimtag"> <a name="E1233">E1233</a> </b>
                不能用于检查参数或局部变量。

                返回类型:  <a href="eval.html#String">String</a> 


exp(<code class="special">{expr}</code>)                                             <b class="vimtag"> <a name="exp()">exp()</a> </b>
                返回 <code class="special">{expr}</code> 的指数函数值，类型为  <a href="eval.html#Float">Float</a> ，范围在 [0, inf] 之
                间。
                <code class="special">{expr}</code> 的计算结果必须是  <a href="eval.html#Float">Float</a>  或者  <a href="eval.html#Number">Number</a> 。否则返回 0.0。
                示例:
<code class="example">                        :echo exp(2)</code>
                        7.389056
<code class="example">                        :echo exp(-1)</code>
                        0.367879

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        Compute()-&gt;exp()</code>

                返回类型:  <a href="eval.html#Float">Float</a> 


expand(<code class="special">{string}</code> [, <code class="special">{nosuf}</code> [, <code class="special">{list}</code>]])                 <b class="vimtag"> <a name="expand()">expand()</a> </b>
                扩展 <code class="special">{string}</code> 里的通配符和下列特殊关键字。这里会应用
                <a href="options.html#'wildignorecase'">'wildignorecase'</a> 设置。

                <code class="special">{list}</code> 给出且为  <a href="eval.html#TRUE">TRUE</a>  时，返回列表。否则返回字符串，有多个匹
                配时，以 <code class="special">&lt;NL&gt;</code> 字符分隔匹配项 [<code class="note">备注</code>: 5.0 版本中曾用空格分隔。但
                如果文件名中包含空格，这种方式会产生歧义]。

                如果扩展失败，返回空串。如果 <code class="special">{string}</code> 以 '%'，'#' 或 '&lt;'
                开始，不返回不存在的文件名。详见下。

                在  <a href="terminal.html#:terminal">:terminal</a>  窗口里，'%' 会被扩展为 '!' 后跟当前运行的命令或
                外壳。 <a href="terminal.html#terminal-bufname">terminal-bufname</a> 

                <code class="special">{string}</code> 以 '%'、'#' 或 '&lt;' 开头时，其扩展方式和
                 <a href="cmdline.html#cmdline-special">cmdline-special</a>  变量相同，并可使用相关修饰符。简要说明如下:

                        %               当前文件名
                        #               轮换文件名
                        #n              轮换文件名 n
                        <code class="special">&lt;cfile&gt;</code>         光标所在的文件名
                        <code class="special">&lt;afile&gt;</code>         自动命令文件名
                        <code class="special">&lt;abuf&gt;</code>          自动命令缓冲区号 (以字符串形式出现！)
                        <code class="special">&lt;amatch&gt;</code>        自动命令匹配的名字
                        <code class="special">&lt;cexpr&gt;</code>         光标所在的 C 表达式
                        <code class="special">&lt;sfile&gt;</code>         正在执行中的脚本文件名或函数名
                        <code class="special">&lt;slnum&gt;</code>         正在执行中的脚本行号或函数行号
                        <code class="special">&lt;sflnum&gt;</code>        脚本文件行号，即使在函数中亦然
                        <code class="special">&lt;SID&gt;</code>           "<code class="special">&lt;SNR&gt;</code>123_"  其中 "123" 是当前脚本 ID
                                         <a href="map.html#%3CSID%3E">&lt;SID&gt;</a> 
                        <code class="special">&lt;script&gt;</code>        正在执行中的脚本文件，或者当前函数定义
                                        所在的脚本文件
                        <code class="special">&lt;stack&gt;</code>         调用栈
                        <code class="special">&lt;cword&gt;</code>         光标所在的单词
                        <code class="special">&lt;cWORD&gt;</code>         光标所在的字串 (WORD)
                        <code class="special">&lt;client&gt;</code>        最近收到的消息的 <code class="special">{clientid}</code>
                                         <a href="builtin.html#server2client()">server2client()</a> 
                修饰符:
                        :p              扩展为完整的路径
                        :h              头部 (去掉最后的路径组件)
                        :t              尾部 (只保留最后的路径组件)
                        :r              根部 (去掉扩展名)
                        :e              只保留扩展名

                还支持其它修饰符，完整列表见  <a href="cmdline.html#filename-modifiers">filename-modifiers</a> 。

                例如:
<code class="example">                        :let &amp;tags = expand("%:p:h") .. "/tags"</code>
                <code class="note">注意</code> 扩展 '%'、'#' 或者 '&lt;' 开头的字符串时，忽略其后的文本。下
                例 <code class="emphasis">不可</code> 行:
<code class="example">                        :let doesntwork = expand("%:h.bak")</code>
                应该这样:
<code class="example">                        :let doeswork = expand("%:h") .. ".bak"</code>
                还要 <code class="note">注意</code> "<code class="special">&lt;cfile&gt;</code>" 和其它形式的扩展只会返回被引用的文件名，而
                不会进一步扩展。比如，如果 "<code class="special">&lt;cfile&gt;</code>" 是 "~/.cshrc"，需要执行另
                一个 expand() 才能把 "~/" 部分扩展为主目录所在路径:
<code class="example">                        :echo expand(expand("&lt;cfile&gt;"))</code>

                变量名和其后的修饰符之间不能有空白。 <a href="builtin.html#fnamemodify()">fnamemodify()</a>  函数可以用
                来修改普通的文件名。

                扩展 '%' 或 '#' 但当前或轮换文件名没有定义时，会返回空串。在无
                名缓冲区上使用 "%:p" 时，会返回当前目录，其后附加一个 '/'。
                设置 <a href="options.html#'verbose'">'verbose'</a> 时，'%'、'#' 和 <code class="special">&lt;&gt;</code> 项目的扩展在失败时会报错。

                <code class="special">{string}</code> 不以 '%'、'#' 或 '&lt;' 开头时，其扩展方式和命令行上的文
                件名相同。，除非可选的 <code class="special">{nosuf}</code> 参数给出而且为  <a href="eval.html#TRUE">TRUE</a> ，应用
                <a href="options.html#'suffixes'">'suffixes'</a> 和 <a href="options.html#'wildignore'">'wildignore'</a> 设置。
                这里可以使用并不存在的文件的名字。"**" 项目可用来遍历目录树。
                例如，要寻找当前目录及其下各级目录里的所有 "README":
<code class="example">                        :echo expand("**/README")</code>

                expand() 也可用来扩展只有外壳才能解析的变量和环境变量。不过，
                这种方式可能比较耗时，因为需要调用外壳才能完成扩展。见
                 <a href="eval.html#expr-env-expand">expr-env-expand</a> 。
                扩展后的变量仍然被当作文件名列表进行处理。如果环境变量扩展失
                败，按原样返回。因而 ":echo expand('$FOOBAR')" 仍会返回
                "$FOOBAR"。

                 <a href="builtin.html#glob()">glob()</a>  说明如何查找已有文件。 <a href="builtin.html#system()">system()</a>  说明如何获取外部命令
                的原始输出。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        Getpattern()-&gt;expand()</code>

                返回类型:  <a href="eval.html#String">String</a>  或 list<code class="special">&lt;string&gt;</code>，取决于 <code class="special">{list}</code>


expandcmd(<code class="special">{string}</code> [, <code class="special">{options}</code>])                       <b class="vimtag"> <a name="expandcmd()">expandcmd()</a> </b>
                以与  <a href="editing.html#:edit">:edit</a>  等 Ex 命令相同的方式，扩展字符串 <code class="special">{string}</code> 里的特
                殊项目。本函数会在 <code class="special">{string}</code> 的任何位置像  <a href="builtin.html#expand()">expand()</a>  那样扩展特
                殊关键字和环境变量。"~user" 和 "~/path" 仅在开始处进行扩展。

                <code class="special">{option}</code> 字典参数支持以下项目:
                    errmsg      设为 TRUE 时，报告扩展时出现的错误。缺省不回显
                                错误信息。

                返回扩展后的字符串。如果扩展时出错，返回未经修改的 <code class="special">{string}</code>。

                示例:
<code class="example">                        :echo expandcmd('make %&lt;.o')</code>
<code class="example">                        make /path/runtime/doc/builtin.o</code>
<code class="example">                        :echo expandcmd('make %&lt;.o', {'errmsg': v:true})</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetCommand()-&gt;expandcmd()</code>

                返回类型:  <a href="eval.html#String">String</a>  或 list<code class="special">&lt;string&gt;</code>，取决于 <code class="special">{list}</code> (<code class="vim">译者注</code>: 原
                文如此，应该只会返回  <a href="eval.html#String">String</a> )


extend(<code class="special">{expr1}</code>, <code class="special">{expr2}</code> [, <code class="special">{expr3}</code>])                    <b class="vimtag"> <a name="extend()">extend()</a> </b>
                <code class="special">{expr1}</code> 和 <code class="special">{expr2}</code> 必须都是  <a href="eval.html#List">List</a>  或者都是  <a href="eval.html#Dictionary">Dictionary</a> 。

                都是  <a href="eval.html#List">List</a>  时: 把 <code class="special">{expr2}</code> 追加到 <code class="special">{expr1}</code> 之后。
                <code class="special">{expr3}</code> 给出时，把 <code class="special">{expr2}</code> 里的项目追加到 <code class="special">{expr1}</code> 中索引为
                <code class="special">{expr3}</code> 的项目之前。<code class="special">{expr3}</code> 为零时，插在首个项目之前。而如果
                <code class="special">{expr3}</code> 等于 len(<code class="special">{expr1}</code>)，<code class="special">{expr2}</code> 会追加到末尾。
                例如:
<code class="example">                        :echo sort(extend(mylist, [7, 5]))</code>
<code class="example">                        :call extend(mylist, [2, 3], 1)</code>
                如果 <code class="special">{expr1}</code> 和 <code class="special">{expr2}</code> 指向同一个列表，复制的项目数等于列表原
                来的长度。例如，<code class="special">{expr3}</code> 为 1 时，复制列表首值 N 次 (N 为列表原
                来的长度) (<code class="vim">译者注</code>: 原文如此，实际验证结果似有不同)。
                 <a href="builtin.html#add()">add()</a>  可用来向列表添加单个元素。要将两个列表连接成一个新列
                表，可用 + 操作符:
<code class="example">                        :let newlist = [1, 2, 3] + [4, 5]</code>

                都是  <a href="eval.html#Dictionary">Dictionary</a>  时: 把 <code class="special">{expr2}</code> 里的所有项目追加到 <code class="special">{expr1}</code> 之
                后。
                <code class="special">{expr1}</code> 和 <code class="special">{expr2}</code> 包含同一个键时，<code class="special">{expr3}</code> 决定冲突的处理方法:
                <code class="special">{expr3}</code> = "keep": 保留 <code class="special">{expr1}</code> 的值
                <code class="special">{expr3}</code> = "force": 使用 <code class="special">{expr2}</code> 的值
                <code class="special">{expr3}</code> = "error": 给出错误信息                         <b class="vimtag"> <a name="E737">E737</a> </b>
                <code class="special">{expr3}</code> 省略时，默认使用 "force"。

                只要 <code class="special">{expr2}</code> 非空，<code class="special">{expr1}</code> 就会被修改。如果不想更改原值，先给
                <code class="special">{expr1}</code> 创建个备份，或者用  <a href="builtin.html#extendnew()">extendnew()</a>  来生成新的列表/字典。
                <code class="special">{expr2}</code> 保持不变。
                如果 <code class="special">{expr1}</code> 被锁住且 <code class="special">{expr2}</code> 非空，操作失败。
                返回 <code class="special">{expr1}</code>。如果出错，返回 0。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        mylist-&gt;extend(otherlist)</code>

                返回类型: list&lt;<code class="special">{type}</code>&gt; 或 dict&lt;<code class="special">{type}</code>&gt;，取决于 <code class="special">{expr1}</code> 和
                <code class="special">{expr2}</code>，出错时:  <a href="eval.html#Number">Number</a> 


extendnew(<code class="special">{expr1}</code>, <code class="special">{expr2}</code> [, <code class="special">{expr3}</code>])                 <b class="vimtag"> <a name="extendnew()">extendnew()</a> </b>
                类似于  <a href="builtin.html#extend()">extend()</a> ，但不会向 <code class="special">{expr1}</code> 添加项目，而是创建并返回一
                个新列表或字典。<code class="special">{expr1}</code> 保持不变。

                返回类型: list&lt;<code class="special">{type}</code>&gt; 或 dict&lt;<code class="special">{type}</code>&gt;，取决于 <code class="special">{expr1}</code> 和
                <code class="special">{expr2}</code>，出错时:  <a href="eval.html#Number">Number</a> 


feedkeys(<code class="special">{string}</code> [, <code class="special">{mode}</code>])                           <b class="vimtag"> <a name="feedkeys()">feedkeys()</a> </b>
                将 <code class="special">{string}</code> 里的字符放入输入队列里，等候处理，就像它们来自映射
                或者用户输入一样。

                缺省，这些字符加到预输入 (typeahead) 缓冲区的尾端，因此，如果
                映射仍在执行，这些字符会在映射内容之后被处理。而 'i' 标志位会
                使它们插入在其它字符之前，从而在映射内容之前先被处理。

                该函数不会等待 <code class="special">{string}</code> 中的键值被处理完毕。

                要在 <code class="special">{string}</code> 中包含特殊键，可用双引号和 "\..." 记法
                 <a href="eval.html#expr-quote">expr-quote</a> 。例如，feedkeys("\<code class="special">&lt;CR&gt;</code>") 会模拟 <code class="special">&lt;Enter&gt;</code> 键击。而
                feedkeys('\<code class="special">&lt;CR&gt;</code>') 则会压入五个字符。
                一个可能有用的特殊代码是 <code class="special">&lt;Ignore&gt;</code>，它可以结束等待输入，但不会
                执行任何操作。                          <b class="vimtag"> <a name="%3CIgnore%3E">&lt;Ignore&gt;</a> </b>

                <code class="special">{mode}</code> 是字符串，包含以下字符标志位:
                'm'     键将进行重映射。这是缺省行为。<code class="special">{mode}</code> 省略时，键也会被
                        重映射。
                'n'     键不经过重映射。
                't'     键按用户输入的方式处理；否则像映射结果的方式处理。这会
                        影响撤销、打开折叠等行为。
                'L'     底层输入。只用于 Unix 或 GUI。键按来自终端的方式处理。
                        忽略其它标志位。                <b class="vimtag"> <a name="E980">E980</a> </b>
                        <code class="keystroke">CTRL-C</code> 中断且包含 't' 标志位时，设置内部 "got_int" 标
                        志位。
                'i'     插入字符串而非附加 (见上)。
                'x'     执行命令，直至预输入清空为止。和 ":normal!" 类似。可以
                        不带 'x' 执行 feedkeys() 数次，然后一次性执行带 'x' 的
                        (可以只带空 <code class="special">{string}</code>) 来执行所有预输入。<code class="note">注意</code> 结束时如
                        果处于插入模式，Vim 的行为相当于按下 <code class="special">&lt;Esc&gt;</code>，以避免脚本
                        在继续前因为等待字符键入而被阻塞。
                        <code class="note">注意</code> 在执行命令期间如果调用了 feedkeys() 并引起递归调
                        用，所有预输入按键序列都会被最内层的调用所消耗。
                'c'     执行时移除脚本上下文，从而恢复 (缺省的) 老式脚本语法，
                        导致 "s:var" 不可用等等情况。<code class="note">注意</code> 如果放入队列的按键序
                        列会重新建立脚本上下文，该上下文依然会生效。
                '!'     和 'x' 一起使用时，不会退出插入模式。可用于利用定时器
                        稍后再退出插入模式的测试环境。方便测试 CursorHoldI 事
                        件。

                返回值总为 0。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetInput()-&gt;feedkeys()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


filecopy(<code class="special">{from}</code>, <code class="special">{to}</code>)                                  <b class="vimtag"> <a name="filecopy()">filecopy()</a> </b>
                将文件 <code class="special">{from}</code> 复制到 <code class="special">{to}</code>。返回数值，文件复制成功时返回  <a href="eval.html#TRUE">TRUE</a> ，
                失败时则返回  <a href="eval.html#FALSE">FALSE</a> 。
                如果名为 <code class="special">{to}</code> 的文件已存在，本函数会失败。
                <code class="note">注意</code> 本函数 (尚) 不能处理目录。

                该函数在沙盘里不可用  <a href="eval.html#sandbox">sandbox</a> 。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetOldName()-&gt;filecopy(newname)</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


filereadable(<code class="special">{file}</code>)                                    <b class="vimtag"> <a name="filereadable()">filereadable()</a> </b>
                返回数值，名为 <code class="special">{file}</code> 的文件存在且可读时，返回  <a href="eval.html#TRUE">TRUE</a> 。<code class="special">{file}</code>
                不存在或者指向目录时，返回  <a href="eval.html#FALSE">FALSE</a> 。<code class="special">{file}</code> 可为任何返回字符串
                的表达式。
                如果不需要检查文件是否可读，可用  <a href="builtin.html#glob()">glob()</a> 。
                <code class="special">{file}</code> 按本义使用，如有需要，请先扩展通配符:
<code class="example">                        echo filereadable('~/.vimrc')</code>
<code class="example">                        0</code>
<code class="example">                        echo filereadable(expand('~/.vimrc'))</code>
<code class="example">                        1</code>
<code class="example"></code>
                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetName()-&gt;filereadable()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 

                                                        <b class="vimtag"> <a name="file_readable()">file_readable()</a> </b>
                已废弃的名字: file_readable()。


filewritable(<code class="special">{file}</code>)                                    <b class="vimtag"> <a name="filewritable()">filewritable()</a> </b>
                返回数值，名为 <code class="special">{file}</code> 的文件存在且可写时，返回 1。<code class="special">{file}</code> 不存
                在或者不可写时，返回 0。<code class="special">{file}</code> 指向目录但可写时，返回 2。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetName()-&gt;filewritable()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


filter(<code class="special">{expr1}</code>, <code class="special">{expr2}</code>)                                <b class="vimtag"> <a name="filter()">filter()</a> </b>
                <code class="special">{expr1}</code> 必须是  <a href="eval.html#List">List</a>  、 <a href="eval.html#String">String</a> 、 <a href="eval.html#Blob">Blob</a>  或者  <a href="eval.html#Dictionary">Dictionary</a> 。
                <code class="special">{expr1}</code> 是  <a href="eval.html#List">List</a>  或  <a href="eval.html#Dictionary">Dictionary</a>  时，对其中的每个项目计算
                <code class="special">{expr2}</code>，结果为零或假值时删除该项目。对  <a href="eval.html#Blob">Blob</a>  里的每个字节和
                 <a href="eval.html#String">String</a>  里的每个字符也采用类似方法。

                <code class="special">{expr2}</code> 必须是  <a href="eval.html#string">string</a>  或  <a href="eval.html#Funcref">Funcref</a> 。

                <code class="special">{expr2}</code> 是  <a href="eval.html#string">string</a>  时，<code class="special">{expr2}</code> 内的  <a href="eval.html#v:val">v:val</a>  包含当前项目的
                值。对  <a href="eval.html#Dictionary">Dictionary</a> 、 <a href="eval.html#List">List</a> 、 <a href="eval.html#Blob">Blob</a>  和  <a href="eval.html#String">String</a>  而言， <a href="eval.html#v:key">v:key</a> 
                分别包含当前项目的键、当前项目索引、当前字节索引和当前字符索
                引。
                例如:
<code class="example">                        call filter(mylist, 'v:val !~ "OLD"')</code>
                删除所有出现 "OLD" 的项目。
<code class="example">                        call filter(mydict, 'v:key &gt;= 8')</code>
                删除所有键小于 8 的值。
<code class="example">                        call filter(var, 0)</code>
                删除所有值，相当于清空了该  <a href="eval.html#List">List</a>  或  <a href="eval.html#Dictionary">Dictionary</a> 。

                <code class="special">{expr2}</code> 是  <a href="eval.html#Funcref">Funcref</a>  时，它应接受两个参数:
                        1. 当前项目的键或索引。
                        2. 当前项目的值。
                需要保留该项目时，此函数应返回  <a href="eval.html#TRUE">TRUE</a> 。
                例如要保留列表中奇数项目:
<code class="example">                        func Odd(idx, val)</code>
<code class="example">                          return a:idx % 2 == 1</code>
<code class="example">                        endfunc</code>
<code class="example">                        call filter(mylist, function('Odd'))</code>
                使用  <a href="eval.html#lambda">lambda</a>  可以更简洁。 <a href="vim9.html#Vim9">Vim9</a>  语法:
<code class="example">                        call filter(myList, (idx, val) =&gt; idx * val &lt;= 42)</code>
                老式脚本语法:
<code class="example">                        call filter(myList, {idx, val -&gt; idx * val &lt;= 42})</code>
                "val" 如果不用，可以省略:
<code class="example">                        call filter(myList, {idx -&gt; idx % 2 == 1})</code>

                 <a href="vim9.html#Vim9">Vim9</a>  脚本中，返回值必须为真值、假值、零或一。其他值会报告类
                型错误。

                对  <a href="eval.html#List">List</a>  和  <a href="eval.html#Dictionary">Dictionary</a>  而言，本操作是原位操作 (直接在输入上
                修改)。如果不想更动原始输入，先创建备份:
<code class="example">                        :let l = filter(copy(mylist), 'v:val =~ "KEEP"')</code>
<code class="example"></code>
                对于  <a href="eval.html#List">List</a>  或  <a href="eval.html#Dictionary">Dictionary</a> ，返回经过过滤后的 <code class="special">{expr1}</code>，而对于
                 <a href="eval.html#Blob">Blob</a>  或  <a href="eval.html#String">String</a> ，则返回新值。
                如果计算 <code class="special">{expr2}</code> 时出错，不再处理 <code class="special">{expr1}</code> 里的后续项目。
                <code class="special">{expr2}</code> 是函数引用时，除非该函数定义时带上 "abort" 标志位，忽
                略函数里的错误。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        mylist-&gt;filter(expr2)</code>

                返回类型:  <a href="eval.html#String">String</a> 、 <a href="eval.html#Blob">Blob</a> 、list&lt;<code class="special">{type}</code>&gt; 或 dict&lt;<code class="special">{type}</code>&gt;，
                取决于 <code class="special">{expr1}</code>


finddir(<code class="special">{name}</code> [, <code class="special">{path}</code> [, <code class="special">{count}</code>]])                  <b class="vimtag"> <a name="finddir()">finddir()</a> </b>
                在 <code class="special">{path}</code> 里查找目录 <code class="special">{name}</code>。支持向下和向上的递归目录搜索。
                <code class="special">{path}</code> 的语法可见  <a href="editing.html#file-searching">file-searching</a> 。

                返回首个找到的路径。如果找到的目录在当前目录之下，返回相对路
                径。否则，返回完整路径。
                <code class="special">{path}</code> 省略或为空时，使用 <a href="options.html#'path'">'path'</a>。

                可选的 <code class="special">{count}</code> 给出时，查找 <code class="special">{path}</code> 里 <code class="special">{name}</code> 第 <code class="special">{count}</code> 次出
                现，而非默认的第一次。
                但 <code class="special">{count}</code> 如果为负，会返回所有匹配路径组成的  <a href="eval.html#List">List</a> 。

                与 ex 命令  <a href="editing.html#:find">:find</a>  的行为基本相同。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetName()-&gt;finddir()</code>

                返回类型: <code class="special">{count}</code> 为负时是 list<code class="special">&lt;string&gt;</code>，否则是  <a href="eval.html#String">String</a> 


findfile(<code class="special">{name}</code> [, <code class="special">{path}</code> [, <code class="special">{count}</code>]])                 <b class="vimtag"> <a name="findfile()">findfile()</a> </b>
                类似于  <a href="builtin.html#finddir()">finddir()</a> ，但寻找文件而非目录。
                使用 <a href="options.html#'suffixesadd'">'suffixesadd'</a> 选项。
                例如:
<code class="example">                        :echo findfile("tags.vim", ".;")</code>
                会从当前文件所在目录开始向上搜索，直到找到文件 "tags.vim" 为
                止。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetName()-&gt;findfile()</code>

                返回类型: <code class="special">{count}</code> 为负时是 list<code class="special">&lt;string&gt;</code>，否则是  <a href="eval.html#String">String</a> 


flatten(<code class="special">{list}</code> [, <code class="special">{maxdepth}</code>])                          <b class="vimtag"> <a name="flatten()">flatten()</a> </b>
                将 <code class="special">{list}</code> 展平，最多展平到 <code class="special">{maxdepth}</code> 层。<code class="special">{maxdepth}</code> 省略时返
                回完全展平的  <a href="eval.html#List">List</a> ，相当于 <code class="special">{maxdepth}</code> 为极大值。
                <code class="special">{list}</code> 在原位被修改，要想不更动原始输入，可用  <a href="builtin.html#flattennew()">flattennew()</a> 。
                Vim9 脚本中，flatten() 不可用，必须使用  <a href="builtin.html#flattennew()">flattennew()</a> 。
                                                        <b class="vimtag"> <a name="E900">E900</a> </b>
                <code class="special">{maxdepth}</code> 代表展平嵌套列表的最大层数。
                如果 <code class="special">{maxdepth}</code> 为零，不修改 <code class="special">{list}</code>。
                否则，<code class="special">{maxdepth}</code> 必须为正数。

                如果有错，返回数值零。

                示例:
<code class="example">                        :echo flatten([1, [2, [3, 4]], 5])</code>
                        [1, 2, 3, 4, 5]
<code class="example">                        :echo flatten([1, [2, [3, 4]], 5], 1)</code>
                        [1, 2, [3, 4], 5]

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        mylist-&gt;flatten()</code>

                返回类型: list&lt;<code class="special">{type}</code>&gt;


flattennew(<code class="special">{list}</code> [, <code class="special">{maxdepth}</code>])                       <b class="vimtag"> <a name="flattennew()">flattennew()</a> </b>
                同  <a href="builtin.html#flatten()">flatten()</a> ，但先创建 <code class="special">{list}</code> 的备份再进行。

                返回类型: list&lt;<code class="special">{type}</code>&gt;


float2nr(<code class="special">{expr}</code>)                                        <b class="vimtag"> <a name="float2nr()">float2nr()</a> </b>
                返回 <code class="special">{expr}</code> 的整数部分 (去掉小数部分)，将其转换为数值。
                <code class="special">{expr}</code> 的计算结果必须是  <a href="eval.html#Float">Float</a>  或  <a href="eval.html#Number">Number</a> 。否则返回 0。
                如果 <code class="special">{expr}</code> 值超出  <a href="eval.html#Number">Number</a>  的范围，返回 0x7fffffff 或
                -0x7fffffff (有 64-位数值支持时，则为 0x7fffffffffffffff 或
                -0x7fffffffffffffff)。而 NaN 转换为 -0x80000000 (有 64-位数
                值支持时，则为 -0x8000000000000000)。
                示例:
<code class="example">                        echo float2nr(3.95)</code>
                        3 
<code class="example">                        echo float2nr(-23.45)</code>
                        -23 
<code class="example">                        echo float2nr(1.0e100)</code>
                        2147483647  (或 9223372036854775807)
<code class="example">                        echo float2nr(-1.0e150)</code>
                        -2147483647 (或 -9223372036854775807)
<code class="example">                        echo float2nr(1.0e-100)</code>
                        0

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        Compute()-&gt;float2nr()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


floor(<code class="special">{expr}</code>)                                           <b class="vimtag"> <a name="floor()">floor()</a> </b>
                返回小于等于 <code class="special">{expr}</code> 的最大整数 (向下取整)，类型为  <a href="eval.html#Float">Float</a> 。
                <code class="special">{expr}</code> 的计算结果必须是  <a href="eval.html#Float">Float</a>  或  <a href="eval.html#Number">Number</a> 。否则返回 0。
                示例:
<code class="example">                        echo floor(1.856)</code>
                        1.0 
<code class="example">                        echo floor(-5.456)</code>
                        -6.0 
<code class="example">                        echo floor(4.0)</code>
                        4.0

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        Compute()-&gt;floor()</code>

                返回类型:  <a href="eval.html#Float">Float</a> 


fmod(<code class="special">{expr1}</code>, <code class="special">{expr2}</code>)                                  <b class="vimtag"> <a name="fmod()">fmod()</a> </b>
                返回 <code class="special">{expr1}</code> / <code class="special">{expr2}</code> 的余数，此处的除法可能无法精确表示。
                <code class="special">{expr2}</code> 非零时，选取整数 i，返回 <code class="special">{expr1}</code> - i * <code class="special">{expr2}</code>，使得结
                果与 <code class="special">{expr1}</code> 同号且绝对值小于 <code class="special">{expr2}</code> 的绝对值。如果 <code class="special">{expr2}</code>
                为零，则返回零。返回类型为  <a href="eval.html#Float">Float</a> 。
                <code class="special">{expr1}</code> 和 <code class="special">{expr2}</code> 的计算结果必须是  <a href="eval.html#Float">Float</a>  或  <a href="eval.html#Number">Number</a> 。
                否则返回 0.0。
                示例:
<code class="example">                        :echo fmod(12.33, 1.22)</code>
                        0.13
<code class="example">                        :echo fmod(-12.33, 1.22)</code>
                        -0.13

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        Compute()-&gt;fmod(1.22)</code>

                返回类型:  <a href="eval.html#Float">Float</a> 


fnameescape(<code class="special">{string}</code>)                                   <b class="vimtag"> <a name="fnameescape()">fnameescape()</a> </b>
                转义 <code class="special">{string}</code> 以便用作命令的文件名参数。有特殊意义的字符，如
                '%' 和 '|'，会用反斜杠转义。
                多数系统上，会被转义的字符包括 " \t\n*?[{`$\\%#'\"|!&lt;"。而在反
                斜杠可在文件名中合法出现的系统上，哪些字符会被转义取决于
                <a href="options.html#'isfname'">'isfname'</a>。
                其它被转义的字符包括出现在开头的 '+' 和 '&gt;' 字符 (在  <a href="editing.html#:edit">:edit</a> 
                和  <a href="editing.html#:write">:write</a>  之后有特殊意义)，以及单独出现的 "-" (在  <a href="editing.html#:cd">:cd</a>  之后
                有特殊意义)。
                如果出错，返回空串。
                示例:
<code class="example">                        :let fname = '+some str%nge|name'</code>
<code class="example">                        :exe "edit " .. fnameescape(fname)</code>
                会执行:
<code class="example">                        edit \+some\ str\%nge\|name</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetName()-&gt;fnameescape()</code>

                返回类型:  <a href="eval.html#String">String</a> 


fnamemodify(<code class="special">{fname}</code>, <code class="special">{mods}</code>)                            <b class="vimtag"> <a name="fnamemodify()">fnamemodify()</a> </b>
                根据 <code class="special">{mods}</code> 修改文件名 <code class="special">{fname}</code>。<code class="special">{mods}</code> 是与命令行上文件名所用
                相同格式的修饰符字符串。见  <a href="cmdline.html#filename-modifiers">filename-modifiers</a> 。
                例如:
<code class="example">                        :echo fnamemodify("main.c", ":p:h")</code>
                返回:
<code class="example">                        /home/user/vim/vim/src</code>
                如果 <code class="special">{mods}</code> 为空或使用了不支持的修饰符，返回 <code class="special">{fname}</code> 本身。
                如果 <code class="special">{fname}</code> 为空而 <code class="special">{mods}</code> 为 ":h"，会返回 "."，以便  <a href="editing.html#:cd">:cd</a>  所
                用。这不同于不带缓冲区名的 expand('%:h')，后者会返回空串。
                <code class="note">注意</code>: <code class="special">{fname}</code> 里不能直接包含环境变量，需要先通过  <a href="builtin.html#expand()">expand()</a>  进
                行扩展。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetName()-&gt;fnamemodify(':p:h')</code>

                返回类型:  <a href="eval.html#String">String</a> 


foldclosed(<code class="special">{lnum}</code>)                                      <b class="vimtag"> <a name="foldclosed()">foldclosed()</a> </b>
                返回数值，行 <code class="special">{lnum}</code> 位于已关闭的折叠内部时，返回该折叠的起始行
                号。如果不在任何已关闭的折叠中，返回 -1。
                <code class="special">{lnum}</code> 的用法可见  <a href="builtin.html#getline()">getline()</a> 。例如，"." 表示当前行，"'m" 对应
                位置标记 m 的所在行，等等。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetLnum()-&gt;foldclosed()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


foldclosedend(<code class="special">{lnum}</code>)                                   <b class="vimtag"> <a name="foldclosedend()">foldclosedend()</a> </b>
                返回数值，行 <code class="special">{lnum}</code> 位于已关闭的折叠内部时，返回该折叠的结束行
                号。如果不在任何已关闭的折叠中，返回 -1。
                <code class="special">{lnum}</code> 的用法可见  <a href="builtin.html#getline()">getline()</a> 。例如，"." 表示当前行，"'m" 对应
                位置标记 m 的所在行，等等。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetLnum()-&gt;foldclosedend()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


foldlevel(<code class="special">{lnum}</code>)                                       <b class="vimtag"> <a name="foldlevel()">foldlevel()</a> </b>
                返回数值，当前缓冲区中第 <code class="special">{lnum}</code> 行所处的折叠级别。如果位于嵌套
                的折叠中，返回最内层的层级。如果行 <code class="special">{lnum}</code> 不在任何折叠中，返回
                零。这与折叠是打开还是关闭无关。折叠更新时 (来自 <a href="options.html#'foldexpr'">'foldexpr'</a>)，
                如果折叠还在更新中而相应的折叠级别未知，返回 -1。一个特例是前
                一行的折叠级别通常总是已知的。
                <code class="special">{lnum}</code> 的用法可见  <a href="builtin.html#getline()">getline()</a> 。例如，"." 表示当前行，"'m" 对应
                位置标记 m 的所在行，等等。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetLnum()-&gt;foldlevel()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


foldtext()                                              <b class="vimtag"> <a name="foldtext()">foldtext()</a> </b>
                返回代替关闭折叠所显示的字符串。这是 <a href="options.html#'foldtext'">'foldtext'</a> 选项使用的缺省
                函数，而且也只应该在计算 <a href="options.html#'foldtext'">'foldtext'</a> 时使用。它使用
                 <a href="eval.html#v:foldstart">v:foldstart</a> 、 <a href="eval.html#v:foldend">v:foldend</a>  和  <a href="eval.html#v:folddashes">v:folddashes</a>  变量。返回的字符
                串形如:
<code class="example">                        +-- 45 lines: abcdef</code>
                开头连字符的数目取决于折叠级别。"45" 是折叠包含的行数。
                "abcdef" 是折叠里首个非空白行的文本。去掉开头的空白，"//" 或
                "/*"，还有 <a href="options.html#'foldmarker'">'foldmarker'</a> 和 <a href="options.html#'commentstring'">'commentstring'</a> 选项包含的文本。
                用本函数来描绘实际的折叠文本时，行的其余部分会用 <a href="options.html#'fillchars'">'fillchars'</a>
                设置里的 fold 字符来填充。
                如果没有折叠，则返回空串。

                返回类型:  <a href="eval.html#String">String</a> 
                <code class="notvi">{仅当编译时加入  <a href="various.html#+folding">+folding</a>  特性才有效}</code>


foldtextresult(<code class="special">{lnum}</code>)                                  <b class="vimtag"> <a name="foldtextresult()">foldtextresult()</a> </b>
                返回代替行 <code class="special">{lnum}</code> 所在的已关闭折叠所显示的文本。在合适的上下文
                下，通过计算 <a href="options.html#'foldtext'">'foldtext'</a> 得到。
                如果 <code class="special">{lnum}</code> 不在任何已关闭的折叠中，返回空串。
                <code class="special">{lnum}</code> 的用法可见  <a href="builtin.html#getline()">getline()</a> 。例如，"." 表示当前行，"'m" 对应
                位置标记 m 的所在行，等等。
                可用于导出折叠文本，例如在生成 HTML 格式时输出折叠信息。
                <code class="notvi">{仅当编译时加入  <a href="various.html#+folding">+folding</a>  特性才有效}</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetLnum()-&gt;foldtextresult()</code>

                返回类型:  <a href="eval.html#String">String</a> 


foreach(<code class="special">{expr1}</code>, <code class="special">{expr2}</code>)                               <b class="vimtag"> <a name="foreach()">foreach()</a> </b> <b class="vimtag"> <a name="E1525">E1525</a> </b>
                <code class="special">{expr1}</code> 必须是  <a href="eval.html#List">List</a> 、 <a href="eval.html#Tuple">Tuple</a> 、 <a href="eval.html#String">String</a> 、 <a href="eval.html#Blob">Blob</a>  或者
                 <a href="eval.html#Dictionary">Dictionary</a> 。
                对 <code class="special">{expr1}</code> 其中的每个项目计算 <code class="special">{expr2}</code>。<code class="special">{expr1}</code> 不会被修改；但
                子项目可能会，此行为相当于  <a href="eval.html#:lockvar">:lockvar</a>  深度为 1 的加锁。 <a href="eval.html#E741">E741</a> 
                如果需要修改 <code class="special">{expr1}</code>，参见  <a href="builtin.html#map()">map()</a>  和  <a href="builtin.html#filter()">filter()</a> 。

                <code class="special">{expr2}</code> 必须是  <a href="eval.html#string">string</a>  或  <a href="eval.html#Funcref">Funcref</a> 。

                <code class="special">{expr2}</code> 是  <a href="eval.html#string">string</a>  时，<code class="special">{expr2}</code> 内的  <a href="eval.html#v:val">v:val</a>  包含当前项目的
                值。对  <a href="eval.html#Dictionary">Dictionary</a> 、 <a href="eval.html#List">List</a> 、 <a href="eval.html#Tuple">Tuple</a> 、 <a href="eval.html#Blob">Blob</a>  和  <a href="eval.html#String">String</a>  而
                言， <a href="eval.html#v:key">v:key</a>  分别包含当前项目的键、当前项目索引、当前项目索引、
                当前字节索引和当前字符索引。
                示例:
<code class="example">                        call foreach(mylist, 'used[v:val] = true')</code>
                会记录在 <code class="special">{expr1}</code> 列表里的所有项目。

                <code class="note">注意</code> <code class="special">{expr2}</code> 是表达式的结果，其内容又被作为命令运行。因此，这
                里  <a href="eval.html#literal-string">literal-string</a>  比较好用，以避免出现双重反斜杠转义的问题。

                <code class="special">{expr2}</code> 是  <a href="eval.html#Funcref">Funcref</a>  时，它应接受两个参数:
                        1. 当前项目的键或索引。
                        2. 当前项目的值。
                老式匿名函数如果只接受一个参数，不会报错，而 Vim9 匿名函数会报
                错 "E1106: One argument too many"，参数数目必须匹配。
                忽略函数返回值。

                所有情况下，返回 <code class="special">{expr1}</code>。
                如果计算 <code class="special">{expr2}</code> 时出错，不再处理 <code class="special">{expr1}</code> 的后续项目。
                <code class="special">{expr2}</code> 是函数引用时，除非该函数定义时带上 "abort" 标志位，忽
                略函数里的错误。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        mylist-&gt;foreach(expr2)</code>

                返回类型:  <a href="eval.html#String">String</a> 、 <a href="eval.html#Blob">Blob</a> 、list&lt;<code class="special">{type}</code>&gt;、tuple&lt;<code class="special">{type}</code>&gt; 或
                dict&lt;<code class="special">{type}</code>&gt;，取决于 <code class="special">{expr1}</code>


foreground()                                            <b class="vimtag"> <a name="foreground()">foreground()</a> </b>
                把 Vim 窗口置于前台。从客户端向 Vim 服务器发送命令时常用。
                 <a href="builtin.html#remote_send()">remote_send()</a> 
                Win32 系统上此功能未必可用，操作系统并不总允许窗口主动把自己切
                换到前台。可用  <a href="builtin.html#remote_foreground()">remote_foreground()</a>  代替。

                返回类型:  <a href="eval.html#Number">Number</a> 
                {仅当使用 Win32、Motif 和 GTK GUI 版本和 Win32 控制台版本时才
                有效}

fullcommand(<code class="special">{name}</code> [, <code class="special">{vim9}</code>])                          <b class="vimtag"> <a name="fullcommand()">fullcommand()</a> </b>
                获取简短缩写命令的完整命令名；关于命令缩写，详见  <a href="usr_20.html#20.2">20.2</a> 。

                字符串参数 <code class="special">{name}</code> 可包含  <a href="cmdline.html#:">:</a>  或 <code class="special">[range]</code> 前缀，但这些部分会被忽
                略，也不会出现在返回结果里。
                如果命令不存在、有歧义 (用户定义命令有此可能) 或此缩写被禁用
                 <a href="vim9.html#vim9-no-shorten">vim9-no-shorten</a> ，返回空串。

                无 <code class="special">{vim9}</code> 参数时使用当前脚本版本。<code class="special">{vim9}</code> 存在且为 FALSE 时使用
                老式脚本规则。<code class="special">{vim9}</code> 存在且为 TRUE 时使用 Vim9 规则，例如 "en"
                不用作 "endif" 的缩写。

                例如， <code class="badlink">fullcommand('s')</code> 、`fullcommand(<code class="badlink">'sub'</code>)`、
                 <code class="badlink">fullcommand(':%substitute')</code>  都返回 "substitute"。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetName()-&gt;fullcommand()</code>

                返回类型:  <a href="eval.html#String">String</a> 


funcref(<code class="special">{name}</code> [, <code class="special">{arglist}</code>] [, <code class="special">{dict}</code>])                <b class="vimtag"> <a name="funcref()">funcref()</a> </b>
                类似于  <a href="builtin.html#function()">function()</a> ，但返回的函数引用通过引用而非名字来查找函
                数。如果函数 <code class="special">{name}</code> 之后被重定义，这点区别很重要。

                和  <a href="builtin.html#function()">function()</a>  不同，<code class="special">{name}</code> 必须是已存在的用户函数。也支持自
                动载入函数，但必须已经载入 (如果只想引用函数名而希望避免意外触
                发自动载入脚本，可用  <a href="builtin.html#function()">function()</a>  代替)。<code class="special">{name}</code> 不能是内建函
                数。
                如果出错，返回 0。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetFuncname()-&gt;funcref([arg])</code>

                返回类型: func(...): any，或出错时  <a href="eval.html#Number">Number</a> 

                                                        <b class="vimtag"> <a name="function()">function()</a> </b> <b class="vimtag"> <a name="partial">partial</a> </b>
function(<code class="special">{name}</code> [, <code class="special">{arglist}</code>] [, <code class="special">{dict}</code>])               <b class="vimtag"> <a name="E700">E700</a> </b> <b class="vimtag"> <a name="E923">E923</a> </b>
                返回指向函数 <code class="special">{name}</code> 的  <a href="eval.html#Funcref">Funcref</a>  变量。<code class="special">{name}</code> 可以是用户定义函
                数，也可以是内建函数的名字。

                <code class="special">{name}</code> 本身也可为函数引用或者偏函数。如果是偏函数，会使用它自
                身保存的字典，而不接受 <code class="special">{dict}</code> 参数。例如:
<code class="example">                        let FuncWithArg = function(dict.Func, [arg])</code>
<code class="example">                        let Broken = function(dict.Func, [arg], dict)</code>

                如果是函数引用，通过名字 <code class="special">{name}</code> 查找函数，之后该函数如果被重定
                义，通过名字会找到新定义。要确保引用保持不变，可用
                 <a href="builtin.html#funcref()">funcref()</a> 。

                <code class="special">{arglist}</code> 或 <code class="special">{dict}</code> 给出时，会建立偏函数。这意味着函数引用会记
                住参数列表和/或字典，并在调用时使用。

                参数表里的参数会传递给函数。它们出现在其它参数之前，但位于来自
                 <a href="eval.html#method">method</a>  的参数之后。例如:
<code class="example">                        func Callback(arg1, arg2, name)</code>
<code class="example">                        ...</code>
<code class="example">                        let Partial = function('Callback', ['one', 'two'])</code>
<code class="example">                        ...</code>
<code class="example">                        call Partial('name')</code>
                函数的调用相当于:
<code class="example">                        call Callback('one', 'two', 'name')</code>
<code class="example"></code>
                用  <a href="eval.html#method">method</a>  的话:
<code class="example">                        func Callback(one, two, three)</code>
<code class="example">                        ...</code>
<code class="example">                        let Partial = function('Callback', ['two'])</code>
<code class="example">                        ...</code>
<code class="example">                        eval 'one'-&gt;Partial('three')</code>
                函数的调用相当于:
<code class="example">                        call Callback('one', 'two', 'three')</code>
<code class="example"></code>
                function() 调用可以嵌套，为函数引用添加更多参数。新加的参数附
                加到原有参数列表之后。如:
<code class="example">                        func Callback(arg1, arg2, name)</code>
<code class="example">                        "...</code>
<code class="example">                        let Func = function('Callback', ['one'])</code>
<code class="example">                        let Func2 = function(Func, ['two'])</code>
<code class="example">                        "...</code>
<code class="example">                        call Func2('name')</code>
                函数的调用相当于:
<code class="example">                        call Callback('one', 'two', 'name')</code>
<code class="example"></code>
                字典只用于带 "dict" 标记的函数。函数调用时，<code class="special">{dict}</code> 会作为
                "self" 传入函数。例如:
<code class="example">                        function Callback() dict</code>
<code class="example">                           echo "called for " .. self.name</code>
<code class="example">                        endfunction</code>
<code class="example">                        "...</code>
<code class="example">                        let context = {"name": "example"}</code>
<code class="example">                        let Func = function('Callback', context)</code>
<code class="example">                        "...</code>
<code class="example">                        call Func()     " 会回显: called for example</code>
                如果不需额外参数，可以直接使用字典项目形式而不用 function()。
                当 Callback() 的定义采用 context.Callback() 格式时，以下两种写
                法等价:
<code class="example">                        let Func = function('Callback', context)</code>
<code class="example">                        let Func = context.Callback</code>
<code class="example"></code>
                可以同时使用参数列表和字典:
<code class="example">                        function Callback(arg1, count) dict</code>
<code class="example">                        "...</code>
<code class="example">                        let context = {"name": "example"}</code>
<code class="example">                        let Func = function('Callback', ['one'], context)</code>
<code class="example">                        "...</code>
<code class="example">                        call Func(500)</code>
                函数的调用相当于:
<code class="example">                        call context.Callback('one', 500)</code>

                如果出错，返回 0。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetFuncname()-&gt;function([arg])</code>
<code class="example"></code>

                返回类型: func(...): any，或出错时  <a href="eval.html#Number">Number</a> 


garbagecollect([<code class="special">{atexit}</code>])                              <b class="vimtag"> <a name="garbagecollect()">garbagecollect()</a> </b>
                清理不再使用但存在循环引用的  <a href="eval.html#List">List</a>  、 <a href="eval.html#Dictionary">Dictionary</a> 、 <a href="eval.html#Channel">Channel</a> 
                和  <a href="eval.html#Job">Job</a> 。

                几乎无需手动调用本函数，因为 Vim 会在内存不足时或等待用户输入
                超过 <a href="options.html#'updatetime'">'updatetime'</a> 时自动执行相应功能。而对于不存在循环引用的对
                象，一旦不再使用就会立即释放。不过，在长时间运行的脚本里，本函
                数可用于清理大型且存在循环引用的  <a href="eval.html#List">List</a>  和/或  <a href="eval.html#Dictionary">Dictionary</a> 。

                可选的 <code class="special">{atexit}</code> 参数为一时，即使在 Vim 退出时也会执行垃圾回
                收，除非已经执行过。这可用于检查内存泄漏。

                垃圾回收并非立即进行，它会等待安全的时机，通常是等待用户输入字
                符的时候。要强制立即进行垃圾回收，可用
                 <a href="testing.html#test_garbagecollect_now()">test_garbagecollect_now()</a> 。

                返回类型:  <a href="eval.html#String">String</a> 


get(<code class="special">{list}</code>, <code class="special">{idx}</code> [, <code class="special">{default}</code>])                        <b class="vimtag"> <a name="get()">get()</a> </b> <b class="vimtag"> <a name="get()-list">get()-list</a> </b>
                获取  <a href="eval.html#List">List</a>  <code class="special">{list}</code> 里的第 <code class="special">{idx}</code> 个项目。如果对应项目不存在，返
                回 <code class="special">{default}</code>。<code class="special">{default}</code> 默认为零。
                建议用作  <a href="eval.html#method">method</a> :
<code class="example">                        mylist-&gt;get(idx)</code>

                返回类型: any，取决于 <code class="special">{list}</code>


get(<code class="special">{tuple}</code>, <code class="special">{idx}</code> [, <code class="special">{default}</code>])                       <b class="vimtag"> <a name="get()-tuple">get()-tuple</a> </b>
                获取  <a href="eval.html#Tuple">Tuple</a>  <code class="special">{tuple}</code> 里的第 <code class="special">{idx}</code> 个项目。如果对应项目不存在，
                返回 <code class="special">{default}</code>。<code class="special">{default}</code> 默认为零。
                建议用作  <a href="eval.html#method">method</a> :
<code class="example">                        mytuple-&gt;get(idx)</code>

                返回类型: any，取决于 <code class="special">{tuple}</code>


get(<code class="special">{blob}</code>, <code class="special">{idx}</code> [, <code class="special">{default}</code>])                        <b class="vimtag"> <a name="get()-blob">get()-blob</a> </b>
                获取  <a href="eval.html#Blob">Blob</a>  <code class="special">{blob}</code> 里的第 <code class="special">{idx}</code> 个字节。如果对应字节不存在，返
                回 <code class="special">{default}</code>。<code class="special">{default}</code> 默认为 -1。
                建议用作  <a href="eval.html#method">method</a> :
<code class="example">                        myblob-&gt;get(idx)</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


get(<code class="special">{dict}</code>, <code class="special">{key}</code> [, <code class="special">{default}</code>])                        <b class="vimtag"> <a name="get()-dict">get()-dict</a> </b>
                获取  <a href="eval.html#Dictionary">Dictionary</a>  <code class="special">{dict}</code> 里键为 <code class="special">{key}</code> 的项目。如果对应项目不存
                在，返回 <code class="special">{default}</code>。<code class="special">{default}</code> 默认为零。有用的例子:
<code class="example">                        let val = get(g:, 'var_name', 'default')</code>
                会在 g:var_name 存在时，返回其值，不存在时则返回 <code class="badlink">'default'</code>。
                建议用作  <a href="eval.html#method">method</a> :
<code class="example">                        mydict-&gt;get(key)</code>

                返回类型: any，取决于 <code class="special">{dict}</code>


get(<code class="special">{func}</code>, <code class="special">{what}</code>)                                     <b class="vimtag"> <a name="get()-func">get()-func</a> </b>
                获取函数引用 <code class="special">{func}</code> 的项目 <code class="special">{what}</code>。<code class="special">{what}</code> 的可能值是:
                  "name"    函数名
                  "func"    函数
                  "dict"    字典
                  "args"    参数列表
                  "arity"   函数可接受的参数数量相关信息的字典。这里会扣除
                            <code class="special">{arglist}</code> 中已提供的参数。包含以下字段:
                                required    位置参数数目
                                optional    必选参数之外的可选参数数目
                                varargs     如果此函数接受可变参数数目 ... 则
                                            为  <a href="eval.html#TRUE">TRUE</a> 

                                <code class="note">注意</code>: 即使 <code class="special">{arglist}</code> 提供的参数数量多于函数引
                                用本身期待的参数数量，也不会报错，没有相关检
                                测。

                如果出错，返回零。

                建议用作  <a href="eval.html#method">method</a> :
<code class="example">                        myfunc-&gt;get(what)</code>

                返回类型: any，取决于 <code class="special">{func}</code> 和 <code class="special">{what}</code>


getbufinfo([<code class="special">{buf}</code>])                                     <b class="vimtag"> <a name="getbufinfo()">getbufinfo()</a> </b>
getbufinfo([<code class="special">{dict}</code>])
                获取缓冲区的相关信息，返回类型为字典列表。

                不带参数时，返回关于所有缓冲区的信息。

                给出  <a href="eval.html#Dictionary">Dictionary</a>  参数时，仅返回匹配相关条件的缓冲区的信息。
                <code class="special">{dict}</code> 中可指定以下键值:
                        buflisted       只包含在列表内的缓冲区。
                        bufloaded       只包含已加载的缓冲区。
                        bufmodified     只包含修改过的缓冲区。

                否则，<code class="special">{buf}</code> 指定特定的单个缓冲区并返回其信息。<code class="special">{buf}</code> 的用法见上
                述  <a href="builtin.html#bufname()">bufname()</a> 。找到缓冲区时，返回包含单个项目的列表。不然返回
                空列表。

                每个返回的列表项是带有以下项目的字典:
                        bufnr           缓冲区号。
                        changed         缓冲区已修改过则为 TRUE。
                        changedtick     缓冲区发生过的改动次数。
                        command         缓冲区属于命令行窗口  <a href="cmdline.html#cmdwin">cmdwin</a>  则为
                                        TRUE。
                        hidden          缓冲区被隐藏则为 TRUE。
                        lastused        缓冲区最近一次修改以秒为单位的时间戳。
                                        格式和  <a href="builtin.html#localtime()">localtime()</a>  相同。
                                        <code class="notvi">{仅当编译时加入  <a href="various.html#+viminfo">+viminfo</a>  特性才有效}</code>
                        listed          缓冲区在列表内则为 TRUE。
                        lnum            本缓冲区在当前窗口里显示时的光标行号。
                                        仅当该缓冲区在此窗口中曾经显示过才会有
                                        效。如果要查询特定窗口中最近已知的光标
                                        行号，可用  <a href="builtin.html#line()">line()</a> :
<code class="example">                                                :echo line('.', {winid})</code>

                        linecount       缓冲区总行数 (仅当缓冲区载入后才有效)
                        loaded          缓冲区已载入则为 TRUE。
                        name            缓冲区文件的完整路径。
                        signs           缓冲区内已放置标号的列表。
                                        每个列表项是包含以下项目的字典:
                                            id    标号识别符
                                            lnum  行号
                                            name  标号名
                        variables       包含缓冲区局部变量的字典的引用。
                        windows         所有显示此缓冲区的  <a href="windows.html#window-ID">window-ID</a>  列表
                        popups          所有显示此缓冲区的弹出窗口  <a href="windows.html#window-ID">window-ID</a> 
                                        的列表

                示例:
<code class="example">                        for buf in getbufinfo()</code>
<code class="example">                            echo buf.name</code>
<code class="example">                        endfor</code>
<code class="example">                        for buf in getbufinfo({'buflisted':1})</code>
<code class="example">                            if buf.changed</code>
<code class="example">                                ....</code>
<code class="example">                            endif</code>
<code class="example">                        endfor</code>

                要获取缓冲区局部选项，可用:
<code class="example">                        getbufvar({bufnr}, '&amp;option_name')</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetBufnr()-&gt;getbufinfo()</code>

                返回类型: list&lt;dict<code class="special">&lt;any&gt;</code>&gt;


getbufline(<code class="special">{buf}</code>, <code class="special">{lnum}</code> [, <code class="special">{end}</code>])                     <b class="vimtag"> <a name="getbufline()">getbufline()</a> </b>
                返回 <code class="special">{buf}</code> 缓冲区中从第 <code class="special">{lnum}</code> 行到第 <code class="special">{end}</code> 行 (包含) 组成的
                 <a href="eval.html#List">List</a> 。<code class="special">{end}</code> 省略时，返回单行 <code class="special">{lnum}</code> 组成的  <a href="eval.html#List">List</a> 。如果只要
                单行内容，可用  <a href="builtin.html#getbufoneline()">getbufoneline()</a> 。

                <code class="special">{buf}</code> 的用法见上述  <a href="builtin.html#bufname()">bufname()</a> 。

                <code class="special">{lnum}</code> 和 <code class="special">{end}</code> 可用 "$" 来表示缓冲区的末行。除此以外，必须用
                数值。

                如果 <code class="special">{lnum}</code> 小于 1 或超过缓冲区的总行数，返回空  <a href="eval.html#List">List</a> 。

                <code class="special">{end}</code> 如果超过缓冲区的总行数，视为缓冲区的末行。如果 <code class="special">{end}</code> 小
                于 <code class="special">{lnum}</code>，返回空  <a href="eval.html#List">List</a> 。

                本函数只能用于已加载的缓冲区。对未载入或不存在的缓冲区，总是返
                回空  <a href="eval.html#List">List</a> 。

                例如:
<code class="example">                        :let lines = getbufline(bufnr("myfile"), 1, "$")</code>
<code class="example"></code>
                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetBufnr()-&gt;getbufline(lnum)</code>

                返回类型: list<code class="special">&lt;string&gt;</code>


getbufoneline(<code class="special">{buf}</code>, <code class="special">{lnum}</code>)                            <b class="vimtag"> <a name="getbufoneline()">getbufoneline()</a> </b>
                类似于  <a href="builtin.html#getbufline()">getbufline()</a> ，但只获取单行，且以字符串形式返回。

                返回类型:  <a href="eval.html#String">String</a> 


getbufvar(<code class="special">{buf}</code>, <code class="special">{varname}</code> [, <code class="special">{def}</code>])                   <b class="vimtag"> <a name="getbufvar()">getbufvar()</a> </b>
                返回缓冲区 <code class="special">{buf}</code> 里选项或局部变量 <code class="special">{varname}</code> 的值。<code class="note">注意</code> 这里不
                能使用 "b:" 前缀。
                <code class="special">{varname}</code> 参数为字符串。
                <code class="special">{varname}</code> 为空时，返回包含该缓冲区里所有缓冲区局部变量的
                 <a href="eval.html#Dictionary">Dictionary</a> 。
                <code class="special">{varname}</code> 为 "&amp;" 时，返回包含该缓冲区里所有缓冲区局部选项的
                 <a href="eval.html#Dictionary">Dictionary</a> 。
                否则，以 "&amp;" 开头 的 <code class="special">{varname}</code> 会返回对应的缓冲区局部选项值。
                也可用于全局选项或缓冲区局部选项，但不能用于全局变量、窗口局部
                变量和窗口局部选项。
                <code class="special">{buf}</code> 的用法见上述  <a href="builtin.html#bufname()">bufname()</a> 。
                如果缓冲区或者变量不存在，返回 <code class="special">{def}</code> (默认值为空串)。不报错。
                示例:
<code class="example">                        :let bufmodified = getbufvar(1, "&amp;mod")</code>
<code class="example">                        :echo "todo myvar = " .. getbufvar("todo", "myvar")</code>
<code class="example"></code>
                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetBufnr()-&gt;getbufvar(varname)</code>

                返回类型: any，取决于 <code class="special">{varname}</code>


getcellpixels()                                         <b class="vimtag"> <a name="getcellpixels()">getcellpixels()</a> </b>
                返回终端上单元像素的尺寸  <a href="eval.html#List">List</a> 。
                列表格式是 [xpixel, ypixel]。

                仅对 Unix (终端和 gVim) 和 Windows (仅 gVim) 有效。
                其他系统返回 [] 或报错。
                <code class="note">注意</code> 不同终端返回的尺寸可能稍有不同。在macOS 上，系统自带的
                Terminal.app 返回以点 (point) 计的尺寸 (未考虑视网膜缩放)，而
                第三方终端返回物理像素尺寸 (已考虑视网膜缩放)。

                返回类型: list<code class="special">&lt;any&gt;</code>


getcellwidths()                                         <b class="vimtag"> <a name="getcellwidths()">getcellwidths()</a> </b>
                返回由  <a href="builtin.html#setcellwidths()">setcellwidths()</a>  指定的字符范围上的单元宽度覆盖的
                 <a href="eval.html#List">List</a> 。其格式和  <a href="builtin.html#setcellwidths()">setcellwidths()</a>  的参数相同。如果没有字符范
                围上有单元宽度覆盖，返回空列表。

                返回类型: list<code class="special">&lt;any&gt;</code>


getchangelist([<code class="special">{buf}</code>])                                  <b class="vimtag"> <a name="getchangelist()">getchangelist()</a> </b>
                返回缓冲区 <code class="special">{buf}</code> 里的  <a href="motion.html#changelist">changelist</a> 。<code class="special">{buf}</code> 的用法见上述
                 <a href="builtin.html#bufname()">bufname()</a> 。如果缓冲区 <code class="special">{buf}</code> 不存在，返回空列表。

                返回的列表包含两个项目: 改变发生所在位置的列表，以及该列表中的
                当前位置。改变位置列表中的每个列表项是包含以下内容的字典:
                        col             列号
                        coladd          用于 <a href="options.html#'virtualedit'">'virtualedit'</a> 的列偏移
                        lnum            行号
                <code class="special">{buf}</code> 是当前缓冲区时，当前位置指向列表中的当前位置。否则，当前
                位置被设为列表总长度。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetBufnr()-&gt;getchangelist()</code>

                返回类型: list<code class="special">&lt;any&gt;</code>


getchar([<code class="special">{expr}</code> [, <code class="special">{opts}</code>]])                            <b class="vimtag"> <a name="getchar()">getchar()</a> </b>
                从用户或输入流中提取单个字符。
                <code class="special">{expr}</code> 省略或为 -1 时，等待直到有字符输入为止。
                <code class="special">{expr}</code> 为 0 时，仅在有字符可用时才获取该字符，否则返回零。
                <code class="special">{expr}</code> 为 1 时，仅检查是否有可用字符，并不读取该字符。没
                        有字符时返回零。
                如果希望以字符串形式返回字符，可用  <a href="builtin.html#getcharstr()">getcharstr()</a>  或在 <code class="special">{opts}</code>
                中将 "number" 项设为  <a href="eval.html#FALSE">FALSE</a> 。

                <code class="special">{expr}</code> 省略或为零时，返回完整字符或特殊键。如果是单个字符，以
                数值形式返回。可用  <a href="builtin.html#nr2char()">nr2char()</a>  将其转换为字符串。否则，返回字
                符编码形式构成的字符串。
                如果是特殊键，返回以 0x80 (十进制: 128) 开始的一串字节构成的字
                符串。等价于 "\<code class="special">&lt;Key&gt;</code>"，如 "\<code class="special">&lt;Left&gt;</code>"。如果字符键入时带有修饰键
                (Shift、Control、Alt) 且字符本身不包含该修饰符，返回值也是字符
                串类型。可用  <a href="builtin.html#keytrans()">keytrans()</a>  将返回的字符串转为可读的形式。

                <code class="special">{expr}</code> 为 0 时如果键入 Esc，会有短暂的延迟，以判断该按键是否是
                转义序列的起始部分。

                <code class="special">{expr}</code> 为 1 时，只返回第一个字节。如果是单字节字符，返回的就是
                该字符自身的数值形式。可用  <a href="builtin.html#nr2char()">nr2char()</a>  将其转换为字符串。

                 <a href="builtin.html#getcharmod()">getcharmod()</a>  可用于获取附加的修饰符。

                可选参数 <code class="special">{opts}</code> 是支持以下项目的字典:

                        cursor          字符串，指定等待用户输入字符时的光标行
                                        为。
                                        "hide": 隐藏光标。
                                        "keep": 保持当前光标不变。
                                        "msg": 移动光标到消息区。
                                        (缺省: "msg")

                        number          为  <a href="eval.html#TRUE">TRUE</a>  时提取到单个字符时返回数值。
                                        为  <a href="eval.html#FALSE">FALSE</a>  时总把返回值转换为字符串，
                                        无字符可用时返回空串 (而非 0)。
                                        (缺省:  <a href="eval.html#TRUE">TRUE</a> )

                        simplify        为  <a href="eval.html#TRUE">TRUE</a>  时，如果按下的键带有修饰键，
                                        返回的字符会包含修饰符。例如 <code class="keystroke">CTRL-I</code> 和
                                        <code class="special">&lt;Tab&gt;</code> 会返回相同的值。
                                        为  <a href="eval.html#FALSE">FALSE</a>  时，返回的字符不包含修饰
                                        符。
                                        (缺省:  <a href="eval.html#TRUE">TRUE</a> )

                用户点击鼠标按钮时，返回鼠标事件。鼠标位置可在  <a href="eval.html#v:mouse_col">v:mouse_col</a> 、
                 <a href="eval.html#v:mouse_lnum">v:mouse_lnum</a>  、 <code class="badlink">v:mosue_winid</code>  和  <a href="eval.html#v:mouse_win">v:mouse_win</a>  里找到。也可
                用  <a href="builtin.html#getmousepos()">getmousepos()</a> 。忽略鼠标移动事件。
                下例展示了如何用常规的处理方法来定位鼠标:
<code class="example">                        let c = getchar()</code>
<code class="example">                        if c == "\&lt;LeftMouse&gt;" &amp;&amp; v:mouse_win &gt; 0</code>
<code class="example">                          exe v:mouse_win .. "wincmd w"</code>
<code class="example">                          exe v:mouse_lnum</code>
<code class="example">                          exe "normal " .. v:mouse_col .. "|"</code>
<code class="example">                        endif</code>

                使用括号内粘贴模式时，只返回首个字符。粘贴文本的其余部分被丢
                弃。 <a href="term.html#xterm-bracketed-paste">xterm-bracketed-paste</a> 。

                这里不会有提示信息，需要以其它方式来告知用户去输入一个字符。屏
                幕不重画，例如在改变窗口大小时也是如此。使用弹出窗口时，建议使
                用  <a href="popup.html#popup-filter">popup-filter</a> 。

                字符不通过映射。
                键码被替换。因而，用户输入 <code class="special">&lt;Del&gt;</code> 键时，你得到 <code class="special">&lt;Del&gt;</code> 的键码，而
                不是原始的字符序列。比如:
<code class="example">                        getchar() == "\&lt;Del&gt;"</code>
<code class="example">                        getchar() == "\&lt;S-Left&gt;"</code>
                下例重新定义了 "f"，使之在匹配时忽略大小写:
<code class="example">                        :nmap f :call FindChar()&lt;CR&gt;</code>
<code class="example">                        :function FindChar()</code>
<code class="example">                        :  let c = nr2char(getchar())</code>
<code class="example">                        :  while col('.') &lt; col('$') - 1</code>
<code class="example">                        :    normal l</code>
<code class="example">                        :    if getline('.')[col('.') - 1] ==? c</code>
<code class="example">                        :      break</code>
<code class="example">                        :    endif</code>
<code class="example">                        :  endwhile</code>
<code class="example">                        :endfunction</code>

                有时也可能收到模拟的字符事件，例如  <a href="autocmd.html#%3CCursorHold%3E">&lt;CursorHold&gt;</a> 。通常情况
                下，可以忽略它们并跳到下一个实际字符:
<code class="example">                        :function GetKey()</code>
<code class="example">                        :  let c = getchar()</code>
<code class="example">                        :  while c == "\&lt;CursorHold&gt;"</code>
<code class="example">                        :    let c = getchar()</code>
<code class="example">                        :  endwhile</code>
<code class="example">                        :  return c</code>
<code class="example">                        :endfunction</code>

                返回类型:  <a href="eval.html#Number">Number</a>  或  <a href="eval.html#String">String</a> 


getcharmod()                                            <b class="vimtag"> <a name="getcharmod()">getcharmod()</a> </b>
                返回数值，反映最近用  <a href="builtin.html#getchar()">getchar()</a>  或其它方式输入字符时的修饰符
                状态。多个修饰符的值会相加:
                        2       Shift
                        4       Control
                        8       Alt (Meta)
                        16      Meta (当和 ALT 不同时)
                        32      鼠标双击
                        64      鼠标三击
                        96      鼠标四击 (== 32 + 64)
                        128     Command (Mac) 或 Super (GTK)
                只返回字符本身未包含的的修饰符。例如，Shift-a 会得到 "A"，返回
                值不带修饰符。如果没有任何修饰符，返回 0。

                返回类型:  <a href="eval.html#Number">Number</a> 


getcharpos(<code class="special">{expr}</code>)                                      <b class="vimtag"> <a name="getcharpos()">getcharpos()</a> </b>
                获取字符串 <code class="special">{expr}</code> 所指位置。和  <a href="builtin.html#getpos()">getpos()</a>  类同，但返回列表中的
                列号以字符为单位，而非字节索引。
                如果  <a href="builtin.html#getpos()">getpos()</a>  返回的列号等于  <a href="eval.html#v:maxcol">v:maxcol</a>  的极大值，那么相应
                地，getcharpos() 会返回该行最后一个字符的字符索引。

                示例:
                光标在第五行文本 "여보세요" 的 '세' 上时:
<code class="example">                        getcharpos('.')         返回 [0, 5, 3, 0]</code>
<code class="example">                        getpos('.')             返回 [0, 5, 7, 0]</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetMark()-&gt;getcharpos()</code>

                返回类型: list<code class="special">&lt;number&gt;</code>


getcharsearch()                                         <b class="vimtag"> <a name="getcharsearch()">getcharsearch()</a> </b>
                以 <code class="special">{dict}</code> 形式返回当前字符搜索相关信息，包含以下条目:

                    char        最近一次字符搜索 ( <a href="motion.html#t">t</a> 、 <a href="motion.html#f">f</a> 、 <a href="motion.html#T">T</a>  或  <a href="motion.html#F">F</a> ) 所用的
                                字符；如果尚未进行过字符搜索，返回空串
                    forward     字符搜索的方向；1 表示正向搜索，0 表示反向搜索
                    until       字符搜索的类型；1 表示使用了  <a href="motion.html#t">t</a>  或  <a href="motion.html#T">T</a>  字符搜
                                索，0 表示使用了  <a href="motion.html#f">f</a>  或  <a href="motion.html#F">F</a>  字符搜索

                可以用来让  <a href="motion.html#;">;</a>  和  <a href="motion.html#,">,</a>  始终进行正向或反向搜索，而不受上次字符搜
                索方向的影响:
<code class="example">                        :nnoremap &lt;expr&gt; ; getcharsearch().forward ? ';' : ','</code>
<code class="example">                        :nnoremap &lt;expr&gt; , getcharsearch().forward ? ',' : ';'</code>
                另见  <a href="builtin.html#setcharsearch()">setcharsearch()</a> 。

                返回类型: dict<code class="special">&lt;any&gt;</code>


getcharstr([<code class="special">{expr}</code> [, <code class="special">{opts}</code>]])                         <b class="vimtag"> <a name="getcharstr()">getcharstr()</a> </b>
                和  <a href="builtin.html#getchar()">getchar()</a>  类同，但总是返回字符串形式，且 <code class="special">{opts}</code> 里不允许
                设置 "number"。

                返回类型:  <a href="eval.html#String">String</a> 


getcmdcomplpat()                                        <b class="vimtag"> <a name="getcmdcomplpat()">getcmdcomplpat()</a> </b>
                返回当前命令行的补全模式。
                仅在编辑命令行时有效，所以必须在  <a href="cmdline.html#c_CTRL-\_e">c_CTRL-\_e</a> 、 <a href="cmdline.html#c_CTRL-R_%20">c_CTRL-R_=</a>  或
                表达式映射的上下文中使用。
                另见  <a href="builtin.html#getcmdtype()">getcmdtype()</a> 、 <a href="builtin.html#setcmdpos()">setcmdpos()</a> 、 <a href="builtin.html#getcmdline()">getcmdline()</a> 、
                 <a href="builtin.html#getcmdprompt()">getcmdprompt()</a> 、 <a href="builtin.html#getcmdcompltype()">getcmdcompltype()</a>  和  <a href="builtin.html#setcmdline()">setcmdline()</a> 。
                如果没有可用的补全，返回空串。

                返回类型:  <a href="eval.html#String">String</a> 


getcmdcompltype()                                       <b class="vimtag"> <a name="getcmdcompltype()">getcmdcompltype()</a> </b>
                返回当前命令行的补全类型。
                仅在编辑命令行时有效，所以必须在  <a href="cmdline.html#c_CTRL-\_e">c_CTRL-\_e</a> 、 <a href="cmdline.html#c_CTRL-R_%20">c_CTRL-R_=</a>  或
                表达式映射的上下文中使用。
                返回的字符串值补全类型可见  <a href="map.html#:command-completion">:command-completion</a> 。
                另见  <a href="builtin.html#getcmdtype()">getcmdtype()</a> 、 <a href="builtin.html#setcmdpos()">setcmdpos()</a>  、 <a href="builtin.html#getcmdline()">getcmdline()</a> 、
                 <a href="builtin.html#getcmdprompt()">getcmdprompt()</a> 、 <a href="builtin.html#getcmdcomplpat()">getcmdcomplpat()</a>  和  <a href="builtin.html#setcmdline()">setcmdline()</a> 。
                如果没有可用的补全，返回空串。

                要获取为指定字符串所使用的命令行补全的类型，可用
                 <a href="builtin.html#getcompletiontype()">getcompletiontype()</a> 。

                返回类型:  <a href="eval.html#String">String</a> 


getcmdline()                                            <b class="vimtag"> <a name="getcmdline()">getcmdline()</a> </b>
                返回当前命令行的输入。
                仅在编辑命令行时有效，所以必须在  <a href="cmdline.html#c_CTRL-\_e">c_CTRL-\_e</a> 、 <a href="cmdline.html#c_CTRL-R_%20">c_CTRL-R_=</a>  或
                表达式映射的上下文中使用。
                例如:
<code class="example">                        :cmap &lt;F7&gt; &lt;C-\&gt;eescape(getcmdline(), ' \')&lt;CR&gt;</code>
                另见  <a href="builtin.html#getcmdtype()">getcmdtype()</a> 、 <a href="builtin.html#getcmdpos()">getcmdpos()</a> 、 <a href="builtin.html#setcmdpos()">setcmdpos()</a> 、
                 <a href="builtin.html#getcmdprompt()">getcmdprompt()</a>  和  <a href="builtin.html#setcmdline()">setcmdline()</a> 。
                输入密码或用  <a href="builtin.html#inputsecret()">inputsecret()</a>  时返回空串。

                返回类型:  <a href="eval.html#String">String</a> 


getcmdpos()                                             <b class="vimtag"> <a name="getcmdpos()">getcmdpos()</a> </b>
                返回当前命令行中光标所在的字节索引位置。首列位置为 1。
                仅在编辑命令行时有效，所以必须在  <a href="cmdline.html#c_CTRL-\_e">c_CTRL-\_e</a> 、 <a href="cmdline.html#c_CTRL-R_%20">c_CTRL-R_=</a>  或
                表达式映射的上下文中使用。
                否则返回 0。
                另见  <a href="builtin.html#getcmdtype()">getcmdtype()</a> 、 <a href="builtin.html#setcmdpos()">setcmdpos()</a> 、 <a href="builtin.html#getcmdline()">getcmdline()</a> 、
                 <a href="builtin.html#getcmdprompt()">getcmdprompt()</a>  和  <a href="builtin.html#setcmdline()">setcmdline()</a> 。

                返回类型:  <a href="eval.html#Number">Number</a> 


getcmdprompt()                                          <b class="vimtag"> <a name="getcmdprompt()">getcmdprompt()</a> </b>
                返回当前命令行在使用  <a href="builtin.html#input()">input()</a>  或  <a href="builtin.html#confirm()">confirm()</a>  等函数时显示的提
                示字符串。
                仅在编辑命令行时有效，所以必须在  <a href="cmdline.html#c_CTRL-\_e">c_CTRL-\_e</a> 、 <a href="cmdline.html#c_CTRL-R_%20">c_CTRL-R_=</a>  或
                表达式映射的上下文中使用。
                另见  <a href="builtin.html#getcmdtype()">getcmdtype()</a> 、 <a href="builtin.html#getcmdline()">getcmdline()</a> 、 <a href="builtin.html#getcmdpos()">getcmdpos()</a> 、
                 <a href="builtin.html#setcmdpos()">setcmdpos()</a>  和  <a href="builtin.html#setcmdline()">setcmdline()</a> 。

                返回类型:  <a href="eval.html#String">String</a> 


getcmdscreenpos()                                       <b class="vimtag"> <a name="getcmdscreenpos()">getcmdscreenpos()</a> </b>
                返回当前命令行中光标所在的屏幕位置。首屏幕列位置为 1。
                和  <a href="builtin.html#getcmdpos()">getcmdpos()</a>  不同，本函数返回的光标位置会把提示字符串的长
                度也计算在内。
                仅在编辑命令行时有效，所以必须在  <a href="cmdline.html#c_CTRL-\_e">c_CTRL-\_e</a> 、 <a href="cmdline.html#c_CTRL-R_%20">c_CTRL-R_=</a>  或
                表达式映射的上下文中使用。
                否则返回 0。
                另见  <a href="builtin.html#getcmdpos()">getcmdpos()</a> 、 <a href="builtin.html#setcmdpos()">setcmdpos()</a> 、 <a href="builtin.html#getcmdline()">getcmdline()</a>  和
                 <a href="builtin.html#setcmdline()">setcmdline()</a> 。

                返回类型:  <a href="eval.html#Number">Number</a> 


getcmdtype()                                            <b class="vimtag"> <a name="getcmdtype()">getcmdtype()</a> </b>
                返回当前命令行的类型。可能的返回值是:
                    :   普通 Ex 命令
                    &gt;   调试模式命令  <a href="repeat.html#debug-mode">debug-mode</a> 
                    /   正向搜索命令
                    ?   反向搜索命令
                    @    <a href="builtin.html#input()">input()</a>  命令
                    -    <a href="insert.html#:insert">:insert</a>  或  <a href="insert.html#:append">:append</a>  命令
                    =    <a href="insert.html#i_CTRL-R_%20">i_CTRL-R_=</a> 
                仅在编辑命令行时有效，所以必须在  <a href="cmdline.html#c_CTRL-\_e">c_CTRL-\_e</a> 、 <a href="cmdline.html#c_CTRL-R_%20">c_CTRL-R_=</a>  或
                表达式映射的上下文中使用。
                否则返回空串。
                另见  <a href="builtin.html#getcmdpos()">getcmdpos()</a> 、 <a href="builtin.html#setcmdpos()">setcmdpos()</a>  和  <a href="builtin.html#getcmdline()">getcmdline()</a> 。

                返回类型:  <a href="eval.html#String">String</a> 


getcmdwintype()                                         <b class="vimtag"> <a name="getcmdwintype()">getcmdwintype()</a> </b>
                返回当前  <a href="cmdline.html#command-line-window">command-line-window</a>  的类型。可能的返回值和
                 <a href="builtin.html#getcmdtype()">getcmdtype()</a>  相同。如果不在命令行窗口内，返回空串。

                返回类型:  <a href="eval.html#String">String</a> 


getcompletion(<code class="special">{pat}</code>, <code class="special">{type}</code> [, <code class="special">{filtered}</code>])             <b class="vimtag"> <a name="getcompletion()">getcompletion()</a> </b>
                返回命令行补全的匹配项列表。字符串参数 <code class="special">{type}</code> 指定补全类型。支
                持的类型如下:

                arglist         参数列表中的文件名
                augroup         自动命令组
                buffer          缓冲区名
                behave           <a href="gui.html#:behave">:behave</a>  子选项
                breakpoint       <a href="repeat.html#:breakadd">:breakadd</a>  和  <a href="repeat.html#:breakdel">:breakdel</a>  子选项
                color           色彩方案
                command         Ex 命令
                cmdline          <a href="cmdline.html#cmdline-completion">cmdline-completion</a>  结果 (见下)
                compiler        编译器
                cscope           <a href="if_cscop.html#:cscope">:cscope</a>  子选项
                custom,<code class="special">{func}</code>   通过 <code class="special">{func}</code> (返回换行分隔的字符串) 定义的定制
                                补全
                customlist,<code class="special">{func}</code> 通过 <code class="special">{func}</code> (返回列表) 定义的定制补全
                diff_buffer      <a href="diff.html#:diffget">:diffget</a>  和  <a href="diff.html#:diffput">:diffput</a>  补全 (处于比较模式的
                                缓冲区)
                dir             目录名
                dir_in_path     <a href="options.html#'cdpath'">'cdpath'</a> 里的目录名
                environment     环境变量名
                event           自动命令事件
                expression      Vim 表达式
                file            文件和目录名
                file_in_path    <a href="options.html#'path'">'path'</a> 中的文件和目录名
                filetype        文件类型名 <a href="options.html#'filetype'">'filetype'</a>
                filetypecmd      <a href="filetype.html#:filetype">:filetype</a>  子选项
                function        函数名
                help            帮助主题
                highlight       高亮组
                history          <a href="cmdline.html#:history">:history</a>  子选项
                keymap          键盘映射
                locale          locale 名 (可见 locale -a 的输出)
                mapclear        缓冲区参数 (<code class="vim">译者注</code>: 只有一项 "<code class="special">&lt;buffer&gt;</code>")
                mapping         映射名
                menu            菜单
                messages         <a href="message.html#:messages">:messages</a>  子选项
                option          选项
                packadd         可选包  <a href="repeat.html#pack-add">pack-add</a>  名
                retab            <a href="change.html#:retab">:retab</a>  子选项
                scriptnames     执行过的脚本名  <a href="repeat.html#:scriptnames">:scriptnames</a> 
                shellcmd        外壳命令
                shellcmdline    带文件名参数的外壳命令行
                sign             <a href="sign.html#:sign">:sign</a>  子选项
                syntax          语法文件名 <a href="options.html#'syntax'">'syntax'</a>
                syntime          <a href="syntax.html#:syntime">:syntime</a>  子选项
                tag             标签
                tag_listfiles   带文件名的标签 (<code class="vim">译者注</code>: 只返回标签，但如果多个
                                文件中有相同的标签，标签会列出多次，见
                                <a href="options.html#'wildoptions'">'wildoptions'</a> 里的 "tagfile")
                user            用户名
                var             用户变量

                <code class="special">{pat}</code> 为空串时返回所有匹配项。否则只返回匹配 <code class="special">{pat}</code> 的项目。
                关于 <code class="special">{pat}</code> 中特殊字符的使用，见  <a href="editing.html#wildcards">wildcards</a> 。

                可选的 <code class="special">{filtered}</code> 标志位为 1 时，应用 <a href="options.html#'wildignore'">'wildignore'</a> 来过滤结
                果。否则返回所有匹配项。<a href="options.html#'wildignorecase'">'wildignorecase'</a> 选项则总是有效。

                <a href="options.html#'wildoptions'">'wildoptions'</a> 选项包含 <code class="badlink">'fuzzy'</code> 时，补全匹配使用模糊匹配，否则
                使用正则表达式匹配。这样本函数将与用户在命令行中的偏好保持一
                致。如果不想如此，可在调用 getcompletion() 前清空
                <a href="options.html#'wildoptions'">'wildoptions'</a>，调用结束后再复原。

                <code class="special">{type}</code> 为 "cmdline" 时，返回  <a href="cmdline.html#cmdline-completion">cmdline-completion</a>  的结果。例
                如，要补全 ":call" 命令之后可能的取值:
<code class="example">                        echo getcompletion('call ', 'cmdline')</code>

                如果没有匹配，返回空列表。如果 <code class="special">{type}</code> 为非法值，报错。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetPattern()-&gt;getcompletion('color')</code>

                返回类型: list<code class="special">&lt;string&gt;</code>


getcompletiontype(<code class="special">{pat}</code>)                                <b class="vimtag"> <a name="getcompletiontype()">getcompletiontype()</a> </b>
                返回 <code class="special">{pat}</code> 所使用的命令补全的类型。如果未找到对应的补全类型，
                返回空串。
                要得到当前命令行的补全类型，可用  <a href="builtin.html#getcmdcompltype()">getcmdcompltype()</a> 。

                返回类型: list<code class="special">&lt;string&gt;</code>


getcurpos([<code class="special">{winid}</code>])                                    <b class="vimtag"> <a name="getcurpos()">getcurpos()</a> </b>
                返回光标所在位置。类似于 getpos('.')，但返回列表中包含了额外的
                "curswant" 项:
<code class="section">                    [0, lnum, col, off, curswant] </code>
                "curswant" 是一个数值，用于记录垂直移动光标时的首选列。执行
                 <a href="motion.html#$">$</a>  命令后，它会被设为等于  <a href="eval.html#v:maxcol">v:maxcol</a>  的极大值。另见
                 <a href="builtin.html#getcursorcharpos()">getcursorcharpos()</a>  和  <a href="builtin.html#getpos()">getpos()</a> 。
                首个 "bufnum" 项总为零。而 <code class="badlink">'col'</code> 项返回的是光标的字节索引位
                置。要得到字符位置，可用  <a href="builtin.html#getcursorcharpos()">getcursorcharpos()</a> 。

                可选的 <code class="special">{winid}</code> 参数指定窗口。可以使用窗口号或  <a href="windows.html#window-ID">window-ID</a> 。返
                回该窗口上最近已知的光标位置，如果缓冲区的当前光标位置不属于当
                前窗口，可能会非法。如果 <code class="special">{winid}</code> 非法，返回零组成的列表。

                可用于保存和恢复光标位置:
<code class="example">                        let save_cursor = getcurpos()</code>
<code class="example">                        移动光标</code>
<code class="example">                        call setpos('.', save_cursor)</code>
                <code class="note">注意</code> 此方法只适用于恢复同一窗口内的位置。要恢复更多状态，见
                 <a href="builtin.html#winrestview()">winrestview()</a> 。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetWinid()-&gt;getcurpos()</code>

                返回类型: list<code class="special">&lt;number&gt;</code>


getcursorcharpos([<code class="special">{winid}</code>])                             <b class="vimtag"> <a name="getcursorcharpos()">getcursorcharpos()</a> </b>
                同  <a href="builtin.html#getcurpos()">getcurpos()</a> ，但返回列表中的列号是字符索引而不是字节索引。

                示例:
                如果光标在第三行文本 "여보세요" 的 '보' 时:
<code class="example">                        getcursorcharpos()      返回 [0, 3, 2, 0, 3]</code>
<code class="example">                        getcurpos()             返回 [0, 3, 4, 0, 3]</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetWinid()-&gt;getcursorcharpos()</code>

                返回类型: list<code class="special">&lt;number&gt;</code>


getcwd([<code class="special">{winnr}</code> [, <code class="special">{tabnr}</code>]])                           <b class="vimtag"> <a name="getcwd()">getcwd()</a> </b>
                返回当前工作目录名，类型为字符串。此处忽略 <a href="options.html#'autochdir'">'autochdir'</a> 设置。

                <code class="special">{winr}</code> 给出时，则返回当前标签页上指定窗口的本地当前目录。
                <code class="special">{winr}</code> 可为窗口号或  <a href="windows.html#window-ID">window-ID</a> 。
                <code class="special">{winr}</code> 为 -1 时，返回全局工作目录名。另见  <a href="builtin.html#haslocaldir()">haslocaldir()</a> 。

                <code class="special">{winr}</code> 和 <code class="special">{tabnr}</code> 同时给出时，返回指定标签页上指定窗口的本地当
                前目录。<code class="special">{winnr}</code> 为 -1 时，返回指定标签页的当前目录。
                <code class="special">{winr}</code> 为零时，使用当前窗口。<code class="special">{tabnr}</code> 为零时，使用当前标签页。
                无参数时，返回当前窗口的实际工作目录。
                如果参数非法，返回空串。

                示例:
<code class="example">                        " 返回当前窗口的工作目录</code>
<code class="example">                        :echo getcwd()</code>
<code class="example">                        :echo getcwd(0)</code>
<code class="example">                        :echo getcwd(0, 0)</code>
<code class="example">                        " 返回标签页 2 上窗口 3 的工作目录</code>
<code class="example">                        :echo getcwd(3, 2)</code>
<code class="example">                        " 返回全局工作目录</code>
<code class="example">                        :echo getcwd(-1)</code>
<code class="example">                        " 返回标签页 3 上的工作目录</code>
<code class="example">                        :echo getcwd(-1, 3)</code>
<code class="example">                        " 返回当前标签页上的工作目录</code>
<code class="example">                        :echo getcwd(-1, 0)</code>
<code class="example"></code>
                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetWinnr()-&gt;getcwd()</code>

                返回类型:  <a href="eval.html#String">String</a> 


getenv(<code class="special">{name}</code>)                                          <b class="vimtag"> <a name="getenv()">getenv()</a> </b>
                返回环境变量 <code class="special">{name}</code> 的值。参数 <code class="special">{name}</code> 为不带前导 '$' 的字符
                串。
                例如:
<code class="example">                        myHome = getenv('HOME')</code>
<code class="example"></code>
                如果该环境变量不存在，返回  <a href="eval.html#v:null">v:null</a> 。这与值为空串的环境变量不
                同，不过有的系统会把空值解读为已删除的变量。另见  <a href="eval.html#expr-env">expr-env</a> 。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetVarname()-&gt;getenv()</code>

                返回类型:  <a href="eval.html#String">String</a>  或  <a href="eval.html#Number">Number</a> 


getfontname([<code class="special">{name}</code>])                                   <b class="vimtag"> <a name="getfontname()">getfontname()</a> </b>
                无参数时，返回正在使用的 normal 字体名，也就是 Normal 高亮组
                 <a href="syntax.html#hl-Normal">hl-Normal</a>  使用的字体名。
                参数 <code class="special">{name}</code> 给出时，检查该字符串是否为合法的字体名。如果不是，
                返回空串。否则，返回实际的字体名，但如果 GUI 不支持取得字符的
                实际名称，返回原始的 <code class="special">{name}</code>。
                仅在 GUI 已启动后才能使用，所以不能在 vimrc 和 gvimrc 文件中调
                用。可通过  <a href="autocmd.html#GUIEnter">GUIEnter</a>  自动命令在 GUI 启动完成后使用本函数。
                <code class="note">注意</code> GTK GUI 接受任何字体名，所以不会检查名字的合法性。

                返回类型:  <a href="eval.html#String">String</a> 


getfperm(<code class="special">{fname}</code>)                                       <b class="vimtag"> <a name="getfperm()">getfperm()</a> </b>
                返回指定文件 <code class="special">{fname}</code> 的读、写与执行权限，类型为字符串。
                如果 <code class="special">{fname}</code> 不存在或者它所在的目录无法读取，返回空串。
                返回值的形式是 "rwxrwxrwx"，三组 "rwx" 标志位分别代表文件所有
                者、文件所属组和其它用户的权限。用户没有某权限时，相应的标志位
                被 "-" 代替。例如:
<code class="example">                        :echo getfperm("/etc/passwd")</code>
<code class="example">                        :echo getfperm(expand("~/.vimrc"))</code>
                理想情况下 (出于安全考虑)，应该显示字符串 "rw-r--r--" 甚至
                "rw-------"。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetFilename()-&gt;getfperm()</code>

                返回类型:  <a href="eval.html#String">String</a> 

                要设置权限，可用  <a href="builtin.html#setfperm()">setfperm()</a> 。


getfsize(<code class="special">{fname}</code>)                                       <b class="vimtag"> <a name="getfsize()">getfsize()</a> </b>
                返回文件 <code class="special">{fname}</code> 以字节数计算的大小，类型为数值。
                如果 <code class="special">{fname}</code> 是目录，返回 0。
                如果文件 <code class="special">{fname}</code> 不存在，返回 -1。
                如果文件 <code class="special">{fname}</code> 过大，超出了 Vim 的数值的范围，返回 -2。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetFilename()-&gt;getfsize()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


getftime(<code class="special">{fname}</code>)                                       <b class="vimtag"> <a name="getftime()">getftime()</a> </b>
                返回文件 <code class="special">{fname}</code> 的最新修改时间 (从 1970 年 1 月 1 日开始计算
                的秒数)，类型为数值。该值可直接传给  <a href="builtin.html#strftime()">strftime()</a>  使用。
                另见  <a href="builtin.html#localtime()">localtime()</a>  和  <a href="builtin.html#strftime()">strftime()</a> 。
                如果文件 <code class="special">{fname}</code> 不存在，返回 -1。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetFilename()-&gt;getftime()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


getftype(<code class="special">{fname}</code>)                                       <b class="vimtag"> <a name="getftype()">getftype()</a> </b>
                返回文件 <code class="special">{fname}</code> 所属类型的描述，类型为字符串。
                如果文件 <code class="special">{fname}</code> 不存在，返回空串。
                下表列出各种不同文件类型对应的返回值:
                        普通文件                "file"
                        目录                    "dir"
                        符号链接                "link"
                        块设备                  "bdev"
                        字符设备                "cdev"
                        套接字                  "socket"
                        FIFO                    "fifo"
                        其它                    "other"
                例如:
<code class="example">                        getftype("/home")</code>
                <code class="note">注意</code> 只有在系统支持时，才会返回 "link" 这样的类型。有的系统只
                支持 "dir" 和 "file"。MS-Windows 上，目录的符号链接返回 "dir"
                而不是 "link"。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetFilename()-&gt;getftype()</code>

                返回类型:  <a href="eval.html#String">String</a> 


getimstatus()                                           <b class="vimtag"> <a name="getimstatus()">getimstatus()</a> </b>
                返回数值，IME 状态激活时为  <a href="eval.html#TRUE">TRUE</a> ，否则为  <a href="eval.html#FALSE">FALSE</a> 。
                参见 <a href="options.html#'imstatusfunc'">'imstatusfunc'</a>。

                返回类型:  <a href="eval.html#Number">Number</a> 


getjumplist([<code class="special">{winnr}</code> [, <code class="special">{tabnr}</code>]])                      <b class="vimtag"> <a name="getjumplist()">getjumplist()</a> </b>
                返回指定窗口的  <a href="motion.html#jumplist">jumplist</a> 。

                无参数时，使用当前窗口。
                只带 <code class="special">{winnr}</code> 时，使用当前标签页上的指定窗口。
                <code class="special">{winnr}</code> 也可以是  <a href="windows.html#window-ID">window-ID</a> 。
                <code class="special">{winr}</code> 和 <code class="special">{tabnr}</code> 同时给出时，使用指定标签页上的指定窗口。
                如果 <code class="special">{winnr}</code> 或 <code class="special">{tabnr}</code> 非法，返回空列表。

                返回的列表包含两项: 跳转位置列表，以及在该列表中的最近使用的跳
                转位置号。跳转位置列表中的每一项为位置相关信息的字典，包含以下
                内容:
                        bufnr           缓冲区号
                        col             列号
                        coladd          用于 <a href="options.html#'virtualedit'">'virtualedit'</a> 的列偏移
                        filename        文件名 (如果存在的话)
                        lnum            行号

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetWinnr()-&gt;getjumplist()</code>

                返回类型: list<code class="special">&lt;any&gt;</code>


getline(<code class="special">{lnum}</code> [, <code class="special">{end}</code>])                               <b class="vimtag"> <a name="getline()">getline()</a> </b>
                <code class="special">{end}</code> 省略时，返回当前缓冲区中第 <code class="special">{lnum}</code> 行文本，类型为字符串。
                例如:
<code class="example">                        getline(1)</code>
                <code class="special">{lnum}</code> 是不以数字开始的字符串时，调用  <a href="builtin.html#line()">line()</a>  将把其转换为数
                值。例如，要得到光标所在的行:
<code class="example">                        getline(".")</code>
                如果 <code class="special">{lnum}</code> 是小于 1 或者大于缓冲区的总行数的数值，返回空串。

                <code class="special">{end}</code> 给出时，返回当前缓冲区从 <code class="special">{lnum}</code> 行到第 <code class="special">{end}</code> 行 (包含)
                组成的  <a href="eval.html#List">List</a> 。
                <code class="special">{end}</code> 的用法 和 <code class="special">{lnum}</code> 相同。
                不存在的行会被安静地忽略。
                如果 <code class="special">{end}</code> 小于 <code class="special">{lnum}</code>，返回空  <a href="eval.html#List">List</a> 。
                例如:
<code class="example">                        :let start = line('.')</code>
<code class="example">                        :let end = search("^$") - 1</code>
<code class="example">                        :let lines = getline(start, end)</code>
<code class="example"></code>
                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        ComputeLnum()-&gt;getline()</code>

                返回类型: list<code class="special">&lt;string&gt;</code> 或  <a href="eval.html#String">String</a> ，取决于 <code class="special">{end}</code>

                要获取其它缓冲区中的文本行，见  <a href="builtin.html#getbufline()">getbufline()</a>  和
                 <a href="builtin.html#getbufoneline()">getbufoneline()</a> 。


getloclist(<code class="special">{nr}</code> [, <code class="special">{what}</code>])                             <b class="vimtag"> <a name="getloclist()">getloclist()</a> </b>
                返回窗口 <code class="special">{nr}</code> 的位置列表中所有项目组成的  <a href="eval.html#List">List</a> 。<code class="special">{nr}</code> 可为窗口
                号或  <a href="windows.html#window-ID">window-ID</a> 。<code class="special">{nr}</code> 为 0 时，使用当前窗口。

                如果给出的窗口本身是位置列表窗口，返回其中显示的位置列表。如果
                窗口号 <code class="special">{nr}</code> 非法，返回空列表。其它的情形类同于  <a href="builtin.html#getqflist()">getqflist()</a> 。

                可选的 <code class="special">{what}</code> 字典参数给出时，以字典形式返回 <code class="special">{what}</code> 中指定的项
                目。

                <code class="special">{what}</code> 支持的项目参见  <a href="builtin.html#getqflist()">getqflist()</a> 。此外， <a href="builtin.html#getloclist()">getloclist()</a>  还额
                外支持以下项目:

                        filewinid       显示位置列表所指文件的窗口 id。仅当调
                                        用来自位置列表窗口时，此字段才可用。详
                                        见  <a href="quickfix.html#location-list-file-window">location-list-file-window</a> 。

                如果窗口 <code class="special">{nr}</code> 没有关联的位置列表，返回带缺省值的
                 <a href="eval.html#Dictionary">Dictionary</a> 。
                如果窗口 <code class="special">{nr}</code> 不存在，返回空字典。

                示例 (另见  <a href="quickfix.html#getqflist-examples">getqflist-examples</a> ):
<code class="example">                        :echo getloclist(3, {'all': 0})</code>
<code class="example">                        :echo getloclist(5, {'filewinid': 0})</code>

                返回类型: list&lt;dict<code class="special">&lt;any&gt;</code>&gt; 或 list<code class="special">&lt;any&gt;</code> (<code class="vim">译者注</code>: 原文如此，应为
                dict<code class="special">&lt;any&gt;</code>)


getmarklist([<code class="special">{buf}</code>])                                    <b class="vimtag"> <a name="getmarklist()">getmarklist()</a> </b>
                <code class="special">{buf}</code> 参数省略时，返回包含全局位置标记信息的  <a href="eval.html#List">List</a> 。 <a href="motion.html#mark">mark</a> 

                可选的 <code class="special">{buf}</code> 参数给出时，返回局部于缓冲区 <code class="special">{buf}</code> 的位置标记。
                <code class="special">{buf}</code> 的用法可见  <a href="builtin.html#bufname()">bufname()</a> 。如果 <code class="special">{buf}</code> 非法，返回空列表。

                返回列表的每个列表项是包含以下内容的  <a href="eval.html#Dict">Dict</a> :
                    mark   带 "'" 前缀的位置标记名
                    pos    位置标记所在位置，类型为  <a href="eval.html#List">List</a> :
                                [bufnum, lnum, col, off]
                           详情请参考  <a href="builtin.html#getpos()">getpos()</a> 。
                    file   文件名

                要获取特定位置标记的信息，参见  <a href="builtin.html#getpos()">getpos()</a> 。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetBufnr()-&gt;getmarklist()</code>

                返回类型: list&lt;dict<code class="special">&lt;any&gt;</code>&gt; 或 list<code class="special">&lt;any&gt;</code>


getmatches([<code class="special">{win}</code>])                                     <b class="vimtag"> <a name="getmatches()">getmatches()</a> </b>
                返回当前窗口中由  <a href="builtin.html#matchadd()">matchadd()</a>  和  <a href="pattern.html#:match">:match</a>  命令口定义的所有匹配
                组成的  <a href="eval.html#List">List</a> 。 <a href="builtin.html#getmatches()">getmatches()</a>  常和  <a href="builtin.html#setmatches()">setmatches()</a>  组合使用，因
                为  <a href="builtin.html#setmatches()">setmatches()</a>  可以恢复  <a href="builtin.html#getmatches()">getmatches()</a>  保存的匹配列表。
                <code class="special">{win}</code> 给出时，使用对应此窗口号或窗口 ID 的窗口，而非缺省的当前
                窗口。如果 <code class="special">{win}</code> 非法，返回空列表。
                示例:
<code class="example">                        :echo getmatches()</code>
                        [{<code class="badlink">'group'</code>: 'MyGroup1', <code class="badlink">'pattern'</code>: 'TODO',
                        <code class="badlink">'priority'</code>: 10, <code class="badlink">'id'</code>: 1}, {<code class="badlink">'group'</code>: 'MyGroup2',
                        <code class="badlink">'pattern'</code>: 'FIXME', <code class="badlink">'priority'</code>: 10, <code class="badlink">'id'</code>: 2}]
<code class="example">                        :let m = getmatches()</code>
<code class="example">                        :call clearmatches()</code>
<code class="example">                        :echo getmatches()</code>
                        []
<code class="example">                        :call setmatches(m)</code>
<code class="example">                        :echo getmatches()</code>
                        [{<code class="badlink">'group'</code>: 'MyGroup1', <code class="badlink">'pattern'</code>: 'TODO',
                        <code class="badlink">'priority'</code>: 10, <code class="badlink">'id'</code>: 1}, {<code class="badlink">'group'</code>: 'MyGroup2',
                        <code class="badlink">'pattern'</code>: 'FIXME', <code class="badlink">'priority'</code>: 10, <code class="badlink">'id'</code>: 2}]
<code class="example">                        :unlet m</code>

                返回类型: list&lt;dict<code class="special">&lt;any&gt;</code>&gt; 或 list<code class="special">&lt;any&gt;</code>


getmousepos()                                           <b class="vimtag"> <a name="getmousepos()">getmousepos()</a> </b>
                返回鼠标最近已知位置的信息，类型为  <a href="eval.html#Dictionary">Dictionary</a> 。可用于鼠标点
                击的映射或弹出窗口的过滤。字典包含以下项目:
                        screenrow       屏幕行号
                        screencol       屏幕列号
                        winid           点击位置所在的窗口 ID
                        winrow          "winid" 窗口里的行号
                        wincol          "winid" 窗口里的列号
                        line            "winid" 窗口里的文本行号
                        column          "winid" 窗口里的文本列号
                        coladd          从点击所在字符的起始位置算起，以屏幕列
                                        计的偏移量
                所有的数值 (<code class="vim">译者注</code>: 除 coladd 以外) 从 1 开始。

                如果鼠标不在任何窗口内 (比如在命令行区域或标签页栏  <a href="tabpage.html#tabpanel">tabpanel</a> 
                上)，返回字典里只有 "screenrow" 和 "screencol" 有效，其它的值
                均为零。

                如果鼠标位于窗口下方的状态行上或窗口右侧的垂直分割线上，"line"
                和 "column" 的值为零。

                如果点击位置在某行文本的末尾之后，"column" 会是文本的字节长度
                加一。

                如果鼠标位于弹出窗口上方，将该弹出窗口作为点击所在的窗口。

                使用  <a href="builtin.html#getchar()">getchar()</a>  时，Vim 变量  <a href="eval.html#v:mouse_lnum">v:mouse_lnum</a> 、 <a href="eval.html#v:mouse_col">v:mouse_col</a>  和
                 <a href="eval.html#v:mouse_winid">v:mouse_winid</a>  也能提供鼠标位置的相应信息。

                返回类型: dict<code class="special">&lt;number&gt;</code>


getmouseshape()                                         <b class="vimtag"> <a name="getmouseshape()">getmouseshape()</a> </b>
                返回当前鼠标指针的外型名。如果不支持  <a href="various.html#+mouseshape">+mouseshape</a>  特性或外型
                未知，返回空串。
                本函数主要用于测试。

                返回类型:  <a href="eval.html#String">String</a> 


getpid()                                                <b class="vimtag"> <a name="getpid()">getpid()</a> </b>
                返回 Vim 进程的进程 ID，类型为数值。在 Unix 和 MS-Windows 上，
                该值在 Vim 运行期间保持唯一。

                返回类型:  <a href="eval.html#Number">Number</a> 


getpos(<code class="special">{expr}</code>)                                          <b class="vimtag"> <a name="getpos()">getpos()</a> </b>
                获取字符串 <code class="special">{expr}</code> 对应的位置。
                可接受的位置是:                          <b class="vimtag"> <a name="E1209">E1209</a> </b>
                    .       光标位置。
                    $       当前缓冲区的最后一行。
                    'x      位置标记 x 的位置 (如果未设置过该标记，所有的返回
                            值均为 0)。
                    w0      当前窗口可见部分的首行 (如果显示不刷新，如安静 Ex
                            模式下，则为一)。
                    w$      当前窗口可见部分的末行 (如果无行可见，则为比 "w0"
                            小一的值)。
                    v       不处于可视模式时，表示光标位置。处于可视模式时，则
                            表示可视区域的另一端。一个直观的理解方法是，在可视
                            模式下，"v" 和 ".": 总是互补。"." 指向光标位置，而
                            "v" 指向  <a href="visual.html#v_o">v_o</a>  会将光标移动到的位置。所以，可用
                            "v" 和 "." 组合进行面向字符的可视模式的各种选区操
                            作。如果光标在面向字符可视区域的结尾，"v" 就指向相
                            同可视区域的起点。而如果光标在面向字符可视区域的起
                            点，"v" 就指向相同可视区域的结尾。"v" 和  <a href="motion.html#'%3C">'&lt;</a>  及
                             <a href="motion.html#'%3E">'&gt;</a>  的不同之处是 "v" 会被即时更新。
                <code class="note">注意</code> 可以使用属于其它文件的位置标记。此时返回的位置属于该标记
                所在的缓冲区。

                返回值为包含四个数值的  <a href="eval.html#List">List</a> :
                    [bufnum, lnum, col, off]
                "bufnum" 通常为零，但如果使用了 '0 或 'A 这类全局位置标记，则
                其值为该位置标记所在的缓冲区号。
                "lnum" 和 "col" 对应缓冲区里的行列位置。首列列号为 1。
                "off" 值通常为零，但如果使用了 <a href="options.html#'virtualedit'">'virtualedit'</a>，则其值为从对应字
                符的起始位置算起以屏幕列为单位的偏移量。例如，在制表符的内部或
                在一行文本的末尾之后，该值会为非零。

                要获取光标位置，见  <a href="builtin.html#getcurpos()">getcurpos()</a> 。
                返回值列表中的列号是行内的字节位置。要得到行内的字符位置，可用
                 <a href="builtin.html#getcharpos()">getcharpos()</a> 。

                <code class="note">注意</code> '&lt; 和 '&gt; 的值和可视模式有关: 当使用 "V" (可视行模式) 时，
                '&lt; 的列号为零，而 '&gt; 的列号是等于  <a href="eval.html#v:maxcol">v:maxcol</a>  的极大数。
                等于  <a href="eval.html#v:maxcol">v:maxcol</a>  的极大值用来表示 "在行尾之后"。
                <code class="special">{expr}</code> 如非法，返回全零组成的列表。

                本函数可用来保存和恢复位置标记的位置:
<code class="example">                        let save_a_mark = getpos("'a")</code>
<code class="example">                        ...</code>
<code class="example">                        call setpos("'a", save_a_mark)</code>

                另见  <a href="builtin.html#getcharpos()">getcharpos()</a> 、 <a href="builtin.html#getcurpos()">getcurpos()</a>  和  <a href="builtin.html#setpos()">setpos()</a> 。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetMark()-&gt;getpos()</code>

                返回类型: list<code class="special">&lt;number&gt;</code>


getqflist([<code class="special">{what}</code>])                                     <b class="vimtag"> <a name="getqflist()">getqflist()</a> </b>
                返回所有当前快速修复错误组成的  <a href="eval.html#List">List</a> 。每个列表项是包含以下项
                目的字典:
                        bufnr   与该文件名对应的缓冲区编号，可用  <a href="builtin.html#bufname()">bufname()</a> 
                                获取相应的缓冲区名
                        module  果模块名
                        lnum    缓冲区里的行号 (首行行号为 1)
                        end_lnum
                                多行项目的末行行号
                        col     列号 (首列列号为 1)
                        end_col 范围项目的末列列号
                        vcol     <a href="eval.html#TRUE">TRUE</a> : "col" 对应的是可视列
                                 <a href="eval.html#FALSE">FALSE</a> : "col" 对应的是字节索引
                        nr      错误号
                        pattern 用于定位错误的搜索模式
                        text    错误描述
                        type    错误类型，如 'E'、'1' 等。
                        valid    <a href="eval.html#TRUE">TRUE</a> : 该错误信息能被识别
                        user_data
                                和项目关联的定制数据，可为任何类型。

                错误列表如果不存在或者为空，返回空列表。如果快速修复列表项不对
                应合法的缓冲区，则其 "bufnr" 值为零 (<code class="note">注意</code> 有些函数中，缓冲区号
                为零代表轮换缓冲区，为了区别，可能需要显式检查零值)。

                应用: 在多个文件里搜索指定模式的匹配，并对匹配项进行处理:
<code class="example">                        :vimgrep /theword/jg *.c</code>
<code class="example">                        :for d in getqflist()</code>
<code class="example">                        :   echo bufname(d.bufnr) ':' d.lnum '=' d.text</code>
<code class="example">                        :endfor</code>

                可选的 <code class="special">{what}</code> 字典参数给出时，以字典形式返回 <code class="special">{what}</code> 中指定的项
                目。<code class="special">{what}</code> 支持以下字符串条目:
                        changedtick      <a href="quickfix.html#quickfix-changedtick">quickfix-changedtick</a>  记录列表被修改
                                        的总次数
                        context 获取  <a href="quickfix.html#quickfix-context">quickfix-context</a> 
                        efm     解析 "lines" 时使用的 errorformat。缺省使用
                                <a href="options.html#'errorformat'">'errorformat'</a> 选项值。
                        id      获取对应给定标识符  <a href="quickfix.html#quickfix-ID">quickfix-ID</a>  的快速修复列
                                表的相关信息。零代表当前列表或 "nr" 指定的列表
                        idx     获取由 <code class="badlink">'id'</code> 或 <code class="badlink">'nr'</code> 指定的快速修复列表中，此索
                                引指定的项目信息。如果设为零，使用当前项目。
                                见  <a href="quickfix.html#quickfix-index">quickfix-index</a> 
                        items   获取快速修复列表的所有项目
                        lines   用 <a href="options.html#'efm'">'efm'</a> 解析给出的文本行列表，并返回生成的项
                                目。值只支持  <a href="eval.html#List">List</a>  类型。不修改当前快速修复列
                                表。见  <a href="quickfix.html#quickfix-parse">quickfix-parse</a> 。
                        nr      获取对应指定编号的快速修复列表的信息；零代表当
                                前快速修复列表，"$" 代表最后一个快速修复列表
                        qfbufnr 快速修复窗口所显示的缓冲区号。如果快速修复缓冲
                                区不存在，返回 0。见  <a href="quickfix.html#quickfix-buffer">quickfix-buffer</a> 。
                        size    本快速修复列表的项目总数
                        title   获取列表标题  <a href="quickfix.html#quickfix-title">quickfix-title</a> 
                        winid   获取快速修复的窗口 ID  <a href="windows.html#window-ID">window-ID</a> 
                        all     上述所有的快速修复属性
                使用 <code class="special">{what}</code> 参数时，忽略其中非字符串类型的条目。要获取某个特定
                项之值，需先将该值初始化为零。
                "nr" 省略时，使用当前快速修复列表。
                "nr" 和非零 "id" 同时给出时，优先使用 "id" 指定的列表。
                要取得快速修复栈的列表总数，设置 <code class="special">{what}</code> 中的 <code class="badlink">'nr'</code> 为 "$"。这
                样，返回字典中的 "nr" 值即表示快速修复栈的大小。
                "lines" 给出时，忽略除了 "efm" 之外的其它条目。返回的字典中会
                包含 "items" 项，其值包含所有已解析完成的项目组成的列表。

                返回值为字典，包含以下条目:
                        changedtick      <a href="quickfix.html#quickfix-changedtick">quickfix-changedtick</a>  记录列表被修改
                                        的总次数
                        context 快速修复列表的上下文，见  <a href="quickfix.html#quickfix-context">quickfix-context</a> 
                                如果不存在，设为 ""。
                        id      快速修复列表 ID  <a href="quickfix.html#quickfix-ID">quickfix-ID</a> 。如果不存在，设
                                为 0。
                        idx     快速修复列表中的项目索引。如果不存在，设为 0。
                        items   快速修复列表的所有项目。如果不存在，设为空列
                                表。
                        nr      快速修复列表的列表号。如果不存在，设为 0
                        qfbufnr 快速修复窗口所显示的缓冲区号。如果不存在，设为
                                0。
                        size    快速修复列表的项目总数。如果不存在，设为 0。
                        title   快速修复列表标题文本。如果不存在，设为 ""。
                        winid   快速修复的窗口 ID  <a href="windows.html#window-ID">window-ID</a> 。如果不存在，设
                                为 0

                (<code class="vim">译者注</code>: getqflist() 大致相当于 getqflist({<code class="badlink">'items'</code>:0}.items )
                示例 (另见  <a href="quickfix.html#getqflist-examples">getqflist-examples</a> ):
<code class="example">                        :echo getqflist({'all': 1})</code>
<code class="example">                        :echo getqflist({'nr': 2, 'title': 1})</code>
<code class="example">                        :echo getqflist({'lines' : ["F1:10:L10"]})</code>

                返回类型: list&lt;dict<code class="special">&lt;any&gt;</code>&gt; 或 list<code class="special">&lt;any&gt;</code> (<code class="vim">译者注</code>: 原文如此，应为
                dict<code class="special">&lt;any&gt;</code>)



getreg([<code class="special">{regname}</code> [, 1 [, <code class="special">{list}</code>]]])                    <b class="vimtag"> <a name="getreg()">getreg()</a> </b>
                返回寄存器 <code class="special">{regname}</code> 的内容，类型为字符串。例如:
<code class="example">                        :let cliptext = getreg('*')</code>
                如果未设置过 <code class="special">{regname}</code> 对应的寄存器，返回空串。
                <code class="special">{regname}</code> 参数必须为字符串。 <b class="vimtag"> <a name="E1162">E1162</a> </b>

                getreg('=') 会返回表达式寄存器最近一次计算的结果 (可在映射中使
                用)。
                getreg('=', 1) 则会返回表达式自身而非计算结果，以便将来用
                 <a href="builtin.html#setreg()">setreg()</a>  恢复该寄存器的内容。对于其它寄存器，此额外参数被忽
                略，所以给出此参数也无妨。

                <code class="special">{list}</code> 给出且为  <a href="eval.html#TRUE">TRUE</a>  时，返回列表而非字符串。每个列表项对应
                寄存器内容的一行文本。如果寄存器内容里可能包含零字节，这种形式
                会比较安全: 而如果不给出第三个参数，返回字符串，并且 NL 和零字
                节都会用 NL (换行符) 表示 (见  <a href="pattern.html#NL-used-for-Nul">NL-used-for-Nul</a> )。
                如果未设置过 <code class="special">{regname}</code> 对应的寄存器，返回空列表。

                <code class="special">{regname}</code> 为 "" 时，使用无名寄存器 '"'。
                <code class="special">{regname}</code> 省略时，使用  <a href="eval.html#v:register">v:register</a> 。
                 <a href="vim9.html#Vim9-script">Vim9-script</a>  中，<code class="special">{regname}</code> 必须为单个字符。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetRegname()-&gt;getreg()</code>

                返回类型:  <a href="eval.html#String">String</a>  或 list<code class="special">&lt;string&gt;</code>，取决于 <code class="special">{list}</code>


getreginfo([<code class="special">{regname}</code>])                                 <b class="vimtag"> <a name="getreginfo()">getreginfo()</a> </b>
                返回字典，包含寄存器 <code class="special">{regname}</code> 的详细信息。包含以下条目:
                        regcontents     寄存器 <code class="special">{regname}</code> 内容行组成的列表，相
                                        当于  <code class="badlink">getreg</code> (<code class="special">{regname}</code>, 1, 1)。
                        regtype         寄存器 <code class="special">{regname}</code> 的类型，见
                                         <a href="builtin.html#getregtype()">getregtype()</a> 。
                        isunnamed       布尔标志位，当前无名寄存器指向此寄存器
                                        时为 v:true。
                        points_to       用于无名寄存器，给出其当前指向的寄存器
                                        的单字母名 (见  <a href="change.html#quotequote">quotequote</a> )。例如，用
                                         <a href="change.html#dd">dd</a>  删除一行后，此字段设为 "1"，也就
                                        是包含最近删除文本的寄存器。

                <code class="special">{regname}</code> 参数为字符串。如果 <code class="special">{regname}</code> 非法或未设置过对应的寄
                存器，返回空列表。
                <code class="special">{regname}</code> 为 "" 或 "@" 时，使用无名寄存器 '"'。
                <code class="special">{regname}</code> 省略时，使用  <a href="eval.html#v:register">v:register</a> 。
                返回的字典可作为参数，直接传递给  <a href="builtin.html#setreg()">setreg()</a> 。
                 <a href="vim9.html#Vim9-script">Vim9-script</a>  中，<code class="special">{regname}</code> 必须为单个字符。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetRegname()-&gt;getreginfo()</code>

                返回类型: dict<code class="special">&lt;any&gt;</code>


getregion(<code class="special">{pos1}</code>, <code class="special">{pos2}</code> [, <code class="special">{opts}</code>])                    <b class="vimtag"> <a name="getregion()">getregion()</a> </b>
                返回缓冲区从 <code class="special">{pos1}</code> 到 <code class="special">{pos2}</code> 位置的文本行字符串列表。

                <code class="special">{pos1}</code> 和 <code class="special">{pos2}</code> 必须为带四个数值的  <a href="eval.html#List">List</a> 。列表格式可见
                 <a href="builtin.html#getpos()">getpos()</a> 。可以指定另一缓冲区的位置，但请先查看
                 <a href="builtin.html#getregion-notes">getregion-notes</a>  的限制说明。

                可选参数 <code class="special">{opts}</code> 是支持以下项目的字典:

                        type            指定区域的选择类型。可用值见
                                         <a href="builtin.html#getregtype()">getregtype()</a> ，但其中的宽度可以省略，
                                        且不能用空串。
                                        (缺省: "v")

                        exclusive       结束位置为开的则为  <a href="eval.html#TRUE">TRUE</a> 。
                                        (缺省: 使用 <a href="options.html#'selection'">'selection'</a> 选项值)

                 <a href="builtin.html#visualmode()">visualmode()</a>  可用来获取最近的选择类型。可视模式当前激活时，
                 <a href="builtin.html#mode()">mode()</a>  可用来获取当前的可视模式 (例如可在  <a href="map.html#:vmap">:vmap</a>  里使用)。
                本函数可用于通过  <a href="visual.html#characterwise-visual">characterwise-visual</a>  这种开始和结束位置可能
                处于不同列的选择方式来获取文本。

                                                        <b class="vimtag"> <a name="getregion-notes">getregion-notes</a> </b>
                请<code class="note">注意</code>:
                - <code class="special">{pos1}</code> 和 <code class="special">{pos2}</code> 的先后顺序无关紧要。总是返回从左上角到右下
                  角的内容。
                - <a href="options.html#'virtualedit'">'virtualedit'</a> 打开时，区域会跨越行尾，生成的行会以空格填充。
                - 区域为面向列块模式时，如果开始或结束位置位于多单元字符中间
                  时，不包括该多单元字符，选中的部分以空格代替。
                - 如果  <code class="special">{pos1}</code> 和 <code class="special">{pos2}</code> 不处于同一缓冲区，返回空列表。
                - <code class="special">{pos1}</code> 和 <code class="special">{pos2}</code> 必须属于  <a href="builtin.html#bufloaded()">bufloaded()</a>  的缓冲区。
                - 计算在当前窗口上下文下进行，如果缓冲区在不同的 <a href="options.html#'virtualedit'">'virtualedit'</a>
                  或 <a href="options.html#'list'">'list'</a> 设置的其它窗口中显示，结果可能不一致。
                - 指定开区间的选择区，但 <code class="special">{pos1}</code> 和 <code class="special">{pos2}</code> 相同时，返回包含单个
                  字符的列表，就像选择区是闭区间那样，这与可视模式下处理空的开
                  选择区的方式相同。

                示例:
<code class="example">                        :xnoremap &lt;CR&gt;</code>
<code class="example">                        \ &lt;Cmd&gt;echow getregion(</code>
<code class="example">                        \ getpos('v'), getpos('.'), #{ type: mode() })&lt;CR&gt;</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        getpos('.')-&gt;getregion(getpos("'a"))</code>

                返回类型: list<code class="special">&lt;string&gt;</code>


getregionpos(<code class="special">{pos1}</code>, <code class="special">{pos2}</code> [, <code class="special">{opts}</code>])                 <b class="vimtag"> <a name="getregionpos()">getregionpos()</a> </b>
                和  <a href="builtin.html#getregion()">getregion()</a>  类同，但返回 <code class="special">{pos1}</code> 和 <code class="special">{pos2}</code> 定界的缓冲区文
                本片段对应位置的列表。
                每个片段表示一行上中的一个位置对:
<code class="example">                        [[{start_pos}, {end_pos}], ...]</code>

                位置是包含四个数值的  <a href="eval.html#List">List</a> :
                    [bufnum, lnum, col, off]
                "bufnum" 为缓冲区号。
                "lnum" 和 "col" 对应缓冲区里的行列位置。首列列号为 1。
                起始位置的 "off" 值如果非零，指定从字符的起始位置算起以屏幕列
                为单位的偏移量。如 <code class="special">&lt;Tab&gt;</code> 的内部和一行文本的末尾之后，该值会为
                非零。类似地，结束位置的 "off" 值如果非零，指定该字符的首个不
                在选择区的屏幕单元偏移量，否则，该字符的所有单元都在选择区内。

                除了  <a href="builtin.html#getregion()">getregion()</a>  支持的选项以外，<code class="special">{opts}</code> 还支持下列值:

                        eol              <a href="eval.html#TRUE">TRUE</a>  代表 "col" 用行长加一来指示行尾
                                        之后的位置。
                                         <a href="eval.html#FALSE">FALSE</a>  代表位置被局限在行范围内，对空
                                        行或选择区完全在行尾之后，两个位置的
                                        "col" 都使用 0 值。
                                        (缺省:  <a href="eval.html#FALSE">FALSE</a> )

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        getpos('.')-&gt;getregionpos(getpos("'a"))</code>

                示例可见高亮-抽出插件  <a href="usr_52.html#52.6">52.6</a> 

                返回类型: list&lt;list&lt;list<code class="special">&lt;number&gt;</code>&gt;&gt;


getregtype([<code class="special">{regname}</code>])                                 <b class="vimtag"> <a name="getregtype()">getregtype()</a> </b>
                返回寄存器 <code class="special">{regname}</code> 的类型，返回类型是字符串。
                可能值是:
                    "v"                  <a href="motion.html#characterwise">characterwise</a>  (面向字符) 的文本
                    "V"                  <a href="motion.html#linewise">linewise</a>  (面向行) 的文本
                    "&lt;<code class="keystroke">CTRL-V</code>&gt;<code class="special">{width}</code>"    <a href="visual.html#blockwise-visual">blockwise-visual</a>  (面向列块) 的文本
                    ""                  空或者未知的寄存器
                &lt;<code class="keystroke">CTRL-V</code>&gt; 是单个字符，其值为 0x16。
                <code class="special">{regname}</code> 参数为字符串。
                <code class="special">{regname}</code> 为 "" 时，使用无名寄存器 '"'。
                <code class="special">{regname}</code> 省略时，使用  <a href="eval.html#v:register">v:register</a> 。
                 <a href="vim9.html#Vim9-script">Vim9-script</a>  中，<code class="special">{regname}</code> 必须为单个字符。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetRegname()-&gt;getregtype()</code>

                返回类型:  <a href="eval.html#String">String</a> 


getscriptinfo([<code class="special">{opts}</code>])                                 <b class="vimtag"> <a name="getscriptinfo()">getscriptinfo()</a> </b>
                返回包含所有已执行的 Vim 脚本的信息列表，依执行时间的顺序排
                列，类似于  <a href="repeat.html#:scriptnames">:scriptnames</a>  显示的结果。

                可选的字典参数 <code class="special">{opts}</code> 支持以下可选项目:
                    name        匹配脚本名的模式。指定此项目而不指定 "sid"
                                时，返回名字匹配 "name" 模式的脚本的信息。
                    sid         脚本 ID  <a href="map.html#%3CSID%3E">&lt;SID&gt;</a> 。指定此项目时，只返回 ID 为
                                "sid" 的脚本的信息，忽略 "name" 项目。

                返回列表中的每个列表项是包含以下项目的  <a href="eval.html#Dict">Dict</a> :
                    autoload    脚本用 `import autoload` 载入但尚未真正执行则
                                为真 (见  <a href="vim9.html#import-autoload">import-autoload</a> )。
                    functions   在脚本中定义的局部于本脚本的函数名列表。仅当
                                <code class="special">{opts}</code> 中用 "sid" 项目指定了特定脚本时，此项目
                                上才会出现。
                    name        Vim 脚本文件名。
                    sid         脚本 ID  <a href="map.html#%3CSID%3E">&lt;SID&gt;</a> 。
                    sourced     脚本如为链接，链接到的实际执行脚本的脚本 ID。
                                否则为零。
                    variables   在脚本中定义的局部于本脚本的变量列表。仅当
                                <code class="special">{opts}</code> 中用 "sid" 项目指定了特定脚本时，此项目
                                才会出现。
                                <code class="note">注意</code> 这是备份，不可用此字典来修改脚本局部变量
                                的值。
                    version     Vim 脚本版本号 ( <a href="eval.html#scriptversion">scriptversion</a> )

                示例:
<code class="example">                        :echo getscriptinfo({'name': 'myscript'})</code>
<code class="example">                        :echo getscriptinfo({'sid': 15})[0].variables</code>

                返回类型: list&lt;dict<code class="special">&lt;any&gt;</code>&gt;


getstacktrace()                                         <b class="vimtag"> <a name="getstacktrace()">getstacktrace()</a> </b>
                返回 Vim 脚本的当前栈追踪。
                栈追踪是列表，其中每个列表项为包含以下项目的  <a href="eval.html#Dictionary">Dictionary</a> :
                    funcref     堆栈位于函数内时，该函数的引用，否则省略此项。
                    event       堆栈位于自动命令事件内时，对应事件的描述字符
                                串，否则省略此项。
                    lnum        堆栈在脚本中的行号。
                    filepath    堆栈在脚本中的文件路径。

                返回类型: list&lt;dict<code class="special">&lt;any&gt;</code>&gt;


gettabinfo([<code class="special">{tabnr}</code>])                                   <b class="vimtag"> <a name="gettabinfo()">gettabinfo()</a> </b>
                <code class="special">{tabnr}</code> 省略时，返回包含所有标签页信息的  <a href="eval.html#List">List</a> 。每个列表项是
                如下所述的  <a href="eval.html#Dictionary">Dictionary</a> 。否则，<code class="special">{tabnr}</code> 指定标签页号，返回一个
                仅含该标签页相关信息的单元素列表。如果该标签页不存在，返回空列
                表。

                每个列表项是包含以下项目的  <a href="eval.html#Dictionary">Dictionary</a> :
                        tabnr           标签页号
                        variables       一个指向该标签页局部变量字典的引用
                        windows         标签页中所有  <a href="windows.html#window-ID">window-ID</a>  的列表。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetTabnr()-&gt;gettabinfo()</code>

                返回类型: list&lt;dict<code class="special">&lt;any&gt;</code>&gt;


gettabvar(<code class="special">{tabnr}</code>, <code class="special">{varname}</code> [, <code class="special">{def}</code>])                 <b class="vimtag"> <a name="gettabvar()">gettabvar()</a> </b>
                获取局部于标签页 <code class="special">{tabnr}</code> 的名为 <code class="special">{varname}</code> 的变量值。 <a href="eval.html#t:var">t:var</a> 
                标签页的编号从一开始。
                <code class="special">{varname}</code> 参数为字符串。<code class="special">{varname}</code> 为空时，返回包含该标签页里所
                有标签页局部变量的字典。
                <code class="note">注意</code> 这里必须使用不带 "t:" 前缀的变量名。
                如果指定的标签页或者变量不存在，返回 <code class="special">{def}</code> (默认为空串)。不会
                有错误消息。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetTabnr()-&gt;gettabvar(varname)</code>

                返回类型: any，取决于 <code class="special">{varname}</code>


gettabwinvar(<code class="special">{tabnr}</code>, <code class="special">{winnr}</code>, <code class="special">{varname}</code> [, <code class="special">{def}</code>])     <b class="vimtag"> <a name="gettabwinvar()">gettabwinvar()</a> </b>
                得到标签页 <code class="special">{tabnr}</code> 里局部于窗口 <code class="special">{winnr}</code> 的名为 <code class="special">{varname}</code> 的变
                量值。
                <code class="special">{varname}</code> 参数为字符串。<code class="special">{varname}</code> 为空时，返回包含该窗口里所有
                窗口局部变量的字典。
                <code class="special">{varname}</code> 为 "&amp;" 时，返回包含该窗口里所有窗口局部选项的
                 <a href="eval.html#Dictionary">Dictionary</a> 。
                否则，以 "&amp;" 开头 的 <code class="special">{varname}</code> 会返回对应的窗口局部选项值。
                <code class="note">注意</code> <code class="special">{varname}</code> 必须为不带 "w:" 前缀的变量名。
                标签页的编号从一开始。对于当前标签页，可用  <a href="builtin.html#getwinvar()">getwinvar()</a>  来获
                取对应的窗口变量。
                <code class="special">{winnr}</code> 可为窗口号或  <a href="windows.html#window-ID">window-ID</a> 。
                <code class="special">{winnr}</code> 为零时，使用当前窗口。
                也可用于全局选项、缓冲区局部选项和窗口局部选项，但不能用于全局
                变量或者缓冲区局部变量。
                如果指定的标签页、窗口或者变量不存在，返回 <code class="special">{def}</code> (默认为空
                串)。不会有错误消息。
                例如:
<code class="example">                        :let list_is_on = gettabwinvar(1, 2, '&amp;list')</code>
<code class="example">                        :echo "myvar = " .. gettabwinvar(3, 1, 'myvar')</code>

                要得到指定窗口里所有的窗口局部变量，可用:
<code class="example">                        gettabwinvar({tabnr}, {winnr}, '&amp;')</code>
<code class="example"></code>
                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetTabnr()-&gt;gettabwinvar(winnr, varname)</code>

                返回类型: any，取决于 <code class="special">{varname}</code>


gettagstack([<code class="special">{winnr}</code>])                                  <b class="vimtag"> <a name="gettagstack()">gettagstack()</a> </b>
                返回窗口 <code class="special">{winnr}</code> 的标签栈，类型为字典。
                <code class="special">{winnr}</code> 可为窗口号或  <a href="windows.html#window-ID">window-ID</a> 。
                <code class="special">{winnr}</code> 省略时，使用当前窗口。
                如果窗口 <code class="special">{winnr}</code> 不存在，返回空字典。

                返回字典包含如下项目:
                        curidx          栈的当前索引。栈顶为 (length + 1)。栈
                                        底为 1。
                        items           栈项目的列表。每个列表项是字典，见下。
                        length          栈项目的总数。

                栈中的每个项目是包含以下条目的字典:
                        bufnr           当前跳转所在的缓冲区号
                        from            标签跳转之前所在的光标位置。 <a href="builtin.html#getpos()">getpos()</a> 
                                        说明返回列表的格式。
                        matchnr         当前的匹配标签编号。用于同一名字有多个
                                        匹配标签的情形。
                        tagname         标签名

                 <a href="tagsrch.html#tagstack">tagstack</a>  说明标签栈的更多信息。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetWinnr()-&gt;gettagstack()</code>

                返回类型: dict<code class="special">&lt;any&gt;</code>


gettext(<code class="special">{text}</code> [, <code class="special">{package}</code>])                           <b class="vimtag"> <a name="gettext()">gettext()</a> </b>
                对字符串 <code class="special">{text}</code> 进行翻译。
                用于 Vim 脚本。要生成消息翻译时，由  <code class="badlink">xgettext</code>  对 <code class="special">{text}</code> 进行
                提取，翻<code class="vim">译者</code>会把翻译后的消息加到 .po 文件，调用 gettext() 时，
                Vim 会依此查找翻译内容。
                <code class="special">{text}</code> 推荐使用双引号括起，因为  <code class="badlink">xgettext</code>  不理解单引号字符串
                里的转义。

                给出 <code class="special">{package}</code> 时，只寻找特定于该包的翻译。主要用于第三方 Vim
                脚本。需要在使用 gettext() 函数前先用  <a href="builtin.html#bindtextdomain()">bindtextdomain()</a>  来指
                定翻译所在的路径。

                返回类型:  <a href="eval.html#String">String</a> 


getwininfo([<code class="special">{winid}</code>])                                   <b class="vimtag"> <a name="getwininfo()">getwininfo()</a> </b>
                返回窗口信息，返回值是字典的  <a href="eval.html#List">List</a> 。

                <code class="special">{winid}</code> 给出时，返回一个仅含指定窗口 ID 对应的窗口的信息的单元
                素  <a href="eval.html#List">List</a> 。窗口是  <a href="popup.html#popup">popup</a>  窗口时，返回该弹出窗口的信息。如果窗
                口不存在，返回空列表。

                <code class="special">{winid}</code> 省略时，返回所有标签页中所有窗口 (但不包括  <a href="popup.html#popup">popup</a>  窗
                口) 的信息。

                每个列表项是包含以下条目的  <a href="eval.html#Dictionary">Dictionary</a> :
                        botline         最后一行完整显示的缓冲区行号
                        bufnr           窗口中显示的缓冲区号
                        height          窗口高度 (窗口工具条 winbar 不计算在
                                        内)
                        leftcol         显示的首列列号；仅用于 <a href="options.html#'wrap'">'wrap'</a> 关闭时
                        loclist         显示位置列表时为 1
                                        <code class="notvi">{仅当加入  <a href="various.html#+quickfix">+quickfix</a>  特性才有效}</code>
                        quickfix        快速修复或位置列表窗口则为 1
                                        <code class="notvi">{仅当加入  <a href="various.html#+quickfix">+quickfix</a>  特性才有效}</code>
                        terminal        终端窗口则为 1
                                        <code class="notvi">{仅当加入  <a href="various.html#+terminal">+terminal</a>  特性才有效}</code>
                        tabnr           标签页号
                        topline         窗口中显示的首行缓冲区行号
                        variables       一个指向该窗口局部变量字典的引用
                        width           窗口宽度
                        winbar          窗口有工具条时为 1，反之为 0
                        wincol          窗口最左侧的屏幕列号，相当于
                                         <a href="builtin.html#win_screenpos()">win_screenpos()</a>  中的 "col"
                        textoff         文本前由 <a href="options.html#'foldcolumn'">'foldcolumn'</a>、<a href="options.html#'signcolumn'">'signcolumn'</a> 和
                                        行号所占据的列数
                        winid            <a href="windows.html#window-ID">window-ID</a> 
                        winnr           窗口号
                        winrow          窗口最顶侧的屏幕行号，相当于
                                         <a href="builtin.html#win_screenpos()">win_screenpos()</a>  中的 "row"

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetWinnr()-&gt;getwininfo()</code>

                返回类型: list&lt;dict<code class="special">&lt;any&gt;</code>&gt;


getwinpos([<code class="special">{timeout}</code>])                                  <b class="vimtag"> <a name="getwinpos()">getwinpos()</a> </b>
                返回两个数值组成的  <a href="eval.html#List">List</a> ，相当于  <a href="builtin.html#getwinposx()">getwinposx()</a>  和
                 <a href="builtin.html#getwinposy()">getwinposy()</a>  返回值的混合:
                        [x-pos, y-pos]
                <code class="special">{timeout}</code> 可指定以毫秒为单位的等待终端反馈的超时。默认为 100
                毫秒。对于远程终端，可考虑更长的超时。
                如果取值小于 10 且在指定时限内没有收到反馈，返回上次已有的报告
                位置。可用于在轮询位置信息的同时执行其他并发操作:
<code class="example">                        while 1</code>
<code class="example">                          let res = getwinpos(1)</code>
<code class="example">                          if res[0] &gt;= 0</code>
<code class="example">                            break</code>
<code class="example">                          endif</code>
<code class="example">                          " 干些话</code>
<code class="example">                        endwhile</code>


                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetTimeout()-&gt;getwinpos()</code>

                返回类型: list<code class="special">&lt;number&gt;</code>


getwinposx()                                            <b class="vimtag"> <a name="getwinposx()">getwinposx()</a> </b>
                返回 GUI Vim 窗口左侧的 X 坐标 (以像素为单位)，类型为数值。也
                适用于 xterm (使用 100 毫秒超时)。
                如果无法取得该信息 (例如在 Wayland 后台上)，返回 -1。
                返回值可用于  <a href="gui.html#:winpos">:winpos</a> 。

                返回类型:  <a href="eval.html#Number">Number</a> 


getwinposy()                                            <b class="vimtag"> <a name="getwinposy()">getwinposy()</a> </b>
                返回 GUI Vim 窗口顶部的 Y 坐标 (以像素为单位)，类型为数值。也
                适用于 xterm (使用 100 毫秒超时)。
                如果无法取得该信息 (例如在 Wayland 后台上)，返回 -1。
                返回值可用于  <a href="gui.html#:winpos">:winpos</a> 。

                返回类型:  <a href="eval.html#Number">Number</a> 


getwinvar(<code class="special">{winnr}</code>, <code class="special">{varname}</code> [, <code class="special">{def}</code>])                 <b class="vimtag"> <a name="getwinvar()">getwinvar()</a> </b>
                和  <a href="builtin.html#gettabwinvar()">gettabwinvar()</a>  类同，但只用当前标签页。
                例如:
<code class="example">                        :let list_is_on = getwinvar(2, '&amp;list')</code>
<code class="example">                        :echo "myvar = " .. getwinvar(1, 'myvar')</code>
<code class="example"></code>
                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetWinnr()-&gt;getwinvar(varname)</code>

                返回类型: any，取决于 <code class="special">{varname}</code>


glob(<code class="special">{expr}</code> [, <code class="special">{nosuf}</code> [, <code class="special">{list}</code> [, <code class="special">{alllinks}</code>]]])      <b class="vimtag"> <a name="glob()">glob()</a> </b>
                扩展 <code class="special">{expr}</code> 里的文件通配符。 <a href="editing.html#wildcards">wildcards</a>  说明其中特殊字符的使用
                方法。

                除非可选的 <code class="special">{nosuf}</code> 参数给出且为  <a href="eval.html#TRUE">TRUE</a> ，否则会应用 <a href="options.html#'suffixes'">'suffixes'</a>
                和 <a href="options.html#'wildignore'">'wildignore'</a> 选项: 跳过匹配任何 <a href="options.html#'wildignore'">'wildignore'</a> 模式的名字，而
                <a href="options.html#'suffixes'">'suffixes'</a> 会影响匹配结果的排序方式。
                <a href="options.html#'wildignorecase'">'wildignorecase'</a> 则始终生效。

                <code class="special">{list}</code> 给出且为  <a href="eval.html#TRUE">TRUE</a>  时，返回包含所有匹配文件的  <a href="eval.html#List">List</a> 。使用
                列表的优点是可以正确处理包含换行符的文件名。
                否则返回的是字符串，有多个匹配项时，各项之间以 <code class="special">&lt;NL&gt;</code> 字符分隔。

                如果扩展失败，返回空串或空列表。

                如果需要进行更复杂的操作，例如限制匹配项的数目，可以考虑
                 <a href="builtin.html#readdir()">readdir()</a>  。

                扩展结果不包含不存在的文件句。符号链接只有在指向已存在的文件时
                才会包含在扩展结果内。但 <code class="special">{alllinks}</code> 参数给出且为  <a href="eval.html#TRUE">TRUE</a>  时，所
                有符号链接都会被包含。

                多数系统上，可以用反引号来执行外部命令，并将其输出作为文件名。
                例如:
<code class="example">                        :let tagfiles = glob("`find . -name tags -print`")</code>
<code class="example">                        :let &amp;tags = substitute(tagfiles, "\n", ",", "g")</code>
                反引号包围的程序的输出结果必须每项一行。每项的内部可以包含空
                格。

                 <a href="builtin.html#expand()">expand()</a>  说明如何扩展特殊 Vim 变量。 <a href="builtin.html#system()">system()</a>  说明如何获取
                外部命令的原始输出。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetExpr()-&gt;glob()</code>

                返回类型:  <a href="eval.html#String">String</a>  或 list<code class="special">&lt;string&gt;</code> 或 list<code class="special">&lt;any&gt;</code>，取决于 <code class="special">{list}</code>


glob2regpat(<code class="special">{string}</code>)                                    <b class="vimtag"> <a name="glob2regpat()">glob2regpat()</a> </b>
                将  <a href="builtin.html#glob()">glob()</a>  所用的文件模式转换为搜索模式。结果可用来匹配包含文
                件名的字符串。例如
<code class="example">                        if filename =~ glob2regpat('Make*.mak')</code>
                等价于:
<code class="example">                        if filename =~ '^Make.*\.mak$'</code>
                <code class="special">{string}</code> 为空串时，返回 "^$"，用于匹配空串。
                <code class="note">备注</code> 结果与所用系统有关。MS-Windows 上反斜杠通常用作路径分隔
                符。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetExpr()-&gt;glob2regpat()</code>

                返回类型:  <a href="eval.html#String">String</a> 

                                                        <b class="vimtag"> <a name="globpath()">globpath()</a> </b>
globpath(<code class="special">{path}</code>, <code class="special">{expr}</code> [, <code class="special">{nosuf}</code> [, <code class="special">{list}</code> [, <code class="special">{alllinks}</code>]]])
                在 <code class="special">{path}</code> 的所有目录下，用  <a href="builtin.html#glob()">glob()</a>  扩展字符串 <code class="special">{expr}</code>，并连接
                所有的返回结果。例如:
<code class="example">                        :echo globpath(&amp;rtp, "syntax/c.vim")</code>

                <code class="special">{path}</code> 是由逗号分隔的目录名列表。每个目录名会附加在 <code class="special">{expr}</code> 之
                前，然后如同  <a href="builtin.html#glob()">glob()</a>  那样被扩展。必要的话，会自动插入路径分隔
                符。
                如果目录名中需要包含逗号，可用反斜杠转义。<code class="note">注意</code> 在 MS-Windows
                上，目录名结尾可能带有反斜杠。如果要在后面加上逗号进行分隔，先
                去掉结尾的反斜杠。
                如果某个目录对应的扩展失败，不会有错误信息。

                除非可选的 <code class="special">{nosuf}</code> 参数给出且为  <a href="eval.html#TRUE">TRUE</a> ，否则会应用 <a href="options.html#'suffixes'">'suffixes'</a>
                和 <a href="options.html#'wildignore'">'wildignore'</a> 选项: 跳过匹配任何 <a href="options.html#'wildignore'">'wildignore'</a> 模式的名字，而
                <a href="options.html#'suffixes'">'suffixes'</a> 影响匹配结果的排序方式。

                <code class="special">{list}</code> 给出且为  <a href="eval.html#TRUE">TRUE</a>  时，返回包含所有匹配文件的列表。列表的
                优点是可以正确处理包含换行符的文件名，
                否则返回的是字符串，有多个匹配项时，各项之间以 <code class="special">&lt;NL&gt;</code> 字符分隔。
                例如:
<code class="example">                        :echo globpath(&amp;rtp, "syntax/c.vim", 0, 1)</code>

                <code class="special">{alllinks}</code> 的用法可见  <a href="builtin.html#glob()">glob()</a> 。

                可以用 "**" 项目在目录树里进行搜索。例如，要在 <a href="options.html#'runtimepath'">'runtimepath'</a>
                和其下所有目录里查找 "README.txt" 文件:
<code class="example">                        :echo globpath(&amp;rtp, "**/README.txt")</code>
                不支持向上搜索和 "**" 的深度限制，所以 <a href="options.html#'path'">'path'</a> 的各种用法不一定
                总能正确工作。

                也可用作  <a href="eval.html#method">method</a> ，基是作为第二个参数传递的:
<code class="example">                        GetExpr()-&gt;globpath(&amp;rtp)</code>

                返回类型:  <a href="eval.html#String">String</a>  或 list<code class="special">&lt;string&gt;</code> 或 list<code class="special">&lt;any&gt;</code>，取决于 <code class="special">{list}</code>


has(<code class="special">{feature}</code> [, <code class="special">{check}</code>])                              <b class="vimtag"> <a name="has()">has()</a> </b>
                <code class="special">{check}</code> 省略或为零时: 如果支持特性 <code class="special">{feature}</code>，返回 1，否则返回
                零，类型为数值。<code class="special">{feature}</code> 参数是不区分大小写的字符串。见下面的
                 <a href="builtin.html#feature-list">feature-list</a> 。

                <code class="special">{check}</code> 给出且非零时: 如果特性 <code class="special">{feature}</code> 可以支持，返回 1，否
                则返回零，类型为数值。可用于检查 <code class="special">{feature}</code> 是否有拼写错误，也
                可用于检测死代码。需要<code class="note">注意</code>，旧版本的 Vim 不识别新加入的特性，
                而当前版本的 Vim 也不会识别已废弃的特性。

                另见  <a href="builtin.html#exists()">exists()</a>  和  <a href="builtin.html#exists_compiled()">exists_compiled()</a> 。

                <code class="note">注意</code> 如果某特性不可用，相应的代码可能会有语法错误，Vim 可能会
                跳过该行的其余部分，从而导致其中后续的  <code class="badlink">endif</code>  被忽略。因此，
                建议让  <code class="badlink">endif</code>  单起一行:
<code class="example">                        if has('feature')</code>
<code class="example">                          let x = this-&gt;breaks-&gt;without-&gt;the-&gt;feature</code>
<code class="example">                        endif</code>
                如果将  <code class="badlink">endif</code>  移到第二行而成为 "| endif"，它不会被识别到。

                返回类型:  <a href="eval.html#Number">Number</a> 


has_key(<code class="special">{dict}</code>, <code class="special">{key}</code>)                                  <b class="vimtag"> <a name="has_key()">has_key()</a> </b>
                 <a href="eval.html#Dictionary">Dictionary</a>  <code class="special">{dict}</code> 里存在键为 <code class="special">{key}</code> 的项目时返回 TRUE，不然返
                回 FALSE，类型为数值。
                <code class="special">{key}</code> 参数是字符串。 <a href="vim9.html#Vim9">Vim9</a>  脚本中也接受数值 (并转换为字符串)，
                不接受其它类型。而老式脚本中，所有类型都会自动转换为字符串。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        mydict-&gt;has_key(key)</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


haslocaldir([<code class="special">{winnr}</code> [, <code class="special">{tabnr}</code>]])                      <b class="vimtag"> <a name="haslocaldir()">haslocaldir()</a> </b>
                返回数值:
                    1   窗口用  <a href="editing.html#:lcd">:lcd</a>  设置过局部目录时
                    2   标签页用  <a href="editing.html#:tcd">:tcd</a>  设置过局部目录时
                    0   其它。

                无参数时使用当前窗口。
                有 <code class="special">{winr}</code> 时，使用当前标签页的指定窗口。
                同时有 <code class="special">{winr}</code> 和 <code class="special">{tabnr}</code> 时，使用指定标签页的指定窗口。
                <code class="special">{winr}</code> 可为窗口号或  <a href="windows.html#window-ID">window-ID</a> 。
                <code class="special">{winnr}</code> 为 -1 时，它被忽略，只使用标签页。
                如果参数非法，返回 0。
                示例:
<code class="example">                        if haslocaldir() == 1</code>
<code class="example">                          " 窗口局部目录的情况</code>
<code class="example">                        elseif haslocaldir() == 2</code>
<code class="example">                          " 标签页局部目录的情况</code>
<code class="example">                        else</code>
<code class="example">                          " 全局目录的情况</code>
<code class="example">                        endif</code>
<code class="example"></code>
<code class="example">                        " 当前窗口</code>
<code class="example">                        :echo haslocaldir()</code>
<code class="example">                        :echo haslocaldir(0)</code>
<code class="example">                        :echo haslocaldir(0, 0)</code>
<code class="example">                        " 当前标签页的窗口 n</code>
<code class="example">                        :echo haslocaldir(n)</code>
<code class="example">                        :echo haslocaldir(n, 0)</code>
<code class="example">                        " 标签页 m 的窗口 n</code>
<code class="example">                        :echo haslocaldir(n, m)</code>
<code class="example">                        " 标签页 m</code>
<code class="example">                        :echo haslocaldir(-1, m)</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetWinnr()-&gt;haslocaldir()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


hasmapto(<code class="special">{what}</code> [, <code class="special">{mode}</code> [, <code class="special">{abbr}</code>]])                  <b class="vimtag"> <a name="hasmapto()">hasmapto()</a> </b>
                返回数值，当存在一个映射，其右手边表达式 (被映射到的部分) 的某
                个位置包含 <code class="special">{what}</code>，并且该映射在 <code class="special">{mode}</code> 指定的模式下有效时，返
                回 TRUE。
                参数 <code class="special">{what}</code> 和 <code class="special">{mode}</code> 为字符串。
                <code class="special">{abbr}</code> 给出且为  <a href="eval.html#TRUE">TRUE</a>  时，使用缩写而不是映射。不要忘记指定插
                入和/或命令行模式。
                寻找匹配时，同时检查全局映射和局部于当前缓冲区的映射。
                如果没有匹配的映射，返回 FALSE。
                <code class="special">{mode}</code> 识别下列字符:
                        n       普通模式
                        v       可视和选择模式
                        x       可视模式
                        s       选择模式
                        o       操作符等待模式
                        i       插入模式
                        l       Language-Argument ("r"、"f"、"t" 等等) 模式
                        c       命令行模式
                <code class="special">{mode}</code> 省略时，使用 "nvo"。

                该函数可用于在脚本中检查是否存在使用了特定函数的映射。例如:
<code class="example">                        :if !hasmapto('\ABCdoit')</code>
<code class="example">                        :   map &lt;Leader&gt;d \ABCdoit</code>
<code class="example">                        :endif</code>
                这里，只有当指向 "\ABCdoit" 的映射还不存在时，才会创建该映射。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetRHS()-&gt;hasmapto()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


histadd(<code class="special">{history}</code>, <code class="special">{item}</code>)                              <b class="vimtag"> <a name="histadd()">histadd()</a> </b>
                把字符串 <code class="special">{item}</code> 加入历史 <code class="special">{history}</code>。后者可以是:
                                                        <b class="vimtag"> <a name="hist-names">hist-names</a> </b>
                        "cmd"    或 ":"   命令行历史
                        "search" 或 "/"   搜索模式历史
                        "expr"   或 "="   输入表达式历史
                        "input"  或 "@"   输入行历史
                        "debug"  或 "&gt;"   调试命令历史
                        空                当前或最后使用的历史
                <code class="special">{history}</code> 字符串无须是完整名字，一个字符即可。
                如果 <code class="special">{item}</code> 已存在于历史中，它会被移动到最新的位置。
                返回数值: 操作成功时返回 TRUE，否则返回 FALSE。

                例如:
<code class="example">                        :call histadd("input", strftime("%Y %b %d"))</code>
<code class="example">                        :let date=input("Enter date: ")</code>
                该函数在沙盘里不可用  <a href="eval.html#sandbox">sandbox</a> 。

                也可用作  <a href="eval.html#method">method</a> ，基是作为第二个参数传递的:
<code class="example">                        GetHistory()-&gt;histadd('search')</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


histdel(<code class="special">{history}</code> [, <code class="special">{item}</code>])                           <b class="vimtag"> <a name="histdel()">histdel()</a> </b>
                清除 <code class="special">{history}</code>，换而言之，删除它所有的项目。 <a href="builtin.html#hist-names">hist-names</a>  说明
                <code class="special">{history}</code> 所有的可能值。

                <code class="special">{item}</code> 计算结果为字符串时，它被看作正则表达式。从历史里删除所
                有匹配该模式的项目 (如果有的话)。
                除非使用 "\c"  <a href="pattern.html#%2F\c">/\c</a> ，否则必须匹配大小写。
                <code class="special">{item}</code> 的计算结果为数值时，它被解释为索引值，见
                 <a href="cmdline.html#:history-indexing">:history-indexing</a> 。删除相应的项目 (如果有的话)。

                返回结果为数值: 操作成功时为 TRUE，否则返回 FALSE。

                例如:
                清除表达式寄存器历史:
<code class="example">                        :call histdel("expr")</code>

                删除所有 "*" 开始的搜索历史:
<code class="example">                        :call histdel("/", '^\*')</code>

                下面三者是等价的:
<code class="example">                        :call histdel("search", histnr("search"))</code>
<code class="example">                        :call histdel("search", -1)</code>
<code class="example">                        :call histdel("search", '^' .. histget("search", -1) .. '$')</code>

                要删除最近的搜索模式，从而使 "n" 命令和 <a href="options.html#'hlsearch'">'hlsearch'</a> 使用倒数第
                二个模式:
<code class="example">                        :call histdel("search", -1)</code>
<code class="example">                        :let @/ = histget("search", -1)</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetHistory()-&gt;histdel()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


histget(<code class="special">{history}</code> [, <code class="special">{index}</code>])                          <b class="vimtag"> <a name="histget()">histget()</a> </b>
                返回历史 <code class="special">{history}</code> 里的第 <code class="special">{index}</code> 项内容，类型为字符串。
                 <a href="builtin.html#hist-names">hist-names</a>  说明 <code class="special">{history}</code> 所有的可能值，而
                 <a href="cmdline.html#:history-indexing">:history-indexing</a>  说明 <code class="special">{index}</code> 的用法。
                如果相应项目不存在，返回空串。
                <code class="special">{index}</code> 省略时，返回历史里最近使用的项目。

                例如:
                重做历史里的倒数第二个搜索。
<code class="example">                        :execute '/' .. histget("search", -2)</code>
<code class="example"></code>
                定义 Ex 命令 ":H <code class="special">{num}</code>"，以重新执行  <a href="cmdline.html#:history">:history</a>  输出的第 <code class="special">{num}</code>
                项命令。
<code class="example">                        :command -nargs=1 H execute histget("cmd", 0+&lt;args&gt;)</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetHistory()-&gt;histget()</code>

                返回类型:  <a href="eval.html#String">String</a> 


histnr(<code class="special">{history}</code>)                                       <b class="vimtag"> <a name="histnr()">histnr()</a> </b>
                返回 <code class="special">{history}</code> 里当前项目的编号。 <a href="builtin.html#hist-names">hist-names</a>  说明 <code class="special">{history}</code>
                所有的可能值。
                如果有错，返回 -1。

                例如:
<code class="example">                        :let inp_index = histnr("expr")</code>
<code class="example"></code>
                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetHistory()-&gt;histnr()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


hlexists(<code class="special">{name}</code>)                                        <b class="vimtag"> <a name="hlexists()">hlexists()</a> </b>
                名为 <code class="special">{name}</code> 的高亮组存在时返回 TRUE。该组不必包含任何具体的高
                亮设置，只要定义过即可。一些语法项目可能已经引用了该组。
                                                        <b class="vimtag"> <a name="highlight_exists()">highlight_exists()</a> </b>
                已废弃的名字: highlight_exists()。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetName()-&gt;hlexists()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


hlget([<code class="special">{name}</code> [, <code class="special">{resolve}</code>]])                           <b class="vimtag"> <a name="hlget()">hlget()</a> </b>
                返回包含所有高亮组属性的列表。可选的 <code class="special">{name}</code> 给出时，只返回指定
                高亮组的属性的列表。如果高亮组 <code class="special">{name}</code> 不存在，返回空列表。

                可选的 <code class="special">{resolve}</code> 参数设为 v:true 而且高亮组 <code class="special">{name}</code> 链接到另一
                个组时，会递归解析链接并返回最终目标高亮组的属性。

                返回列表里的每个列表项是包含以下条目的字典:
                        cleared 布尔型标志位，高亮组属性被清除或还未指定时设为
                                v:true。见  <a href="syntax.html#highlight-clear">highlight-clear</a> 。
                        cterm   cterm 属性。见  <a href="syntax.html#highlight-cterm">highlight-cterm</a> 。
                        ctermbg cterm 背景色。见  <a href="syntax.html#highlight-ctermbg">highlight-ctermbg</a> 。
                        ctermfg cterm 前景色。见  <a href="syntax.html#highlight-ctermfg">highlight-ctermfg</a> 。
                        ctermul cterm 下划线颜色。见  <a href="syntax.html#highlight-ctermul">highlight-ctermul</a> 。
                        default 布尔型标志位，高亮组链接是缺省链接时设为
                                v:true。见  <a href="syntax.html#highlight-default">highlight-default</a> 。
                        font    高亮组字体。见  <a href="syntax.html#highlight-font">highlight-font</a> 。
                        gui     gui 属性。见  <a href="syntax.html#highlight-gui">highlight-gui</a> 。
                        guibg   gui 背景色。见  <a href="syntax.html#highlight-guibg">highlight-guibg</a> 。
                        guifg   gui 前景色。见  <a href="syntax.html#highlight-guifg">highlight-guifg</a> 。
                        guisp   gui 特殊颜色。见  <a href="syntax.html#highlight-guisp">highlight-guisp</a> 。
                        id      高亮组 ID。
                        linksto 链接目标高亮组名。见  <a href="syntax.html#:highlight-link">:highlight-link</a> 。
                        name    高亮组名。见  <a href="syntax.html#group-name">group-name</a> 。
                        start   start 终端转义码。见  <a href="syntax.html#highlight-start">highlight-start</a> 。
                        stop    stop 终端转义码。见  <a href="syntax.html#highlight-stop">highlight-stop</a> 。
                        term    终端属性。见  <a href="syntax.html#highlight-term">highlight-term</a> 。

                上述字典里的 <a href="options.html#'term'">'term'</a>、<code class="badlink">'cterm'</code> 和 <code class="badlink">'gui'</code> 项目本身为字典，包含以下
                可选布尔型项目: <code class="badlink">'bold'</code>、<code class="badlink">'standout'</code>、<code class="badlink">'underline'</code>、<code class="badlink">'undercurl'</code>、
                <code class="badlink">'italic'</code>、<code class="badlink">'reverse'</code>、<code class="badlink">'inverse'</code> 和 <code class="badlink">'strikethrough'</code>。

                示例:
<code class="example">                        :echo hlget()</code>
<code class="example">                        :echo hlget('ModeMsg')</code>
<code class="example">                        :echo hlget('Number', v:true)</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetName()-&gt;hlget()</code>

                返回类型: list&lt;dict<code class="special">&lt;any&gt;</code>&gt;


hlset(<code class="special">{list}</code>)                                           <b class="vimtag"> <a name="hlset()">hlset()</a> </b>
                建立或修改一组高亮组的属性。<code class="special">{list}</code> 中的每个列表项对应一个高亮
                组的属性字典。

                此字典支持的条目列表见  <code class="badlink">hlget</code> 。除此以外，此字典还支持以下附加
                条目:

                        force           布尔型标志位，为真时强制为带属性的已有
                                        高亮组建立链接。

                <code class="badlink">'name'</code> 条目指定高亮组名，而忽略 <code class="badlink">'id'</code> 条目 (如有提供)。如果指定
                名字的高亮组不存在，建立之。否则，修改该已有高亮组的属性。

                <a href="options.html#'term'">'term'</a>、<code class="badlink">'cterm'</code> 或 <code class="badlink">'gui'</code> 条目指定空字典时，清除对应的属性。
                <code class="badlink">'cleared'</code> 条目设为 v:true 时，清除高亮组的所有属性。

                <code class="badlink">'linksto'</code> 条目可用来链接一个高亮组到另一高亮组。见
                 <a href="syntax.html#:highlight-link">:highlight-link</a> 。

                成功时返回零，而失败时返回 -1。

                示例:
<code class="example">                        " 为 Visual 高亮组加入 bold 属性</code>
<code class="example">                        :call hlset([#{name: 'Visual',</code>
<code class="example">                                        \ term: #{reverse: 1 , bold: 1}}])</code>
<code class="example">                        :call hlset([#{name: 'Type', guifg: 'DarkGreen'}])</code>
<code class="example">                        :let l = hlget()</code>
<code class="example">                        :call hlset(l)</code>
<code class="example">                        " 清除 Search 高亮组</code>
<code class="example">                        :call hlset([#{name: 'Search', cleared: v:true}])</code>
<code class="example">                        " 清除高亮组的 'term' 属性</code>
<code class="example">                        :call hlset([#{name: 'Title', term: {}}])</code>
<code class="example">                        " 建立 MyHlg 组，链接到 DiffAdd</code>
<code class="example">                        :call hlset([#{name: 'MyHlg', linksto: 'DiffAdd'}])</code>
<code class="example">                        " 删除 MyHlg 组的链接</code>
<code class="example">                        :call hlset([#{name: 'MyHlg', linksto: 'NONE'}])</code>
<code class="example">                        " 清除属性和链接</code>
<code class="example">                        :call hlset([#{name: 'MyHlg', cleared: v:true,</code>
<code class="example">                                        \ linksto: 'NONE'}])</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetAttrList()-&gt;hlset()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


hlID(<code class="special">{name}</code>)                                            <b class="vimtag"> <a name="hlID()">hlID()</a> </b>
                返回名为 <code class="special">{name}</code> 的高亮组的 ID。如果该高亮组不存在，返回零。
                可用于提取高亮组的信息。比如，要得到 "Comment" 组的背景颜色:
<code class="example">        :echo synIDattr(synIDtrans(hlID("Comment")), "bg")</code>
                                                        <b class="vimtag"> <a name="highlightID()">highlightID()</a> </b>
                已废弃的名字: highlightID()。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetName()-&gt;hlID()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


hostname()                                              <b class="vimtag"> <a name="hostname()">hostname()</a> </b>
                返回运行 Vim 的机器名，类型为字符串。如果机器名超过 256 个字符，
                会被截短。

                返回类型:  <a href="eval.html#String">String</a> 


iconv(<code class="special">{string}</code>, <code class="special">{from}</code>, <code class="special">{to}</code>)                           <b class="vimtag"> <a name="iconv()">iconv()</a> </b>
                返回将文本 <code class="special">{string}</code> 从编码 <code class="special">{from}</code> 转换到编码 <code class="special">{to}</code> 后的新字符
                串。
                如果转换完全失败，返回空串。如果只有部分字符无法转换，这些无法
                转换的字符会以 "?" 代替。
                编码名可为 iconv() 库函数接受的任何名字，见 ":!man 3 iconv"。
                大多数转换需要 Vim 编译时加入  <a href="various.html#+iconv">+iconv</a>  特性。不然，只支持
                UTF-8 和 latin1 之间的相互转换。
                这可以用来显示包含特殊字符的消息。不管 <a href="options.html#'encoding'">'encoding'</a> 设为何值，总
                可以用 UTF-8 书写消息，然后使用:
<code class="example">                        echo iconv(utf8_str, "utf-8", &amp;enc)</code>
                <code class="note">注意</code> Vim 使用 UTF-8 进行所有的 Unicode 编码，从/到 UCS-2 的转
                换都自动改为使用 UTF-8。因为有 NUL 字节的关系，字符串中也不能
                直接使用 UCS-2。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetText()-&gt;iconv('latin1', 'utf-8')</code>

                返回类型:  <a href="eval.html#String">String</a> 


id(<code class="special">{item}</code>)                                              <b class="vimtag"> <a name="id()">id()</a> </b>
                返回和 <code class="special">{item}</code> 相关联而非与 <code class="special">{item}</code> 内容绑定的唯一字符串。仅当
                <code class="special">{item}</code> 存在且被引用时才有效，且仅在生成该值的 vim 实例中有效。
                基本想法是  <code class="badlink">id(<code class="special">{item}</code>)</code>  不应随 <code class="special">{item}</code> 内容的改变而改变。通过本
                函数，字典可用对象的身份作为  <code class="badlink">key</code> ，而非基于对象值的比较。

                此操作不新增 <code class="special">{item}</code> 的引用，也没有函数可以把  <code class="badlink">id</code>  转换为
                <code class="special">{item}</code> 本身。如果需要，可自行创建一个从  <code class="badlink">id</code>  到 <code class="special">{item}</code> 的映
                射。下例
<code class="example">                    var referenceMap: dict&lt;any&gt;</code>
<code class="example">                    var id = item-&gt;id()</code>
<code class="example">                    referenceMap[id] = item</code>
                这会新增 <code class="special">{item}</code> 的引用，从而防止它被垃圾回收，同时提供了通过
                 <code class="badlink">id</code>  获取 <code class="special">{item}</code> 的方法。

                <code class="special">{item}</code> 可为列表、元组、字典、对象、作业、通道或 blob。如果
                <code class="special">{item}</code> 不是这些可接受的类型之一或其值为 null，则返回空串。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetItem()-&gt;id()</code>

                返回类型:  <a href="eval.html#String">String</a> 


indent(<code class="special">{lnum}</code>)                                          <b class="vimtag"> <a name="indent()">indent()</a> </b>
                返回当前缓冲区第 <code class="special">{lnum}</code> 行的缩进量，类型为数值。缩进量以空格计
                算，因而和 <a href="options.html#'tabstop'">'tabstop'</a> 的值有关。<code class="special">{lnum}</code> 的用法可见  <a href="builtin.html#getline()">getline()</a> 。
                如果 <code class="special">{lnum}</code> 非法，返回 -1。在  <a href="vim9.html#Vim9">Vim9</a>  脚本中，此时会报错。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetLnum()-&gt;indent()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


index(<code class="special">{object}</code>, <code class="special">{expr}</code> [, <code class="special">{start}</code> [, <code class="special">{ic}</code>]])            <b class="vimtag"> <a name="index()">index()</a> </b>
                寻找 <code class="special">{object}</code> 中的 <code class="special">{expr}</code>，并返回其索引。要通过匿名函数来选择
                项目，可见  <a href="builtin.html#indexof()">indexof()</a> 。

                <code class="special">{object}</code> 为  <a href="eval.html#List">List</a>  或  <a href="eval.html#Tuple">Tuple</a>  时，返回与 <code class="special">{expr}</code> 相等的元素的最
                小索引。这里不进行自动转换，字符串 "4" 不同于数值 4，数值 4 也
                不等同于浮点数 4.0。<a href="options.html#'ignorecase'">'ignorecase'</a> 的值此处不适用，大小写是否敏
                感由 <code class="special">{ic}</code> 参数决定。

                <code class="special">{object}</code> 为  <a href="eval.html#Blob">Blob</a>  时，返回与 <code class="special">{expr}</code> 相等的字节的最小索引。

                <code class="special">{start}</code> 给出时，从索引为 <code class="special">{start}</code> 的项目开始查找 (可以为负，用
                于表示相对于 <code class="special">{object}</code> 末尾的索引)。

                <code class="special">{ic}</code> 给出且为  <a href="eval.html#TRUE">TRUE</a>  时，忽略大小写。否则，大小写必须匹配。

                如果在 <code class="special">{object}</code> 里找不到 <code class="special">{expr}</code>，返回 -1。
                示例:
<code class="example">                        :let idx = index(words, "the")</code>
<code class="example">                        :if index(numbers, 123) &gt;= 0</code>
<code class="example"></code>
                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetObject()-&gt;index(what)</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


indexof(<code class="special">{object}</code>, <code class="special">{expr}</code> [, <code class="special">{opts}</code>])                    <b class="vimtag"> <a name="indexof()">indexof()</a> </b>
                返回 <code class="special">{object}</code> 中使 <code class="special">{expr}</code> 结果为 v:true 的项目的索引。
                <code class="special">{object}</code> 必须为  <a href="eval.html#List">List</a> 、 <a href="eval.html#Tuple">Tuple</a>  或  <a href="eval.html#Blob">Blob</a> 。

                <code class="special">{object}</code> 为  <a href="eval.html#List">List</a>  或  <a href="eval.html#Tuple">Tuple</a>  时，会为其中的每个项目依次计算
                <code class="special">{expr}</code>，直到某项计算的结果为 v:true 为止，返回该项目的索引。

                <code class="special">{object}</code> 为  <a href="eval.html#Blob">Blob</a>  时，会为其中的每个字节依次计算 <code class="special">{expr}</code>，直到
                某字节计算的结果为 v:true 为止，返回该字节的索引。

                <code class="special">{expr}</code> 必须为  <a href="eval.html#string">string</a>  或  <a href="eval.html#Funcref">Funcref</a> 。

                <code class="special">{expr}</code> 为  <a href="eval.html#string">string</a>  时: 如果 <code class="special">{object}</code> 为  <a href="eval.html#List">List</a>  或  <a href="eval.html#Tuple">Tuple</a> ,
                则 <code class="special">{expr}</code> 中的  <a href="eval.html#v:key">v:key</a>  包含当前项目的索引，而  <a href="eval.html#v:val">v:val</a> 
                为当前项目的值。而如果 <code class="special">{object}</code> 为  <a href="eval.html#Blob">Blob</a> ，<code class="special">{expr}</code> 中的  <a href="eval.html#v:key">v:key</a> 
                包含当前字节的索引，而  <a href="eval.html#v:val">v:val</a>  为当前字节的值。

                <code class="special">{expr}</code> 为  <a href="eval.html#Funcref">Funcref</a>  时，它必须接受两个参数:
                        1. 当前项目的键值或索引。
                        2. 当前项目的值。
                找到项目时函数必须返回  <a href="eval.html#TRUE">TRUE</a> ，此时搜索停止。

                可选参数 <code class="special">{opts}</code> 为字典，包含以下项目:
                    startidx    从带此索引的项目开始计算 <code class="special">{expr}</code>；可为负值，表
                                示相对于 <code class="special">{object}</code> 末尾的索引
                如果 <code class="special">{expr}</code> 在所有项目上的计算结果均为 v:false，返回 -1。
                示例:
<code class="example">                        :let l = [#{n: 10}, #{n: 20}, #{n: 30}]</code>
<code class="example">                        :echo indexof(l, "v:val.n == 20")</code>
<code class="example">                        :echo indexof(l, {i, v -&gt; v.n == 30})</code>
<code class="example">                        :echo indexof(l, "v:val.n == 20", #{startidx: 1})</code>
<code class="example"></code>
                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        mylist-&gt;indexof(expr)</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


input(<code class="special">{prompt}</code> [, <code class="special">{text}</code> [, <code class="special">{completion}</code>]])             <b class="vimtag"> <a name="input()">input()</a> </b>
                返回用户在命令行上输入的内容，类型为字符串。参数 <code class="special">{prompt}</code> 用作
                提示字符串，可以为空串 (代表没有提示)。提示字符串中可以用 '\n'
                来换行。
                提示字符串使用  <a href="eval.html#:echohl">:echohl</a>  设置的高亮。
                输入方式与命令行类似，也支持相同的编辑命令和映射。但 input()
                输入使用单独的历史。
                示例:
<code class="example">                        :if input("咖啡还是啤酒？") == "啤酒"</code>
<code class="example">                        :  echo "干杯！"</code>
<code class="example">                        :endif</code>

                可选的 <code class="special">{text}</code> 参数给出时，用作缺省的应答，就像用户已经输入了一
                样。例如:
<code class="example">                        :let color = input("Color? ", "white")</code>
<code class="example"></code>
                可选的 <code class="special">{completion}</code> 参数指定输入支持的补全类型。不给出时就不会
                使用补全。支持的补全类型和用户定义命令通过 "-complete=" 参数能
                给出的类型相同。详情见  <a href="map.html#:command-completion">:command-completion</a> 。例如:
<code class="example">                        let fname = input("File: ", "", "file")</code>

                <code class="note">注意</code>: 在只能运行于 GUI 模式的版本里 (比如 Win32 GUI)，本函数不
                能在启动文件里使用。
                <code class="note">注意</code>: input() 在映射里调用时，它会消耗该映射剩余的字符，因为映
                射的处理就像那些字符被键盘输入一样。为避免这种情况，在调用
                input() 前使用  <a href="builtin.html#inputsave()">inputsave()</a> ，结束后再调用  <a href="builtin.html#inputrestore()">inputrestore()</a> 。
                另一个方法是避免在映射的后段直接提供任何字符，而使用
                 <a href="eval.html#:execute">:execute</a>  或  <a href="various.html#:normal">:normal</a>  来执行相应操作。

                使用映射的例子:
<code class="example">                        :nmap \x :call GetFoo()&lt;CR&gt;:exe "/" .. Foo&lt;CR&gt;</code>
<code class="example">                        :function GetFoo()</code>
<code class="example">                        :  call inputsave()</code>
<code class="example">                        :  let g:Foo = input("enter search pattern: ")</code>
<code class="example">                        :  call inputrestore()</code>
<code class="example">                        :endfunction</code>
<code class="example"></code>
                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetPrompt()-&gt;input()</code>

                返回类型:  <a href="eval.html#String">String</a> 


inputdialog(<code class="special">{prompt}</code> [, <code class="special">{text}</code> [, <code class="special">{cancelreturn}</code>]])     <b class="vimtag"> <a name="inputdialog()">inputdialog()</a> </b>
                类似于  <a href="builtin.html#input()">input()</a> ，但在运行 GUI 且支持文本对话框时，会弹出一个
                对话框窗口来输入文本。
                例如:
<code class="example">                   :let n = inputdialog("value for shiftwidth", shiftwidth())</code>
<code class="example">                   :if n != ""</code>
<code class="example">                   :  let &amp;sw = n</code>
<code class="example">                   :endif</code>
                对话框被取消时，返回 <code class="special">{cancelreturn}</code>，默认为空串。
                输入 <code class="special">&lt;Enter&gt;</code> 和按 OK 按钮的效果相同。而按 <code class="special">&lt;Esc&gt;</code> 和按 Cancel 按
                钮的效果相同。
                <code class="note">备注</code>: 不支持命令行补全。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetPrompt()-&gt;inputdialog()</code>

                返回类型:  <a href="eval.html#String">String</a> 


inputlist(<code class="special">{textlist}</code>)                                   <b class="vimtag"> <a name="inputlist()">inputlist()</a> </b>
                <code class="special">{textlist}</code> 必须是字符串组成的  <a href="eval.html#List">List</a> 。本函数会显示此  <a href="eval.html#List">List</a>  中
                的每一项，每个字符串一行。用户会看到提示，需要输入一个数值作为
                选择，返回此数值。
                打开了命令行的鼠标支持 (<a href="options.html#'mouse'">'mouse'</a> 为 "a" 或包含 "c") 时，用户也
                可以用鼠标点击项目来进行选择。首项字符串返回 0。在首个项目的上
                方点击时，会返回负数。而在提示行上点击时，会返回 <code class="special">{textlist}</code> 的
                列表长度加一。
                请确保 <code class="special">{textlist}</code> 项目数少于 <a href="options.html#'lines'">'lines'</a>，否则无法正常使用。建议在
                每个字符串的开头添加项目编号，并将首项用作提示信息。例如:
<code class="example">                        let color = inputlist(['Select color:', '1. red',</code>
<code class="example">                                \ '2. green', '3. blue'])</code>
<code class="example"></code>
                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetChoices()-&gt;inputlist()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


inputrestore()                                          <b class="vimtag"> <a name="inputrestore()">inputrestore()</a> </b>
                恢复之前由  <a href="builtin.html#inputsave()">inputsave()</a>  保存的预输入。调用次数应该和之前使用
                 <a href="builtin.html#inputsave()">inputsave()</a>  的次数相同，不过调用更多次也无妨。
                如果没有可以恢复的内容，返回 TRUE，否则，返回 FALSE。

                返回类型:  <a href="eval.html#Number">Number</a> 


inputsave()                                             <b class="vimtag"> <a name="inputsave()">inputsave()</a> </b>
                保存预输入 (也包括来自映射的字符) 并清空，以便之后的输入提示能
                直接从用户获取输入。输入后应该用配套的  <a href="builtin.html#inputrestore()">inputrestore()</a>  进行恢
                复。本操作可以多次使用，每次保存都应对应一次  <a href="builtin.html#inputrestore()">inputrestore()</a> 
                调用。
                如果内存不足，返回 TRUE，否则，返回 FALSE。

                返回类型:  <a href="eval.html#Number">Number</a> 


inputsecret(<code class="special">{prompt}</code> [, <code class="special">{text}</code>])                        <b class="vimtag"> <a name="inputsecret()">inputsecret()</a> </b>
                本函数和  <a href="builtin.html#input()">input()</a>  函数类同，但有两个例外:
                a) 用户的输入会显示为一串星号 ("*")，从而保证输入保密，还有
                b) 用户的输入不会记录在输入历史  <a href="cmdline.html#history">history</a>  栈中。
                返回用户在命令行上根据提示实际输入的应答，类型为字符串。
                <code class="note">备注</code>: 不支持命令行补全。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetPrompt()-&gt;inputsecret()</code>

                返回类型:  <a href="eval.html#String">String</a> 


insert(<code class="special">{object}</code>, <code class="special">{item}</code> [, <code class="special">{idx}</code>])                      <b class="vimtag"> <a name="insert()">insert()</a> </b>
                <code class="special">{object}</code> 为  <a href="eval.html#List">List</a>  或  <a href="eval.html#Blob">Blob</a>  时，在其开始处插入 <code class="special">{item}</code>。

                <code class="special">{idx}</code> 给出时，<code class="special">{item}</code> 的插入位置在索引 <code class="special">{idx}</code> 对应的项目之前。
                <code class="special">{idx}</code> 为零或省略时，插入发生在首个项目之前。<code class="special">{idx}</code> 也可用负值，
                见  <a href="eval.html#list-index">list-index</a> 。例如，-1 会使插入发生在末项之前。

                返回新产生的  <a href="eval.html#List">List</a>  或  <a href="eval.html#Blob">Blob</a> 。例如:
<code class="example">                        :let mylist = insert([2, 3, 5], 1)</code>
<code class="example">                        :call insert(mylist, 4, -1)</code>
<code class="example">                        :call insert(mylist, 6, len(mylist))</code>
                用  <a href="builtin.html#add()">add()</a>  可以更简洁地实现最后一个示例。
                <code class="note">注意</code> 如果 <code class="special">{item}</code> 是  <a href="eval.html#List">List</a> ，它会被作为单个项目来插入。要连接多
                个  <a href="eval.html#List">List</a> ，可用  <a href="builtin.html#extend()">extend()</a> 。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        mylist-&gt;insert(item)</code>

                返回类型:  <a href="eval.html#Number">Number</a> 

                                                        <b class="vimtag"> <a name="instanceof()">instanceof()</a> </b> <b class="vimtag"> <a name="E614">E614</a> </b>
instanceof(<code class="special">{object}</code>, <code class="special">{class}</code>)                           <b class="vimtag"> <a name="E616">E616</a> </b> <b class="vimtag"> <a name="E693">E693</a> </b>
                <code class="special">{object}</code> 参数为 <code class="special">{class}</code> 指定的  <a href="vim9class.html#Class">Class</a> 、 <a href="vim9class.html#Interface">Interface</a>  或类
                 <a href="vim9class.html#:type">:type</a>  别名的直接或间接实例则返回  <a href="eval.html#TRUE">TRUE</a> 。
                <code class="special">{class}</code> 为可变参数时，<code class="special">{object}</code> 为其中一个指定类的实例则返回
                 <a href="eval.html#TRUE">TRUE</a> 。
                示例:
<code class="example">                        instanceof(animal, Dog, Cat)</code>
<code class="example"></code>
                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        myobj-&gt;instanceof(mytype)</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


interrupt()                                             <b class="vimtag"> <a name="interrupt()">interrupt()</a> </b>
                中断脚本的执行。效果类似于用户按下 <code class="keystroke">CTRL-C</code>。多数命令会停止执
                行，而控制权将还给用户。此功能常用于系统进行低层操作 (如执行自
                动命令等) 时中断脚本。例如:
<code class="example">                :function s:check_typoname(file)</code>
<code class="example">                :   if fnamemodify(a:file, ':t') == '['</code>
<code class="example">                :       echomsg '可能有输入错误'</code>
<code class="example">                :       call interrupt()</code>
<code class="example">                :   endif</code>
<code class="example">                :endfunction</code>
<code class="example">                :au BufWritePre * call s:check_typoname(expand('&lt;amatch&gt;'))</code>

                返回类型: void


invert(<code class="special">{expr}</code>)                                          <b class="vimtag"> <a name="invert()">invert()</a> </b>
                按位取反。参数会转换为数值。列表、字典或浮点数参数会报错。
                示例:
<code class="example">                        :let bits = invert(bits)</code>
<code class="example"></code>
                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        :let bits = bits-&gt;invert()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


isabsolutepath(<code class="special">{path}</code>)                                  <b class="vimtag"> <a name="isabsolutepath()">isabsolutepath()</a> </b>
                <code class="special">{path}</code> 为绝对路径则返回  <a href="eval.html#TRUE">TRUE</a> 。
                Unix 上，绝对路径是指 '/' 开始的路径。
                MS-Windows 上，绝对路径是指由可选的驱动器前缀前导，后跟 '\' 或
                '/' 的路径。UNC 路径总是绝对的。
                示例:
<code class="example">                        echo isabsolutepath('/usr/share/')      " 1</code>
<code class="example">                        echo isabsolutepath('./foobar')         " 0</code>
<code class="example">                        echo isabsolutepath('C:\Windows')       " 1</code>
<code class="example">                        echo isabsolutepath('foobar')           " 0</code>
<code class="example">                        echo isabsolutepath('\\remote\file')    " 1</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetName()-&gt;isabsolutepath()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


isdirectory(<code class="special">{directory}</code>)                                <b class="vimtag"> <a name="isdirectory()">isdirectory()</a> </b>
                名为 <code class="special">{directory}</code> 的目录存在则返回  <a href="eval.html#TRUE">TRUE</a> 。<code class="special">{directory}</code> 不存在或
                者不是目录时，返回  <a href="eval.html#FALSE">FALSE</a> 。<code class="special">{directory}</code> 可为任何表达式，会转换
                为字符串。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetName()-&gt;isdirectory()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


isinf(<code class="special">{expr}</code>)                                           <b class="vimtag"> <a name="isinf()">isinf()</a> </b>
                <code class="special">{expr}</code> 为正无穷大时，返回 1，负无穷大返回 -1，否则返回 0。
<code class="example">                        :echo isinf(1.0 / 0.0)</code>
                        1
<code class="example">                        :echo isinf(-1.0 / 0.0)</code>
                        -1

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        Compute()-&gt;isinf()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


islocked(<code class="special">{expr}</code>)                                        <b class="vimtag"> <a name="islocked()">islocked()</a> </b> <b class="vimtag"> <a name="E786">E786</a> </b>
                <code class="special">{expr}</code> 是已加锁的变量名则返回  <a href="eval.html#TRUE">TRUE</a> 。
                字符串 <code class="special">{expr}</code> 必须是变量名、 <a href="eval.html#List">List</a>  项目名或  <a href="eval.html#Dictionary">Dictionary</a>  条目
                名，而不是变量本身！例如:
<code class="example">                        :let alist = [0, ['a', 'b'], 2, 3]</code>
<code class="example">                        :lockvar 1 alist</code>
<code class="example">                        :echo islocked('alist')         " 1</code>
<code class="example">                        :echo islocked('alist[1]')      " 0</code>
<code class="example"></code>
                如果 <code class="special">{expr}</code> 指向的变量不存在，返回 -1。如果 <code class="special">{expr}</code> 使用了子列
                表、越界或不存在的列表或字典索引，会报错。用  <a href="builtin.html#exists()">exists()</a>  可以检
                查变量是否存在。
                Vim9 脚本里，本函数不适用于局部函数变量。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetName()-&gt;islocked()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


isnan(<code class="special">{expr}</code>)                                           <b class="vimtag"> <a name="isnan()">isnan()</a> </b>
                <code class="special">{expr}</code> 为值等于 NaN 的浮点数则返回  <a href="eval.html#TRUE">TRUE</a> 。
<code class="example">                        echo isnan(0.0 / 0.0)</code>
                        1

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        Compute()-&gt;isnan()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


items(<code class="special">{expr}</code>)                                           <b class="vimtag"> <a name="items()">items()</a> </b>
                返回 <code class="special">{expr}</code> 里所有键/索引-值组对构成的  <a href="eval.html#List">List</a> 。每个  <a href="eval.html#List">List</a>  项
                是包含两个项目的列表:
                - 对  <a href="eval.html#Dict">Dict</a>  而言: 键和值
                - 对  <a href="eval.html#List">List</a> 、 <a href="eval.html#Tuple">Tuple</a> 、 <a href="eval.html#Blob">Blob</a>  和  <a href="eval.html#String">String</a>  而言: 索引和值
                对于  <a href="eval.html#Dict">Dict</a>  类型，返回的  <a href="eval.html#List">List</a>  项的顺序是不固定的。而对于其它
                类型，返回的  <a href="eval.html#List">List</a>  会依索引值升序排列。

                另见  <a href="builtin.html#keys()">keys()</a>  和  <a href="builtin.html#values()">values()</a> 。

                示例:
<code class="example">                        let mydict = #{a: 'red', b: 'blue'}</code>
<code class="example">                        for [key, value] in items(mydict)</code>
<code class="example">                           echo $"{key} = {value}"</code>
<code class="example">                        endfor</code>
<code class="example">                        echo items([1, 2, 3])</code>
<code class="example">                        echo items(('a', 'b', 'c'))</code>
<code class="example">                        echo items("foobar")</code>
<code class="example">                        echo items(0z0102)</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        mydict-&gt;items()</code>

                返回类型: list&lt;list<code class="special">&lt;any&gt;</code>&gt; 或 list<code class="special">&lt;any&gt;</code>


job_ 函数文档在这里:  <a href="channel.html#job-functions-details">job-functions-details</a> 


join(<code class="special">{expr}</code> [, <code class="special">{sep}</code>])                                  <b class="vimtag"> <a name="join()">join()</a> </b>
                将所有 <code class="special">{expr}</code> 的项目连接成一个字符串。<code class="special">{expr}</code> 可为  <a href="eval.html#List">List</a>  或
                 <a href="eval.html#Tuple">Tuple</a> 。
                <code class="special">{sep}</code> 给出的分隔符放置在项目之间。缺省为单个空格。
                <code class="note">注意</code> 返回值尾部不加 <code class="special">{sep}</code>。如果确实需要:
<code class="example">                        let lines = join(mylist, "\n") .. "\n"</code>
                字符串项会照原样使用。而  <a href="eval.html#List">List</a> 、 <a href="eval.html#Tuple">Tuple</a>  和  <a href="eval.html#Dictionary">Dictionary</a>  项会
                用与  <a href="builtin.html#string()">string()</a>  类似的方式转换为字符串。
                逆函数是  <a href="builtin.html#split()">split()</a> 。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        mylist-&gt;join()</code>

                返回类型:  <a href="eval.html#String">String</a> 


js_decode(<code class="special">{string}</code>)                                     <b class="vimtag"> <a name="js_decode()">js_decode()</a> </b>
                和  <a href="builtin.html#json_decode()">json_decode()</a>  类同，但有以下区别:
                - 对象的键名不需用引号括起。
                - 字符串可以用单引号括起。
                - 数组里允许出现空项 (即两个逗句之间没有内容)，此时会返回
                  v:none 项。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        ReadObject()-&gt;js_decode()</code>

                返回类型: any，取决于 <code class="special">{varname}</code>


js_encode(<code class="special">{expr}</code>)                                       <b class="vimtag"> <a name="js_encode()">js_encode()</a> </b>
                和  <a href="builtin.html#json_encode()">json_encode()</a>  类同，但有以下区别:
                - 对象的键名不用引号括起。
                - 数组里的 v:none 项会生成两个逗号之间没有内容的空项。
                例如，Vim 对象:
<code class="section">                        [1,v:none,{"one":1},v:none] </code>
                会被编码为:
<code class="section">                        [1,,<code class="special">{one:1}</code>,,] </code>
                而  <a href="builtin.html#json_encode()">json_encode()</a>  会生成:
<code class="section">                        [1,null,{"one":1},null] </code>
                本函数生成的编码也是合法的 JavaScript，且比 JSON 更高效，尤其
                是使用含可选项的数组时更是如此。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetObject()-&gt;js_encode()</code>

                返回类型:  <a href="eval.html#String">String</a> 


json_decode(<code class="special">{string}</code>)                                   <b class="vimtag"> <a name="json_decode()">json_decode()</a> </b> <b class="vimtag"> <a name="E491">E491</a> </b>
                对 JSON 格式的字符串进行解码，返回等价的 Vim 值。JSON 和 Vim
                值的关系参见  <a href="builtin.html#json_encode()">json_encode()</a> 。
                解码是容错的:
                - 数组和对象拖尾的逗号被忽略，例如 "[1, 2, ]" 等同于
                  "[1, 2]"。
                - 对象中接受整数键，例如 <code class="special">{1:2}</code> 等同于 {"1":2}。
                - 识别更多形式的浮点数，例如 "1." 等同于 "1.0"，而 "001.2" 等
                  同于 "1.2"。并接受特殊浮点值 "Infinity"、"-Infinity" 和
                  "NaN" (大小写不敏感)。
                - 忽略整数的前导零，例如 "012" 等同于 "12"，而 "-012" 等同于
                  "-12"。
                - 按本义的名字 null、true 或 false 对大小写不敏感，例如 "NULL"
                  等同于 "null"，"True" 等同于 "true"。
                - 接受字符串中未转义的控制字符 U+0000 到 U+001F，例如 " "
                  (字符串中的制表符) 等同于 "\t"。
                - 接受空或只有空白组成的 JSON 表达式，生成 v:none。
                - 非法的两字符转义序列会忽略反斜杠，例如 "\a" 会被解码为 "a"。
                - JSON 字符串中，完整的 Unicode 代理对 (surrogate pair) 通常应
                  为 12 个字符的序列，例如 "\uD834\uDD1E"，但 json_decode() 会
                  安静地接受不完整的代理对，例如 "\uD834" 或 "\uD834\u"。
                                                        <b class="vimtag"> <a name="E938">E938</a> </b>
                对象里的重复键值，虽然在 rfc7159 中合法，但 json_decode() 不接
                受，因为转换结果必须是合法的 Vim 类型，例如，下例会解码失败:
                {"a":"b", "a":"c"}

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        ReadObject()-&gt;json_decode()</code>

                返回类型: any，取决于 <code class="special">{varname}</code>


json_encode(<code class="special">{expr}</code>)                                     <b class="vimtag"> <a name="json_encode()">json_encode()</a> </b>
                对 <code class="special">{expr}</code> 进行 JSON 编码，返回字符串。
                使用的编码格式遵循:
                <a href="https://tools.ietf.org/html/rfc7159.html">https://tools.ietf.org/html/rfc7159.html</a>
                不同的 Vim 值类型对应的转换方式如下:    <b class="vimtag"> <a name="E1161">E1161</a> </b>
                    <a href="eval.html#Number">Number</a>              十进制数
                    <a href="eval.html#Float">Float</a>               浮点数
                   Float nan            "NaN"
                   Float inf            "Infinity"
                   Float -inf           "-Infinity"
                    <a href="eval.html#String">String</a>              双引号括起 (可为 null)
                    <a href="eval.html#Funcref">Funcref</a>             不接受，报错
                    <a href="eval.html#List">List</a>                视作数组 (可为 null)；若递归使用: []
                    <a href="eval.html#Tuple">Tuple</a>               视作数组 (可为 null)；若递归使用: []
                    <a href="eval.html#Dict">Dict</a>                视作对象 (可为 null)；若递归使用: <code class="special">{}</code>
                    <a href="eval.html#Blob">Blob</a>                视作由成员字节构成的数组
                   v:false              "false"
                   v:true               "true"
                   v:none               "null"
                   v:null               "null"
                <code class="note">备注</code> NaN 和 Infinity 被接受并作为值传递。这在 JSON 标准里并未
                规定，但若干实现能够处理。如果相应的实现不支持，则会报错。
                如果字符串里包含非法字符，它们被字符 0xfffd 替代。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetObject()-&gt;json_encode()</code>

                返回类型:  <a href="eval.html#String">String</a> 


keys(<code class="special">{dict}</code>)                                            <b class="vimtag"> <a name="keys()">keys()</a> </b>
                返回由 <code class="special">{dict}</code> 里的所有键组成的  <a href="eval.html#List">List</a> 。列表项的顺序不固定。另
                见  <a href="builtin.html#items()">items()</a>  和  <a href="builtin.html#values()">values()</a> 。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        mydict-&gt;keys()</code>

                返回类型: list<code class="special">&lt;string&gt;</code>


keytrans(<code class="special">{string}</code>)                                      <b class="vimtag"> <a name="keytrans()">keytrans()</a> </b>
                将键值的内部字节表示转换为  <a href="map.html#:map">:map</a>  可接受的形式。如
<code class="example">                        :let xx = "\&lt;C-Home&gt;"</code>
<code class="example">                        :echo keytrans(xx)</code>
                        <code class="special">&lt;C-Home&gt;</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        "\&lt;C-Home&gt;"-&gt;keytrans()</code>

                返回类型:  <a href="eval.html#String">String</a> 


len(<code class="special">{expr}</code>)                                             <b class="vimtag"> <a name="len()">len()</a> </b> <b class="vimtag"> <a name="E701">E701</a> </b>
                返回参数的长度，类型为数值。
                <code class="special">{expr}</code> 为字符串或数值时，返回其使用的字节数目，等同于
                 <a href="builtin.html#strlen()">strlen()</a> 。
                <code class="special">{expr}</code> 为  <a href="eval.html#List">List</a>  时，返回其项目数量。
                <code class="special">{expr}</code> 为  <a href="eval.html#Tuple">Tuple</a>  时，返回其项目数量。
                <code class="special">{expr}</code> 为  <a href="eval.html#Blob">Blob</a>  时，返回其字节数。
                <code class="special">{expr}</code> 为  <a href="eval.html#Dictionary">Dictionary</a>  时，返回其项目数量。
                <code class="special">{expr}</code> 为  <a href="vim9class.html#Object">Object</a>  时，调用该对象的 len() 方法 (如有) 来计算其
                长度 ( <a href="vim9class.html#object-len()">object-len()</a> )。
                否则返回零。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        mylist-&gt;len()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 

                                                        <b class="vimtag"> <a name="libcall()">libcall()</a> </b>
libcall(<code class="special">{libname}</code>, <code class="special">{funcname}</code>, <code class="special">{argument}</code>)              <b class="vimtag"> <a name="E364">E364</a> </b> <b class="vimtag"> <a name="E368">E368</a> </b>
                调用在运行库 <code class="special">{libname}</code> 中的函数 <code class="special">{funcname}</code>，并传递单个参数
                <code class="special">{argument}</code>。
                可用于调用库函数，尤其是那些专为 Vim 准备的函数。由于只能传递
                单个参数，所以可调用的标准库函数相当有限。
                调用后的结果是函数返回的字符串。如果函数返回 NULL，在 Vim 里会
                以空串 "" 出现。
                如果函数返回数值，请使用  <a href="builtin.html#libcallnr()">libcallnr()</a> ！
                <code class="special">{argument}</code> 为数值时，作为 int 类型传给函数；<code class="special">{argument}</code> 为字符
                串时，则作为 null 结尾的字符串类型传入。
                该函数不能在  <a href="starting.html#restricted-mode">restricted-mode</a>  里运行。

                libcall() 方便用户自行编写 Vim 的 '插件式' 扩展，而无须重新编
                译 Vim。它并 <code class="emphasis">不</code> 是用来调用系统函数的工具！如果尝试如此，Vim 很
                有可能会崩溃。

                Win32 上，用户编写的函数必须由 DLL 提供，且使用标准 C 调用惯例
                (而非_ Windows 系统 DLL 使用的 Pascal 惯例)。函数必须只能接受
                单个参数，该参数只能是字符指针或是长整数，而且必须返回字符指针
                或者 NULL。返回的字符指针必须在函数返回后仍然指向有效内存 (比
                如 DLL 的静态数据区)。如果指针指向动态分配的内存区域，会导致内
                存泄漏。函数内部使用静态缓冲区应该可以，这些缓冲区会在 DLL 卸
                载时才会被释放。

                警 告: 如果函数返回的是无效指针，Vim 会崩溃！这包括函数返回数
                值的情况，因为 Vim 会把数值当作指针看待。
                Win32 系统上，<code class="special">{libname}</code> 必须是不带 ".DLL" 后缀的 DLL 文件名。
                只有在 DLL 不位于常规搜索路径时，才需要指定完整路径。
                Unix 上: 编译用户插件时，生成的目标代码必须是位置无关代码
                ('PIC')。
                <code class="notvi">{仅在使用 Win32 和若干支持  <a href="various.html#+libcall">+libcall</a>  特性的 Unix 版本中有效}</code>
                例如:
<code class="example">                        :echo libcall("libc.so", "getenv", "HOME")</code>
<code class="example"></code>
                也可用作  <a href="eval.html#method">method</a> ，基是作为第三个参数传递的:
<code class="example">                        GetValue()-&gt;libcall("libc.so", "getenv")</code>


libcallnr(<code class="special">{libname}</code>, <code class="special">{funcname}</code>, <code class="special">{argument}</code>)            <b class="vimtag"> <a name="libcallnr()">libcallnr()</a> </b>
                和  <a href="builtin.html#libcall()">libcall()</a>  类同，但所调用的函数会回 int 而非字符串。
                <code class="notvi">{仅在使用 Win32 和若干支持  <a href="various.html#+libcall">+libcall</a>  特性的 Unix 版本中有效}</code>
                例如:
<code class="example">                        :echo libcallnr("/usr/lib/libc.so", "getpid", "")</code>
<code class="example">                        :call libcallnr("libc.so", "printf", "Hello World!\n")</code>
<code class="example">                        :call libcallnr("libc.so", "sleep", 10)</code>

                也可用作  <a href="eval.html#method">method</a> ，基是作为第三个参数传递的:
<code class="example">                        GetValue()-&gt;libcallnr("libc.so", "printf")</code>

                返回类型:  <a href="eval.html#String">String</a> 


line(<code class="special">{expr}</code> [, <code class="special">{winid}</code>])                                <b class="vimtag"> <a name="line()">line()</a> </b>
                返回 <code class="special">{expr}</code> 给定的文件位置所在的行号，类型为数值。<code class="special">{expr}</code> 参数
                是字符串。
                可接受的位置参见  <a href="builtin.html#getpos()">getpos()</a> 。

                若需列号，可用  <a href="builtin.html#col()">col()</a> 。若同时需要行列号，可用  <a href="builtin.html#getpos()">getpos()</a> 。

                可选的 <code class="special">{winid}</code> 参数用于指定取值的窗口，默认使用当前窗口。

                如果 <code class="special">{expr}</code> 或 <code class="special">{winid}</code> 非法，返回 0。

                例如:
<code class="example">                        line(".")               光标所在的行号</code>
<code class="example">                        line(".", winid)        同上，但取自窗口 "winid"</code>
<code class="example">                        line("'t")              位置标记 t 的行号</code>
<code class="example">                        line("'" .. marker)     名为 marker 的位置标记的行号</code>

                一个具体的应用场景是，打开文件后，可以跳转到该文件中光标上次停
                留的位置。参见  <a href="usr_05.html#last-position-jump">last-position-jump</a> 。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetValue()-&gt;line()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


line2byte(<code class="special">{lnum}</code>)                                       <b class="vimtag"> <a name="line2byte()">line2byte()</a> </b>
                返回当前缓冲区第 <code class="special">{lnum}</code> 行从缓冲区开头计算的字节数。计算包括换
                行符，但换行符对应的字节数取决于当前缓冲区的 <a href="options.html#'fileformat'">'fileformat'</a> 选
                项。首行返回 1。结果与 <a href="options.html#'encoding'">'encoding'</a> 有关但忽略 <a href="options.html#'fileencoding'">'fileencoding'</a>。
                <code class="special">{lnum}</code> 也可以取值文件末行之后的一行:
<code class="example">                        line2byte(line("$") + 1)</code>
                会返回缓冲区的大小加一。<a href="options.html#'fileencoding'">'fileencoding'</a> 为空时，这等于文件大小
                加一。<code class="special">{lnum}</code> 的用法可见  <a href="builtin.html#getline()">getline()</a> 。如果 <code class="special">{lnum}</code> 非法或者编译
                时关闭了  <a href="various.html#+byte_offset">+byte_offset</a>  特性，返回 -1。
                另见  <a href="builtin.html#byte2line()">byte2line()</a> 、 <a href="motion.html#go">go</a>  和  <a href="motion.html#:goto">:goto</a> 。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetLnum()-&gt;line2byte()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


lispindent(<code class="special">{lnum}</code>)                                      <b class="vimtag"> <a name="lispindent()">lispindent()</a> </b>
                返回第 <code class="special">{lnum}</code> 行根据 lisp 缩进规则应有的缩进量，见 <a href="options.html#'lisp'">'lisp'</a>。
                缩进量以空格计算，因而和 <a href="options.html#'tabstop'">'tabstop'</a> 的值有关。
                <code class="special">{lnum}</code> 的用法可见  <a href="builtin.html#getline()">getline()</a> 。
                如果 <code class="special">{lnum}</code> 非法，返回 -1。在  <a href="vim9.html#Vim9">Vim9</a>  脚本中，此时会报错。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetLnum()-&gt;lispindent()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


list2blob(<code class="special">{list}</code>)                                       <b class="vimtag"> <a name="list2blob()">list2blob()</a> </b>
                返回一个由 <code class="special">{list}</code> 中所有数值组成的 blob。例如:
<code class="example">                        list2blob([1, 2, 3, 4]) returns 0z01020304</code>
<code class="example">                        list2blob([])           returns 0z</code>
                如果出错，返回空 blob。如果有负值或大于 255 的值，报错
                <b class="vimtag"> <a name="E1239">E1239</a> </b> 。

                 <a href="builtin.html#blob2list()">blob2list()</a>  是其逆操作。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetList()-&gt;list2blob()</code>

                返回类型:  <a href="eval.html#Blob">Blob</a> 


list2str(<code class="special">{list}</code> [, <code class="special">{utf8}</code>])                             <b class="vimtag"> <a name="list2str()">list2str()</a> </b>
                把 <code class="special">{list}</code> 中的每个数值视为字符代码，转换为相应字符后连接成字符
                串。例如:
<code class="example">                        list2str([32])          返回 " "</code>
<code class="example">                        list2str([65, 66, 67])  返回 "ABC"</code>
                相当于如下 (较慢) 的实现:
<code class="example">                        join(map(list, {nr, val -&gt; nr2char(val)}), '')</code>
                 <a href="builtin.html#str2list()">str2list()</a>  是其逆操作。

                <code class="special">{utf8}</code> 省略或为零时，返回字符串会使用当前的 <a href="options.html#'encoding'">'encoding'</a>。
                而 <code class="special">{utf8}</code> 为 TRUE 时，总是使用 UTF-8 编码。
                使用 UTF-8 编码时，组合字符能够被正确处理:
<code class="example">                        list2str([97, 769])     返回 "á"</code>

                如果出错，返回空串。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetList()-&gt;list2str()</code>

                返回类型:  <a href="eval.html#String">String</a> 


list2tuple(<code class="special">{list}</code>)                                      <b class="vimtag"> <a name="list2tuple()">list2tuple()</a> </b>
                根据列表项目的浅备份创建一个新的元组。示例:
<code class="example">                        list2tuple([1, 2, 3])           返回 (1, 2, 3)</code>
                 <a href="builtin.html#tuple2list()">tuple2list()</a>  是其逆操作。

                本函数不会递归地将 <code class="special">{list}</code> 内部的列表项目转换为为元组。<code class="note">注意</code> 列
                表和元组共享相同的项目引用，如果任何一个项目被修改，元组和列表
                都会受到影响。

                如果出错，返回空元组。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetList()-&gt;list2tuple()</code>

                返回类型: tuple&lt;<code class="special">{type}</code>&gt; (取决于给定  <a href="eval.html#List">List</a>  的项目类型)


listener_add(<code class="special">{callback}</code> [, <code class="special">{buf}</code> [, <code class="special">{unbuffered}</code>]])     <b class="vimtag"> <a name="listener_add()">listener_add()</a> </b>
                为缓冲区 <code class="special">{buf}</code> 添加回调函数，当缓冲区发生改动时执行。
                <code class="special">{buf}</code> 可为缓冲区名或编号，合法值可见  <a href="builtin.html#bufname()">bufname()</a> 。默认使用当前
                缓冲区。
                返回可用于传递给  <a href="builtin.html#listener_remove()">listener_remove()</a>  的唯一 ID。

                增加新回调之前，如果 <code class="special">{buf}</code> 已注册过回调，先调用等价于
<code class="example">                    listener_flush({buf})</code>
                的操作，确保新监听器不会接收到在它加入之前尚待处理的改动。

                调用 <code class="special">{callback}</code> 时，会传入五个参数:
                    bufnr       发生改动的缓冲区
                    start       改动区域的起始行号
                    end         改动区域之后的首行行号
                    added       新增行数，删除行时为负数
                    changes     包含改动细节的项目列表

                示例:
<code class="example">            func Listener(bufnr, start, end, added, changes)</code>
<code class="example">              echo 'lines ' .. a:start .. ' until ' .. a:end .. ' changed'</code>
<code class="example">            endfunc</code>
<code class="example">            call listener_add('Listener', bufnr)</code>
<code class="example"></code>
                "changes" 列表只读。其中每个列表项为包含以下条目的字典:
                    lnum        改动区域的起始行号
                    end         改动区域之后的首行行号
                    added       新增行数，删除行时为负数
                    col         第 "lnum" 行中受影响的起始列号；如果未知或整行
                                都受影响，则为一；此处按字节计数，首列列号为
                                一。
                插入新行 (不含已有行被分割，例如在插入模式下键入 CR 这样的情
                况) 时，值为:
                    lnum        新行会被添加在该行的上方
                    end         等于 "lnum"
                    added       插入的行数
                    col         1
                删除行时，值为:
                    lnum        被删除的起始行号
                    end         删除发生之前，被删除的首 (<code class="vim">译者注</code>: 应为末？) 行
                                之后的首行行号
                    added       负值，表示删除的行数
                    col         1
                行发生改动时:
                    lnum        改动起始行的行号
                    end         改动末行之后的首行行号
                    added       0
                    col         改动发生的起始列号，或 1

                <code class="special">{unbuffered}</code> 为  <a href="eval.html#FALSE">FALSE</a>  或省略时，调用 <code class="special">{callback}</code> 的时刻为:

                1. 屏幕刚刚刷新之前。
                2.  <a href="builtin.html#listener_flush()">listener_flush()</a>  被调用时。
                3. 发生了会改变行数的改动，使得 changes 列表里的某些行号失效。

                列表项依改动发生的先后顺序排列，最近发生的改动出现在最后。

                因为上面列出的触发回调的第三个触发的原因，传递给回调的行号未必
                能保证有效。如果这会导致问题，将 <code class="special">{unbuffered}</code> 设为  <a href="eval.html#TRUE">TRUE</a> 。

                <code class="special">{unbuffered}</code> 为  <a href="eval.html#TRUE">TRUE</a>  时，每次改动都会触发 <code class="special">{callback}</code>。
                changes 列表只有单一列表项，其中字典里的 "start" (<code class="vim">译者注</code>: 应为
                "lnum"，不过，相应的回调参数名是 "start")、"end" 和 "added" 值
                和对应的回调参数相同。调用回调时，使用的行号一定是合法的，但之
                后发生的改动可能会使这些行号失效，所以不建议将它们保存以备后
                用。

                <code class="special">{callback}</code> 调用时，锁定文本，见  <a href="eval.html#textlock">textlock</a> 。如果回调里需要改动
                缓冲区，可用定时器  <a href="builtin.html#timer_start()">timer_start()</a>  在回调结束之后再执行所需的
                改动。

                <code class="special">{callback}</code> 中不能调用 listener_add()。 <b class="vimtag"> <a name="E1569">E1569</a> </b>

                缓冲区初次载入时，不调用 <code class="special">{callback}</code>。为此可用  <a href="autocmd.html#BufReadPost">BufReadPost</a>  自
                动命令事件来处理缓冲区的初始文本。
                缓冲区被卸载时，也不调用 <code class="special">{callback}</code>，为此可用  <a href="autocmd.html#BufUnload">BufUnload</a>  自动
                事件。

                如果 <code class="special">{callback}</code> 或 <code class="special">{buf}</code> 非法，返回零。

                也可用作  <a href="eval.html#method">method</a> ，基是作为第二个参数传递的:
<code class="example">                        GetBuffer()-&gt;listener_add(callback)</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


listener_flush([<code class="special">{buf}</code>])                                 <b class="vimtag"> <a name="listener_flush()">listener_flush()</a> </b>
                执行缓冲区 <code class="special">{buf}</code> 里的所有监听器回调。但没有待处理的改动时，回
                调不会执行。

                <code class="special">{buf}</code> 可为缓冲区名或编号，合法值可见  <a href="builtin.html#bufname()">bufname()</a> 。默认使用当前
                缓冲区。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetBuffer()-&gt;listener_flush()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


listener_remove(<code class="special">{id}</code>)                                   <b class="vimtag"> <a name="listener_remove()">listener_remove()</a> </b>
                删除先前通过  <a href="builtin.html#listener_add()">listener_add()</a>  添加的监听器。
                如果指定 <code class="special">{id}</code> 的监听器不存在，返回 FALSE，成功移除监听器 <code class="special">{id}</code>
                后返回 TRUE。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetListenerId()-&gt;listener_remove()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


localtime()                                             <b class="vimtag"> <a name="localtime()">localtime()</a> </b>
                返回当前时间 (从 1970 年 1 月 1 日开始计算的秒数)。另见
                 <a href="builtin.html#strftime()">strftime()</a> 、 <a href="builtin.html#strptime()">strptime()</a>  和  <a href="builtin.html#getftime()">getftime()</a> 。

                返回类型:  <a href="eval.html#Number">Number</a> 


log(<code class="special">{expr}</code>)                                             <b class="vimtag"> <a name="log()">log()</a> </b>
                返回 <code class="special">{expr}</code> 的自然对数 (即以 e 为底)，类型为  <a href="eval.html#Float">Float</a> 。
                <code class="special">{expr}</code> 的计算结果必须是 (0, inf] 区间内的  <a href="eval.html#Float">Float</a>  或
                 <a href="eval.html#Number">Number</a> 。
                如果 <code class="special">{expr}</code> 不是  <a href="eval.html#Float">Float</a>  或  <a href="eval.html#Number">Number</a> ，返回 0.0。
                示例:
<code class="example">                        :echo log(10)</code>
                        2.302585
<code class="example">                        :echo log(exp(5))</code>
                        5.0

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        Compute()-&gt;log()</code>

                返回类型:  <a href="eval.html#Float">Float</a> 


log10(<code class="special">{expr}</code>)                                           <b class="vimtag"> <a name="log10()">log10()</a> </b>
                返回 <code class="special">{expr}</code> 以 10 为底的对数，类型为  <a href="eval.html#Float">Float</a> 。
                <code class="special">{expr}</code> 的计算结果必须是  <a href="eval.html#Float">Float</a>  或  <a href="eval.html#Number">Number</a> 。
                如果 <code class="special">{expr}</code> 不是  <a href="eval.html#Float">Float</a>  或  <a href="eval.html#Number">Number</a> ，返回 0.0。
                示例:
<code class="example">                        :echo log10(1000)</code>
                        3.0
<code class="example">                        :echo log10(0.01)</code>
                        -2.0

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        Compute()-&gt;log10()</code>

                返回类型:  <a href="eval.html#Float">Float</a> 


luaeval(<code class="special">{expr}</code> [, <code class="special">{expr}</code>])                              <b class="vimtag"> <a name="luaeval()">luaeval()</a> </b>
                运行 Lua 表达式 <code class="special">{expr}</code>，把返回值转换为对应的 Vim 数据类型。可
                选的第二个 <code class="special">{expr}</code> 用来指定额外的参数，可在第一个 <code class="special">{expr}</code> 中以
                _A 形式访问。
                字符串按原样返回。
                布尔值对象会转换为数值。
                数值会转换为  <a href="eval.html#Float">Float</a> 。
                通过 vim.eval() 得到的字典和列表会按原样返回。
                更多细节可见  <a href="if_lua.html#lua-luaeval">lua-luaeval</a> 。
                <code class="note">注意</code>  <a href="vim9.html#:def">:def</a>  定义的函数内部的局部变量对 <code class="special">{expr}</code> 不可见。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetExpr()-&gt;luaeval()</code>

                返回类型: any，取决于 <code class="special">{expr}</code>

                <code class="notvi">{仅当编译时加入  <a href="various.html#+lua">+lua</a>  特性才有效}</code>


map(<code class="special">{expr1}</code>, <code class="special">{expr2}</code>)                                   <b class="vimtag"> <a name="map()">map()</a> </b>
                <code class="special">{expr1}</code> 必须是  <a href="eval.html#List">List</a>  、 <a href="eval.html#String">String</a> 、 <a href="eval.html#Blob">Blob</a>  或  <a href="eval.html#Dictionary">Dictionary</a> 。
                <code class="special">{expr1}</code> 是  <a href="eval.html#List">List</a>  或  <a href="eval.html#Dictionary">Dictionary</a>  时，<code class="special">{expr1}</code> 里的每个项目会被
                <code class="special">{expr2}</code> 的计算结果替代。对  <a href="eval.html#Blob">Blob</a>  里的每个字节和  <a href="eval.html#String">String</a>  里的
                每个字符 (包括组合字符)，也会用同样的方法被替代。
                如果项目的类型发生变化，可以考虑用  <a href="builtin.html#mapnew()">mapnew()</a>  来创建新的列表或
                字典。在 Vim9 脚本里，这是必须的做法。

                <code class="special">{expr2}</code> 必须是  <a href="eval.html#String">String</a>  或  <a href="eval.html#Funcref">Funcref</a> 。

                <code class="special">{expr2}</code> 是  <a href="eval.html#String">String</a>  时，<code class="special">{expr2}</code> 内的  <a href="eval.html#v:val">v:val</a>  包含当前项目的
                值。对  <a href="eval.html#Dictionary">Dictionary</a> 、 <a href="eval.html#List">List</a> 、 <a href="eval.html#Blob">Blob</a>  和  <a href="eval.html#String">String</a>  而言， <a href="eval.html#v:key">v:key</a> 
                分别包含当前项目的键、当前项目索引、当前字节索引和当前字符索
                引。
                例如:
<code class="example">                        :call map(mylist, '"&gt; " .. v:val .. " &lt;"')</code>
                在 "mylist" 里，每个列表项的前面加上 "&gt; "，后面加上 " &lt;"。

                <code class="note">注意</code> <code class="special">{expr2}</code> 既是一个表达式的计算结果，又被用作一个表达式来进
                行计算。通常最好使用  <a href="eval.html#literal-string">literal-string</a>  来避免反斜杠被加倍。当
                然，' 引号仍然需要加倍处理。

                <code class="special">{expr2}</code> 是  <a href="eval.html#Funcref">Funcref</a>  时，它应接受两个参数:
                        1. 当前项目的键或索引。
                        2. 当前项目的值。
                在老式脚本里，匿名函数如果只接受一个参数，不会报错。但在 Vim9
                脚本里，此时会报错 "E1106: One argument too many"，因为参数数
                目必须匹配。

                函数必须返回项目的新值。例如要改变每个值为 "键-值":
<code class="example">                        func KeyValue(key, val)</code>
<code class="example">                          return a:key .. '-' .. a:val</code>
<code class="example">                        endfunc</code>
<code class="example">                        call map(myDict, function('KeyValue'))</code>
                使用  <a href="eval.html#lambda">lambda</a>  可以更简洁 (<code class="vim">译者注</code>: 以下均为老式脚本语法):
<code class="example">                        call map(myDict, {key, val -&gt; key .. '-' .. val})</code>
                "val" 如果不用，可以省略:
<code class="example">                        call map(myDict, {key -&gt; 'item: ' .. key})</code>
                "key" 如果不用，不可以省略但可以使用短名:
<code class="example">                        call map(myDict, {_, val -&gt; 'item: ' .. val})</code>

                对  <a href="eval.html#List">List</a>  或  <a href="eval.html#Dictionary">Dictionary</a>  而言，本操作是原位操作 (直接在输入上
                修改)。如果不想更动原始输入，先创建备份:
<code class="example">                        :let tlist = map(copy(mylist), ' v:val .. "\t"')</code>
<code class="example"></code>
                对于  <a href="eval.html#List">List</a>  或  <a href="eval.html#Dictionary">Dictionary</a> ，返回经过映射处理后修改过的
                <code class="special">{expr1}</code>，而对于  <a href="eval.html#Blob">Blob</a>  或  <a href="eval.html#String">String</a> ，则返回新值。
                如果计算 <code class="special">{expr2}</code> 时出错，不再处理 <code class="special">{expr1}</code> 里的后续项目。
                <code class="special">{expr2}</code> 是函数引用时，除非该函数定义时带上 "abort" 标志位，忽
                略函数里的错误。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        mylist-&gt;map(expr2)</code>

                返回类型:  <a href="eval.html#String">String</a> 、 <a href="eval.html#Blob">Blob</a> 、list&lt;<code class="special">{type}</code>&gt; 或 dict&lt;<code class="special">{type}</code>&gt;，
                取决于 <code class="special">{expr1}</code>


maparg(<code class="special">{name}</code> [, <code class="special">{mode}</code> [, <code class="special">{abbr}</code> [, <code class="special">{dict}</code>]]])         <b class="vimtag"> <a name="maparg()">maparg()</a> </b>
                <code class="special">{dict}</code> 省略或为零时，返回名为 <code class="special">{name}</code> 在 <code class="special">{mode}</code> 模式下的映射的
                右侧内容 (rhs)。返回的字符串中，特殊字符会使用和 ":map" 命令输
                出的同样方式进行翻译。<code class="special">{dict}</code> 为 TRUE 时，返回下面描述的字典。
                要想获取所有映射的列表，可用  <a href="builtin.html#maplist()">maplist()</a> 。

                名为 <code class="special">{name}</code> 的映射不存在时，如果 <code class="special">{dict}</code> 为 FALSE 则返回空串，
                否则返回空字典。而名为 <code class="special">{name}</code> 的映射的右侧内容为空时，返回
                "<code class="special">&lt;Nop&gt;</code>"。

                <code class="special">{name}</code> 可包含特殊键名，就像在 ":map" 命令中一样。

                <code class="special">{mode}</code> 可以使用下列字符串之一:
                        "n"     普通模式
                        "v"     可视模式 (包括选择模式)
                        "o"     操作符等待模式
                        "i"     插入模式
                        "c"     命令行模式
                        "s"     选择模式
                        "x"     可视模式
                        "l"     语言映射  <a href="map.html#language-mapping">language-mapping</a> 
                        "t"     终端作业模式
                        ""      普通、可视和操作符等待模式。
                <code class="special">{mode}</code> 省略时使用 "" 指定的模式。

                <code class="special">{abbr}</code> 给出且为  <a href="eval.html#TRUE">TRUE</a>  时，使用缩写而不是映射。

                <code class="special">{dict}</code> 给出且为  <a href="eval.html#TRUE">TRUE</a>  时，返回包含映射详细信息的字典。字典包
                含如下条目:                             <b class="vimtag"> <a name="mapping-dict">mapping-dict</a> </b>
                  "lhs"      映射的 <code class="special">{lhs}</code>，采用用户输入表示
                  "lhsraw"   映射的 <code class="special">{lhs}</code>，采用原始字节表示
                  "lhsrawalt" 映射的 <code class="special">{lhs}</code>，采用原始字节的替代表示，仅当其与
                              "lhsraw" 不同时才会出现
                  "rhs"      映射的 <code class="special">{rhs}</code>，采用用户输入表示。
                  "silent"    <a href="map.html#:map-silent">:map-silent</a>  映射则为 1，否则为 0。
                  "noremap"  映射的 <code class="special">{rhs}</code> 不能重映射则为 1。
                  "script"   映射使用 <code class="special">&lt;script&gt;</code> 定义则为 1。
                  "expr"     表达式映射 ( <a href="map.html#:map-%3Cexpr%3E">:map-&lt;expr&gt;</a> ) 则为 1。
                  "buffer"   缓冲区本地映射 ( <a href="map.html#:map-local">:map-local</a> ) 则为 1。
                  "mode"     映射定义使用的模式。除了上述的模式以外，还会使用:
                             " "     普通、可视和操作符等待模式
                             "!"     插入和命令行模式
                                     ( <a href="map.html#mapmode-ic">mapmode-ic</a> )
                  "sid"      脚本局部 ID，用于 <code class="special">&lt;sid&gt;</code> 映射 ( <a href="map.html#%3CSID%3E">&lt;SID&gt;</a> )。负值用于
                             特殊上下文。
                  "scriptversion"  脚本版本。 <a href="vim9.html#Vim9">Vim9</a>  脚本返回 999999。
                  "lnum"     "sid" 中的行号，行号未知时为零。
                  "nowait"   不等待其它更长的映射 ( <a href="map.html#:map-%3Cnowait%3E">:map-&lt;nowait&gt;</a> ) 则为 1。
                  "abbr"     使用缩写  <a href="map.html#abbreviations">abbreviations</a>  时则为真。
                  "mode_bits" "mode" 的 Vim 内部二进制表示。 <a href="builtin.html#mapset()">mapset()</a>  忽略
                             本条目，只使用 "mode"。用法举例可见  <a href="builtin.html#maplist()">maplist()</a> 。
                             其值来自 src/vim.h，将来可能会改变。

                 <a href="builtin.html#mapset()">mapset()</a>  可使用此字典来恢复映射。

                首先检查当前缓冲区的局部映射，如果没有找到，再检查全局映射。
                本函数可以在按键已经被映射的情况下，仍然对它进行新的映射，同时
                保留原来映射的内容。示意如下:
<code class="example">                        exe 'nnoremap &lt;Tab&gt; ==' .. maparg('&lt;Tab&gt;', 'n')</code>
<code class="example"></code>
                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetKey()-&gt;maparg('n')</code>

                返回类型:  <a href="eval.html#String">String</a>  或 dict<code class="special">&lt;any&gt;</code>，取决于 <code class="special">{dict}</code>


mapcheck(<code class="special">{name}</code> [, <code class="special">{mode}</code> [, <code class="special">{abbr}</code>]])                  <b class="vimtag"> <a name="mapcheck()">mapcheck()</a> </b>
                检查是否有模式 <code class="special">{mode}</code> 下名字匹配 <code class="special">{name}</code> 的映射。参见
                 <a href="builtin.html#maparg()">maparg()</a>  了解 <code class="special">{mode}</code> 和 <code class="special">{name}</code> 里的特殊键名。
                <code class="special">{abbr}</code> 给出且为  <a href="eval.html#TRUE">TRUE</a>  时，使用缩写而不是映射。
                映射名以 <code class="special">{name}</code> 开始，或者映射名等于 <code class="special">{name}</code> 的起始部分，都算匹
                配成功。

<code class="section">                        匹配映射        "a"     "ab"    "abc" </code>
                   mapcheck("a")        是      是       是
                   mapcheck("abc")      是      是       是
                   mapcheck("ax")       是      否       否
                   mapcheck("b")        否      否       否

                和  <a href="builtin.html#maparg()">maparg()</a>  相较，mapcheck() 会使用 <code class="special">{name}</code> 的部分匹配来查找
                映射，而  <a href="builtin.html#maparg()">maparg()</a>  只查找名字和 <code class="special">{name}</code> 完全一致的映射。
                如果没有 <code class="special">{name}</code> 开始的映射，返回空串。如果只有一个匹配的映射，
                返回该映射的右侧内容。如果有多个匹配，返回其中任意一个的右侧内
                容。当映射右侧内容为空时，返回 "<code class="special">&lt;Nop&gt;</code>"。
                首先检查当前缓冲区的局部映射，如果没有找到，再检查全局映射。
                该函数可用于判断是否可以安全地添加映射而不会产生歧义。例如:
<code class="example">        :if mapcheck("_vv") == ""</code>
<code class="example">        :   map _vv :set guifont=7x13&lt;CR&gt;</code>
<code class="example">        :endif</code>
                在已有 "_v" 或者 "_vvv" 映射时，此检查就可以防止再添加 "_vv"
                映射，以避免冲突。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetKey()-&gt;mapcheck('n')</code>

                返回类型:  <a href="eval.html#String">String</a> 


maplist([<code class="special">{abbr}</code>])                                       <b class="vimtag"> <a name="maplist()">maplist()</a> </b>
                返回所有映射组成的  <a href="eval.html#List">List</a> 。每个列表项是和  <a href="builtin.html#maparg()">maparg()</a>  返回值相
                同的  <a href="eval.html#Dict">Dict</a> ，参见  <a href="builtin.html#mapping-dict">mapping-dict</a> 。<code class="special">{abbr}</code> 给出且为  <a href="eval.html#TRUE">TRUE</a>  时，
                使用缩写而不是映射。

                显示右侧内容使用 'MultiMatch' 的所有映射的示例:
<code class="example">                        vim9script</code>
<code class="example">                        echo maplist()-&gt;filter(</code>
<code class="example">                                (_, m) =&gt; match(m.rhs, 'MultiMatch') &gt;= 0)</code>
                要找到特定  <a href="map.html#:map-modes">:map-modes</a>  的所有映射需要点技巧。这里可以借助
                 <a href="builtin.html#mapping-dict">mapping-dict</a>  里的 "mode_bits"。例如，普通、插入或命令行模式
                对应的 mode_bits 是 0x19。要找到这些模式下的所有映射:
<code class="example">                        vim9script</code>
<code class="example">                        var saved_maps = []</code>
<code class="example">                        for m in maplist()</code>
<code class="example">                            if and(m.mode_bits, 0x19) != 0</code>
<code class="example">                                saved_maps-&gt;add(m)</code>
<code class="example">                            endif</code>
<code class="example">                        endfor</code>
<code class="example">                        echo saved_maps-&gt;mapnew((_, m) =&gt; m.lhs)</code>
                要查询 mode_bits 的值，可以参考 Vim 源代码 src/vim.h 里的相应
                定义，也可以在运行时用  <a href="map.html#:map-commands">:map-commands</a>  和 "maplist()" 来获取。
                例如:
<code class="example">                        vim9script</code>
<code class="example">                        omap xyzzy &lt;Nop&gt;</code>
<code class="example">                        var op_bit = maplist()-&gt;filter(</code>
<code class="example">                            (_, m) =&gt; m.lhs == 'xyzzy')[0].mode_bits</code>
<code class="example">                        ounmap xyzzy</code>
<code class="example">                        echo printf("Operator-pending mode bit: 0x%x", op_bit)</code>

                返回类型: list&lt;dict<code class="special">&lt;any&gt;</code>&gt;


mapnew(<code class="special">{expr1}</code>, <code class="special">{expr2}</code>)                                <b class="vimtag"> <a name="mapnew()">mapnew()</a> </b>
                和  <a href="builtin.html#map()">map()</a>  类同，但生成并返回新的列表或字典而不是替换 <code class="special">{expr1}</code>
                里的项目。原始的 <code class="special">{expr1}</code> 保持不变。不过，<code class="special">{expr2}</code> 仍然可能对其
                中的项目进行修改，如果不想如此，先用  <a href="builtin.html#deepcopy()">deepcopy()</a>  再进行操作。

                返回类型:  <a href="eval.html#String">String</a> 、 <a href="eval.html#Blob">Blob</a> 、list&lt;<code class="special">{type}</code>&gt; 或 dict&lt;<code class="special">{type}</code>&gt;，
                取决于 <code class="special">{expr1}</code>


mapset(<code class="special">{mode}</code>, <code class="special">{abbr}</code>, <code class="special">{dict}</code>)                          <b class="vimtag"> <a name="mapset()">mapset()</a> </b>
mapset(<code class="special">{dict}</code>)
                通过  <a href="builtin.html#maparg()">maparg()</a>  或  <a href="builtin.html#maplist()">maplist()</a>  返回的字典来恢复映射。
                dict.buffer 为真时，在当前缓冲区上恢复缓冲区本地映射；调用者应
                确保当前缓冲区就是期望的那个缓冲区。此特性可以把一个缓冲区里的
                映射复制到另一个缓冲区。
                dict.mode 值可以恢复适用于多个模式的单个映射，例如 mode 值
                '!'、' '、<code class="badlink">'nox'</code> 或 'v' 就是如此。 <b class="vimtag"> <a name="E1276">E1276</a> </b>

                第一种形式使用的 <code class="special">{mode}</code> 和 <code class="special">{abbr}</code> 应和原先调用  <a href="builtin.html#maparg()">maparg()</a>  时所
                用的值保持一致。 <b class="vimtag"> <a name="E460">E460</a> </b>
                此时，使用 <code class="special">{mode}</code> 来定义映射所在的模式，而不是 <code class="special">{dict}</code> 中的
                "mode" 项目。
                保存和恢复映射的示例:
<code class="example">                        let save_map = maparg('K', 'n', 0, 1)</code>
<code class="example">                        nnoremap K 其它映射值</code>
<code class="example">                        ...</code>
<code class="example">                        call mapset('n', 0, save_map)</code>
                <code class="note">注意</code> 要恢复像  <a href="map.html#:map!">:map!</a>  这样在多个模式下定义的映射，需要针对每个
                模式分别保存/恢复映射，因为每个模式下映射的右侧内容可能不同。

                第二种形式只需提供一个参数 <code class="special">{dict}</code>，mode 和 abbr 会直接从该字典
                中获取。
                示例:
<code class="example">                        vim9script</code>
<code class="example">                        var save_maps = maplist()-&gt;filter(</code>
<code class="example">                                                (_, m) =&gt; m.lhs == 'K')</code>
<code class="example">                        nnoremap K somethingelse</code>
<code class="example">                        cnoremap K somethingelse2</code>
<code class="example">                        # ...</code>
<code class="example">                        unmap K</code>
<code class="example">                        for d in save_maps</code>
<code class="example">                            mapset(d)</code>
<code class="example">                        endfor</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


match(<code class="special">{expr}</code>, <code class="special">{pat}</code> [, <code class="special">{start}</code> [, <code class="special">{count}</code>]])            <b class="vimtag"> <a name="match()">match()</a> </b>
                <code class="special">{expr}</code> 为  <a href="eval.html#List">List</a>  时，返回匹配 <code class="special">{pat}</code> 的首个列表项的索引。每个列
                表项视作字符串， <a href="eval.html#List">List</a>  和  <a href="eval.html#Dictionary">Dictionary</a>  子项目按其回显的形式参
                与匹配。

                否则，<code class="special">{expr}</code> 视作字符串。返回 <code class="special">{expr}</code> 里匹配 <code class="special">{pat}</code> 的起始位置
                (按字节计算的偏移量)，类型为数值。

                如果匹配到的是首个字符或首个  <a href="eval.html#List">List</a>  项，返回的索引为零。如果没
                有匹配，返回 -1。

                要获取子匹配项，可见  <a href="builtin.html#matchlist()">matchlist()</a> 。
                例如:
<code class="example">                        :echo match("testing", "ing")   " 返回 4</code>
<code class="example">                        :echo match([1, 'x'], '\a')     " 返回 1</code>
                <code class="special">{pat}</code> 的用法可见  <a href="builtin.html#string-match">string-match</a> 。
                                                        <b class="vimtag"> <a name="strpbrk()">strpbrk()</a> </b>
                Vim 并未提供 strpbrk() 函数。但可以按下面方式自行实现:
<code class="example">                        :let sepidx = match(line, '[.,;: \t]')</code>
                                                        <b class="vimtag"> <a name="strcasestr()">strcasestr()</a> </b>
                Vim 也并未提供 strcasestr() 函数。但可以通过在模式里加入 "\c"
                以忽略大小写来实现:
<code class="example">                        :let idx = match(haystack, '\cneedle')</code>

                <code class="special">{start}</code> 给出时，从字符串的第 <code class="special">{start}</code> 个字节位置或从列表中索引
                为 <code class="special">{start}</code> 的项开始搜索。
                不过，返回的索引仍然从首个字符/列表项开始算起。比如:
<code class="example">                        :echo match("testing", "ing", 2)</code>
                返回结果是 "4"。
<code class="example">                        :echo match("testing", "ing", 4)</code>
                返回结果还是 "4"。
<code class="example">                        :echo match("testing", "t", 2)</code>
                返回 "3"。
                对字符串而言，如果 <code class="special">{start}</code> &gt; 0，其行为相当于该字符串从第
                <code class="special">{start}</code> 个字节后开始，因而 "^" 会从 <code class="special">{start}</code> 位置开始匹配。
                但如果同时也给出了 <code class="special">{count}</code>，行为会有所不同，此时先进行正常的完
                整匹配，然后忽略前 <code class="special">{start}</code> 个字节中的那些匹配 (有一点复杂，这
                是为了后向兼容)。
                对字符串而言，如果 <code class="special">{start}</code> &lt; 0，则视作 0 处理。而对列表而言，
                负索引代表从列表尾部开始计数。
                如果 <code class="special">{start}</code> 越界 (对于字符串 <code class="special">{start}</code> &gt; strlen(<code class="special">{expr}</code>)，对于
                 <a href="eval.html#List">List</a>  <code class="special">{start}</code> &gt; len(<code class="special">{expr}</code>))，返回 -1。

                <code class="special">{count}</code> 给出时，使用第 <code class="special">{count}</code> 个匹配。对字符串而言，找到一个
                匹配后，下一次匹配会从该匹配开始位置的下一个字符开始搜索。所以
                下例返回 1:
<code class="example">                        echo match("testing", "..", 0, 2)</code>
                对  <a href="eval.html#List">List</a>  而言，搜索则从下一个项目开始。
                <code class="note">注意</code> 如果同时也给出了 <code class="special">{count}</code>，<code class="special">{start}</code> 使用的方式有所改变。见
                上。

                                                        <b class="vimtag"> <a name="match-pattern">match-pattern</a> </b>
                参见  <a href="pattern.html#pattern">pattern</a> ，了解可接受的匹配模式。
                <a href="options.html#'ignorecase'">'ignorecase'</a> 选项用来设定模式匹配是否忽略大小写。这里 <code class="emphasis">不</code> 考虑
                <a href="options.html#'smartcase'">'smartcase'</a>。模式匹配总是假定置位了 <a href="options.html#'magic'">'magic'</a> 而 <a href="options.html#'cpoptions'">'cpoptions'</a> 为
                空。
                <code class="note">注意</code> 优先考虑较早位置的匹配，所以当使用 "*" (任意数目的匹配)
                时，模式倾向于匹配字符串开头处的零匹配，而不是文本中间的最长匹
                配。

                (<code class="vim">译者注</code>: match() 系列函数简单对照可见下表:
                        函数    输入    匹配    返回值  子匹配  多匹配  带信息
                 <a href="builtin.html#match()">match()</a>        串/列表 正则    始索引  ✗      首个    ✗
                 <a href="builtin.html#matchbufline()">matchbufline()</a> 缓冲区  正则    列表    ✓      所有    ✓
                 <a href="builtin.html#matchend()">matchend()</a>     串/列表 正则    末索引  ✗      首个    ✗
                 <a href="builtin.html#matchfuzzy()">matchfuzzy()</a>   列表    模糊    列表    ✗      所有    ✗
                 <a href="builtin.html#matchfuzzypos()">matchfuzzypos()</a>  列表  模糊    列表    ✗      所有    ✓
                 <a href="builtin.html#matchlist()">matchlist()</a>    字符串  正则    列表    ✓      首个    ✗
                 <a href="builtin.html#matchstr()">matchstr()</a>     串/列表 正则    字符串  ✗      首个    ✗
                 <a href="builtin.html#matchstrlist()">matchstrlist()</a>  列表   正则    列表    ✓      所有    ✓
                 <a href="builtin.html#matchstrpos()">matchstrpos()</a>  串/列表 正则    列表    ✗      首个    ✓
                )

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetText()-&gt;match('word')</code>
<code class="example">                        GetList()-&gt;match('word')</code>

                返回类型:  <a href="eval.html#Number">Number</a> 

                                                        <b class="vimtag"> <a name="matchadd()">matchadd()</a> </b> <b class="vimtag"> <a name="E290">E290</a> </b>
                                                        <b class="vimtag"> <a name="E798">E798</a> </b> <b class="vimtag"> <a name="E799">E799</a> </b> <b class="vimtag"> <a name="E801">E801</a> </b>
                                                        <b class="vimtag"> <a name="E957">E957</a> </b>
matchadd(<code class="special">{group}</code>, <code class="special">{pattern}</code> [, <code class="special">{priority}</code> [, <code class="special">{id}</code> [, <code class="special">{dict}</code>]]])
                定义模式 (一个 "匹配")， 在当前窗口用高亮组 <code class="special">{group}</code> 高亮。返回
                标识号 (ID)，该 ID 可用于  <a href="builtin.html#matchdelete()">matchdelete()</a> ，以删除相应的匹配。
                ID 局部于窗口。
                匹配是大小写敏感和带魔术的，但 <code class="special">{pattern}</code> 里可以显式关闭大小写
                敏感性和魔术性。这里不考虑 <a href="options.html#'magic'">'magic'</a>、<a href="options.html#'smartcase'">'smartcase'</a> 和
                <a href="options.html#'ignorecase'">'ignorecase'</a> 选项。
                "Conceal" 值是特别的，它会使匹配被隐藏。

                可选的 <code class="special">{priority}</code> 参数指定匹配的优先级。高优先级的匹配会覆盖低
                优先级匹配的高亮显示。优先级用整数指定 (负整数也无不可)。默认
                优先级为 10。<a href="options.html#'hlsearch'">'hlsearch'</a> 的优先级为零，因此所有正数优先级的匹配
                都可以覆盖它。语法高亮 (见 <a href="options.html#'syntax'">'syntax'</a>) 采用不同的机制，效果上来
                说，无论何种优先级的匹配都会覆盖语法的高亮。

                可选的 <code class="special">{id}</code> 参数请求特定的匹配 ID。如果指定的 ID 已占用，会报
                错并且不会添加新的匹配。ID 用正整数指定 (不含零)。ID 1、2 和 3
                分别为  <a href="pattern.html#:match">:match</a> 、 <a href="pattern.html#:2match">:2match</a>  和  <a href="pattern.html#:3match">:3match</a>  命令保留。ID 3 为
                 <a href="pi_paren.html#matchparen">matchparen</a>  插件保留。

                <code class="special">{id}</code> 省略或为 -1 时， <a href="builtin.html#matchadd()">matchadd()</a>  自动选择一个可用的 ID，从
                1000 开始。

                可选的 <code class="special">{dict}</code> 参数允许更多自定义。目前，可制用来指定匹配特定的
                隐藏字符，使用  <a href="syntax.html#hl-Conceal">hl-Conceal</a>  高亮组的匹配会用此来替代显示。该字
                典包含以下成员:

                        conceal     替代匹配显示的特殊字符 (只用于使用
                                     <a href="syntax.html#hl-Conceal">hl-Conceal</a>  高亮组的匹配，见
                                     <a href="syntax.html#:syn-cchar">:syn-cchar</a> )
                        window      不使用当前窗口，而使用指定窗口号或窗口 ID
                                    的其它窗口。

                本函数可添加的匹配的数目不限，而  <a href="pattern.html#:match">:match</a>  系列命令则有此局限。

                如果出错，返回 -1。

                示例:
<code class="example">                        :highlight MyGroup ctermbg=green guibg=green</code>
<code class="example">                        :let m = matchadd("MyGroup", "TODO")</code>
                要删除该模式:
<code class="example">                        :call matchdelete(m)</code>
<code class="example"></code>
                 <a href="builtin.html#getmatches()">getmatches()</a>  会列出  <a href="builtin.html#matchadd()">matchadd()</a>  和  <a href="pattern.html#:match">:match</a>  定义的所有匹配
                的列表。 <a href="builtin.html#clearmatches()">clearmatches()</a>  可一次删除所有的匹配。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetGroup()-&gt;matchadd('TODO')</code>

                返回类型:  <a href="eval.html#Number">Number</a> 

                                                        <b class="vimtag"> <a name="matchaddpos()">matchaddpos()</a> </b>
matchaddpos(<code class="special">{group}</code>, <code class="special">{pos}</code> [, <code class="special">{priority}</code> [, <code class="special">{id}</code> [, <code class="special">{dict}</code>]]])
                和  <a href="builtin.html#matchadd()">matchadd()</a>  类同，但指定位置列表 <code class="special">{pos}</code> 而非匹配模式。本函
                数比  <a href="builtin.html#matchadd()">matchadd()</a>  更高效，因为无需处理正则表达式，而且会设置缓
                冲区重画屏幕的行边界。主要用于需要频繁快速增删匹配的场合，如括
                号匹配的高亮显示。

                <code class="special">{pos}</code> 是一组位置的列表。每个位置可以是以下形式之一:
                - 数值。表示在指定行高亮整行。首行的行号为 1。
                - 单数值列表。如 <code class="special">[23]</code>。同样表示在指定行高亮整行。
                - 双数值列表，如 [23, 11]。表示在指定位置高亮单个字符。前者为
                  行号，后者为列号 (首列列号为 1，必须对应  <a href="builtin.html#col()">col()</a>  返回的字节
                  索引)。
                - 三数值列表，如 [23, 11, 3]。同上，但第三个值指定高亮的字节长
                  度，而不是默认的 1。

                如果出错，返回 -1。

                示例:
<code class="example">                        :highlight MyGroup ctermbg=green guibg=green</code>
<code class="example">                        :let m = matchaddpos("MyGroup", [[23, 24], 34])</code>
                模式的删除:
<code class="example">                        :call matchdelete(m)</code>
<code class="example"></code>
                 <a href="builtin.html#getmatches()">getmatches()</a>  返回  <a href="builtin.html#matchaddpos()">matchaddpos()</a>  加入的匹配。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetGroup()-&gt;matchaddpos([23, 11])</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


matcharg(<code class="special">{nr}</code>)                                          <b class="vimtag"> <a name="matcharg()">matcharg()</a> </b>
                选择第 <code class="special">{nr}</code> 号匹配，它们分别用  <a href="pattern.html#:match">:match</a> 、 <a href="pattern.html#:2match">:2match</a>  或
                 <a href="pattern.html#:3match">:3match</a>  命令设置。
                返回包含两个项目的  <a href="eval.html#List">List</a> :
                        使用的高亮组名
                        使用的模式。
                如果 <code class="special">{nr}</code> 不是 1、2 或 3，返回空  <a href="eval.html#List">List</a> 。
                如果未曾设置过该匹配，返回 ['', '']。
                本函数用来保存和恢复  <a href="pattern.html#:match">:match</a> 。
                用  <a href="pattern.html#:match">:match</a>  系列命令定义的高亮匹配只限三个。而  <a href="builtin.html#matchadd()">matchadd()</a>  无
                此限制。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetMatch()-&gt;matcharg()</code>

                返回类型: list<code class="special">&lt;string&gt;</code>


matchbufline(<code class="special">{buf}</code>, <code class="special">{pat}</code>, <code class="special">{lnum}</code>, <code class="special">{end}</code>, [, <code class="special">{dict}</code>])   <b class="vimtag"> <a name="matchbufline()">matchbufline()</a> </b>
                返回在指定缓冲区 <code class="special">{buf}</code> 的第 <code class="special">{lnum}</code> 到 <code class="special">{end}</code> 行之间，所有匹配模
                式 <code class="special">{pat}</code> 的匹配项组成的  <a href="eval.html#List">List</a> 。

                <code class="special">{lnum}</code> 和 <code class="special">{end}</code> 或者是行号，或者代表 <code class="special">{buf}</code> 末行的 "$" 字符串。

                <code class="special">{dict}</code> 参数支持以下项目:
                    submatches  为真则包含子匹配项信息 ( <a href="pattern.html#%2F\(">/\(</a> )

                返回列表中，对应每个匹配项，返回包含以下条目的  <a href="eval.html#Dict">Dict</a> :
                    byteidx     匹配起始位置的字节索引
                    lnum        匹配所在的行号
                    text        匹配内容字符串
                <code class="note">注意</code> 一行上可能有多处匹配。

                本函数只能用于已加载的缓冲区。如有必要，可先调用  <a href="builtin.html#bufload()">bufload()</a> 。

                 <a href="builtin.html#match-pattern">match-pattern</a>  说明模式相关选项设定的效果。

                如果 <code class="special">{buf}</code> 不是合法缓冲区、缓冲区未加载，或者 <code class="special">{lnum}</code> 或 <code class="special">{end}</code>
                不合法，报错并返回空  <a href="eval.html#List">List</a> 。

                示例:
<code class="example">                    " 假定 5 号缓冲区第 3 行是 "a"</code>
<code class="example">                    :echo matchbufline(5, '\&lt;\k\+\&gt;', 3, 3)</code>
<code class="example">                    [{'lnum': 3, 'byteidx': 0, 'text': 'a'}]</code>
<code class="example">                    " 假定 10 号缓冲区第 4 行是 "tik tok"</code>
<code class="example">                    :echo matchbufline(10, '\&lt;\k\+\&gt;', 1, 4)</code>
<code class="example">                    [{'lnum': 4, 'byteidx': 0, 'text': 'tik'},</code>
<code class="example">                     {'lnum': 4, 'byteidx': 4, 'text': 'tok'}]</code>

                <code class="special">{submatch}</code> 给出且为 v:true 时，返回字典中还会出现 "submatches"
                条目，包含 "\1"、"\2" 等子匹配项组成的列表。例如:
<code class="example">                    " 假定 2 号缓冲区第 2 行是 "acd"</code>
<code class="example">                    :echo matchbufline(2, '\(a\)\?\(b\)\?\(c\)\?\(.*\)', 2, 2</code>
<code class="example">                                                \ {'submatches': v:true})</code>
<code class="example">                    [{'lnum': 2, 'byteidx': 0, 'text': 'acd', 'submatches':</code>
<code class="example">                    ['a', '', 'c', 'd', '', '', '', '', '']}]</code>
                "submatches" 列表永远包含 9 个项目。如果某个子匹配项空缺，对应
                的位置会返回空串。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetBuffer()-&gt;matchbufline('mypat', 1, '$')</code>

                返回类型: list&lt;dict<code class="special">&lt;any&gt;</code>&gt; 或 list<code class="special">&lt;any&gt;</code> (<code class="vim">译者注</code>: 应只有前者)

                                                        <b class="vimtag"> <a name="matchdelete()">matchdelete()</a> </b>
matchdelete(<code class="special">{id}</code> [, <code class="special">{win}</code>)                              <b class="vimtag"> <a name="E802">E802</a> </b> <b class="vimtag"> <a name="E803">E803</a> </b>
                删除先前用  <a href="builtin.html#matchadd()">matchadd()</a>  或  <a href="pattern.html#:match">:match</a>  诸命令定义的 ID 为 <code class="special">{id}</code> 的
                匹配。成功时返回 0，否则返回 -1。示例见  <a href="builtin.html#matchadd()">matchadd()</a> 。
                 <a href="builtin.html#clearmatches()">clearmatches()</a>  可一次删除所有的匹配。
                <code class="special">{win}</code> 给出时，使用指定编号或 ID 的窗口，而非默认的当前窗口。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetMatch()-&gt;matchdelete()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


matchend(<code class="special">{expr}</code>, <code class="special">{pat}</code> [, <code class="special">{start}</code> [, <code class="special">{count}</code>]])         <b class="vimtag"> <a name="matchend()">matchend()</a> </b>
                和  <a href="builtin.html#match()">match()</a>  类同，但返回匹配之后首个字符的位置，而非匹配的起
                始位置。例如:
<code class="example">                        :echo matchend("testing", "ing")</code>
                返回 "7"。
                                                        <b class="vimtag"> <a name="strspn()">strspn()</a> </b> <b class="vimtag"> <a name="strcspn()">strcspn()</a> </b>
                Vim 并未提供 strspn() 或 strcspn() 函数，但可用 matchend() 自
                行实现:
<code class="example">                        :let span = matchend(line, '[a-zA-Z]')</code>
<code class="example">                        :let span = matchend(line, '[^a-zA-Z]')</code>
                区别是，如果没有匹配，本函数会返回 -1。

                <code class="special">{start}</code> 给出时，其用法和  <a href="builtin.html#match()">match()</a>  中的 <code class="special">{start}</code> 参数相同。
<code class="example">                        :echo matchend("testing", "ing", 2)</code>
                返回 "7"。
<code class="example">                        :echo matchend("testing", "ing", 5)</code>
                返回 "-1"。
                <code class="special">{expr}</code> 为  <a href="eval.html#List">List</a>  时，返回值和  <a href="builtin.html#match()">match()</a>  的相同。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetText()-&gt;matchend('word')</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


matchfuzzy(<code class="special">{list}</code>, <code class="special">{str}</code> [, <code class="special">{dict}</code>])                    <b class="vimtag"> <a name="matchfuzzy()">matchfuzzy()</a> </b>
                <code class="special">{list}</code> 为字符串列表时，返回包含 <code class="special">{list}</code> 中所有与 <code class="special">{str}</code> 模糊匹配
                的字符串  <a href="eval.html#List">List</a> 。返回的列表按照匹配分数从高到低排序。

                可选的 <code class="special">{dict}</code> 参数总是支持以下条目:
                    matchseq    给出时，只返回与 <code class="special">{str}</code> 里字符出现的顺序一致的
                                匹配。
                    limit       <code class="special">{list}</code> 里返回的匹配数量上限。零代表不设限制。

                <code class="special">{list}</code> 为字典列表时，可选的 <code class="special">{dict}</code> 参数还另外支持以下条目:
                    key         用于模糊匹配 <code class="special">{str}</code> 的项目键。该项目的值必须为
                                字符串类型。
                    text_cb     对 <code class="special">{list}</code> 中每个项目，都会调用本条目指定的
                                 <a href="eval.html#Funcref">Funcref</a>  以获取用于模糊匹配的文本。本函数应接
                                受一个字典项目作为参数，并返回该项目中用于模糊
                                匹配的文本。

                <code class="special">{str}</code> 视作字符串常量， <code class="emphasis">不</code> 会进行正则表达式匹配。<code class="special">{str}</code> 能接受的
                最大长度为 256。

                <code class="special">{str}</code> 包含由空白分隔的多个单词时，返回的列表仅包含那些同时包含
                所有这些单词的字符串。

                如果没有字符串匹配、有出错、或者 <code class="special">{str}</code> 的长度超过 256，返回空
                列表。

                <code class="special">{limit}</code> 给出时，matchfuzzy() 会在 <code class="special">{list}</code> 中寻找不超过指定限额
                的匹配项，排序后返回。

                关于模糊匹配，详见  <a href="pattern.html#fuzzy-matching">fuzzy-matching</a>  。

                示例:
<code class="example">                   :echo matchfuzzy(["clay", "crow"], "cay")</code>
                返回 ["clay"].
<code class="example">                   :echo getbufinfo()-&gt;map({_, v -&gt; v.name})-&gt;matchfuzzy("ndl")</code>
                返回和 "ndl" 模糊匹配的缓冲区名列表。
<code class="example">                   :echo getbufinfo()-&gt;matchfuzzy("ndl", {'key' : 'name'})</code>
                返回名字和 "ndl" 模糊匹配的缓冲区信息字典的列表。
<code class="example">                   :echo getbufinfo()-&gt;matchfuzzy("spl",</code>
<code class="example">                                                \ {'text_cb' : {v -&gt; v.name}})</code>
                返回名字和 "spl" 模糊匹配的缓冲区信息字典的列表。
<code class="example">                   :echo v:oldfiles-&gt;matchfuzzy("test")</code>
                返回和 "test" 模糊匹配的文件名的列表。
<code class="example">                   :let l = readfile("buffer.c")-&gt;matchfuzzy("str")</code>
                返回在 "buffer.c" 文件中，和 "str" 模糊匹配的行的列表。
<code class="example">                   :echo ['one two', 'two one']-&gt;matchfuzzy('two one')</code>
                返回 ['two one', 'one two']。
<code class="example">                   :echo ['one two', 'two one']-&gt;matchfuzzy('two one',</code>
<code class="example">                                                \ {'matchseq': 1})</code>
                返回 ['two one']。

                返回类型: list<code class="special">&lt;string&gt;</code> 或 list<code class="special">&lt;any&gt;</code>


matchfuzzypos(<code class="special">{list}</code>, <code class="special">{str}</code> [, <code class="special">{dict}</code>])                 <b class="vimtag"> <a name="matchfuzzypos()">matchfuzzypos()</a> </b>
                和  <a href="builtin.html#matchfuzzy()">matchfuzzy()</a>  类同，但返回一个包含三个子列表项的列表，分别
                为，由匹配字符串组成的列表、由 <code class="special">{str}</code> 中匹配字符的字符位置组成
                的列表、以及由匹配分数组成的列表。可用  <a href="builtin.html#byteidx()">byteidx()</a>  把字符位置
                转为字节位置。

                <code class="special">{str}</code> 在字符串中有多个匹配时，仅返回对应最佳匹配的那组字符位
                置。

                如果没有字符串匹配或有出错，返回包含三个空子列表项的列表。

                示例:
<code class="example">                        :echo matchfuzzypos(['testing'], 'tsg')</code>
                返回 [[<code class="badlink">'testing'</code>], [[0, 2, 6]], <code class="special">[99]</code>]
<code class="example">                        :echo matchfuzzypos(['clay', 'lacy'], 'la')</code>
                返回 [[<code class="badlink">'lacy'</code>, <code class="badlink">'clay'</code>], [[0, 1], [1, 2]], [153, 133]]
<code class="example">                        :echo [{'text': 'hello', 'id' : 10}]</code>
<code class="example">                          \ -&gt;matchfuzzypos('ll', {'key' : 'text'})</code>
                返回 [[{<code class="badlink">'id'</code>: 10, <code class="badlink">'text'</code>: <code class="badlink">'hello'</code>}], [[2, 3]], <code class="special">[127]</code>]

                返回类型: list&lt;list<code class="special">&lt;any&gt;</code>&gt;


matchlist(<code class="special">{expr}</code>, <code class="special">{pat}</code> [, <code class="special">{start}</code> [, <code class="special">{count}</code>]])        <b class="vimtag"> <a name="matchlist()">matchlist()</a> </b>
                和  <a href="builtin.html#match()">match()</a>  类同，但返回  <a href="eval.html#List">List</a> 。列表第一项是匹配字符串，和
                 <a href="builtin.html#matchstr()">matchstr()</a>  的返回值相同。其后的列表项为子匹配项，类似
                 <a href="change.html#:substitute">:substitute</a>  的 "\1"、"\2" 等。如果某个可选的子匹配项空缺，对
                应的位置会用空串填充。例如:
<code class="example">                        echo matchlist('acd', '\(a\)\?\(b\)\?\(c\)\?\(.*\)')</code>
                返回: [<a href="options.html#'acd'">'acd'</a>, 'a', '', 'c', 'd', '', '', '', '', '']
                如果没有匹配，返回空列表。

                本函数也支持传入列表，但没什么实际用处 (<code class="vim">译者注</code>: 返回匹配的首个
                列表项内容后跟 9 个空串)。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetText()-&gt;matchlist('word')</code>

                返回类型: list<code class="special">&lt;string&gt;</code> 或 list<code class="special">&lt;any&gt;</code>


matchstr(<code class="special">{expr}</code>, <code class="special">{pat}</code> [, <code class="special">{start}</code> [, <code class="special">{count}</code>]])         <b class="vimtag"> <a name="matchstr()">matchstr()</a> </b>
                和  <a href="builtin.html#match()">match()</a>  类同，但返回匹配的字符串而非索引。例如:
<code class="example">                        :echo matchstr("testing", "ing")</code>
                返回 "ing"。
                如果没有匹配，返回 ""。
                <code class="special">{start}</code> 给出时，其用法和  <a href="builtin.html#match()">match()</a>  中的 <code class="special">{start}</code> 参数相同。
<code class="example">                        :echo matchstr("testing", "ing", 2)</code>
                返回 "ing"。
<code class="example">                        :echo matchstr("testing", "ing", 5)</code>
                返回 ""。
                <code class="special">{expr}</code> 为  <a href="eval.html#List">List</a>  时，返回匹配的列表项。返回值保持原有类型，因
                而不一定是字符串。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetText()-&gt;matchstr('word')</code>

                返回类型:  <a href="eval.html#String">String</a> 


matchstrlist(<code class="special">{list}</code>, <code class="special">{pat}</code> [, <code class="special">{dict}</code>])                  <b class="vimtag"> <a name="matchstrlist()">matchstrlist()</a> </b>
                返回 <code class="special">{list}</code> 里所有匹配 <code class="special">{pat}</code> 的项目组成的  <a href="eval.html#List">List</a> 。
                <code class="special">{list}</code> 必须为字符串  <a href="eval.html#List">List</a> 。而 <code class="special">{pat}</code> 用来匹配 <code class="special">{list}</code> 中的每个
                字符串。

                <code class="special">{dict}</code> 参数支持以下项目:
                    submatches  为真则包含子匹配项信息 ( <a href="pattern.html#%2F\(">/\(</a> )

                返回列表中，对应每个匹配项，返回包含以下条目的  <a href="eval.html#Dict">Dict</a> :
                    byteidx     匹配起始位置的字节索引。
                    idx         匹配所在的 <code class="special">{list}</code> 列表项的索引。
                    text        匹配内容字符串。
                    submatches  子匹配项列表。仅当 <code class="special">{dict}</code> 里的 "submatches" 设
                                为 v:true 时才会返回。

                 <a href="builtin.html#match-pattern">match-pattern</a>  说明模式相关选项设定的效果。

                示例:
<code class="example">                    :echo matchstrlist(['tik tok'], '\&lt;\k\+\&gt;')</code>
<code class="example">                    [{'idx': 0, 'byteidx': 0, 'text': 'tik'},</code>
<code class="example">                     {'idx': 0, 'byteidx': 4, 'text': 'tok'}]</code>
<code class="example">                    :echo matchstrlist(['a', 'b'], '\&lt;\k\+\&gt;')</code>
<code class="example">                    [{'idx': 0, 'byteidx': 0, 'text': 'a'},</code>
<code class="example">                     {'idx': 1, 'byteidx': 0, 'text': 'b'}]</code>

                <code class="special">{submatch}</code> 给出且为 v:true 时，返回字典中还会出现 "submatches"
                条目，包含 "\1"、"\2" 等子匹配项组成的列表。例如:
<code class="example">                    :echo matchstrlist(['acd'], '\(a\)\?\(b\)\?\(c\)\?\(.*\)',</code>
<code class="example">                                                \ #{submatches: v:true})</code>
<code class="example">                    [{'idx': 0, 'byteidx': 0, 'text': 'acd',</code>
<code class="example">                      'submatches': ['a', '', 'c', 'd', '', '', '', '', '']}]</code>
                "submatches" 列表永远包含 9 个项目。如果某个子匹配项空缺，对应
                的位置会返回空串。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetListOfStrings()-&gt;matchstrlist('mypat')</code>

                返回类型: list&lt;dict<code class="special">&lt;any&gt;</code>&gt; 或 list<code class="special">&lt;any&gt;</code>


matchstrpos(<code class="special">{expr}</code>, <code class="special">{pat}</code> [, <code class="special">{start}</code> [, <code class="special">{count}</code>]])      <b class="vimtag"> <a name="matchstrpos()">matchstrpos()</a> </b>
                和  <a href="builtin.html#matchstr()">matchstr()</a>  类同，但同时返回匹配的字符串以及匹配的始末位
                置。例如:
<code class="example">                        :echo matchstrpos("testing", "ing")</code>
                返回 ["ing", 4, 7]。
                如果没有匹配，返回 ["", -1, -1]。
                <code class="special">{start}</code> 给出时，其用法和  <a href="builtin.html#match()">match()</a>  中的 <code class="special">{start}</code> 参数相同。
<code class="example">                        :echo matchstrpos("testing", "ing", 2)</code>
                返回 ["ing", 4, 7]。
<code class="example">                        :echo matchstrpos("testing", "ing", 5)</code>
                返回 ["", -1, -1]。
                <code class="special">{expr}</code> 为  <a href="eval.html#List">List</a>  时，返回匹配的列表项内容、匹配 <code class="special">{pat}</code> 的首个列
                表项的索引，匹配的开始位置以及匹配的结束位置。
<code class="example">                        :echo matchstrpos([1, '__x'], '\a')</code>
                返回 ["x", 1, 2, 3]。
                返回值保持原有类型，因而不一定是字符串。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetText()-&gt;matchstrpos('word')</code>

                返回类型: list<code class="special">&lt;any&gt;</code>


max(<code class="special">{expr}</code>)                                             <b class="vimtag"> <a name="max()">max()</a> </b>
                返回 <code class="special">{expr}</code> 中所有元素的最大值。例如:
<code class="example">                        echo max(["apples", "pears", "oranges"])</code>
<code class="example"></code>
                <code class="special">{expr}</code> 可为  <a href="eval.html#List">List</a> 、 <a href="eval.html#Tuple">Tuple</a>  或  <a href="eval.html#Dictionary">Dictionary</a> 。为字典时，返回字
                典中所有值的最大值。如果 <code class="special">{expr}</code> 不是列表、元组或字典，或者其中
                某个元素不能用作数值，报错。空  <a href="eval.html#List">List</a> 、 <a href="eval.html#Tuple">Tuple</a>  或  <a href="eval.html#Dictionary">Dictionary</a> 
                返回零。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        mylist-&gt;max()</code>

                返回类型: any，取决于 <code class="special">{expr}</code>


menu_info(<code class="special">{name}</code> [, <code class="special">{mode}</code>])                            <b class="vimtag"> <a name="menu_info()">menu_info()</a> </b>
                返回指定模式 <code class="special">{mode}</code> 下的名为 <code class="special">{name}</code> 的菜单项信息。须指定不带快
                捷键字符 ('&amp;') 的菜单名。<code class="special">{name}</code> 为 "" 时，返回顶层菜单名列表
                (<code class="vim">译者注</code>: 返回字典中仅有 submenus 项，包含所有的顶层菜单名)。

                <code class="special">{mode}</code> 可为下列字符串之一:
                        "n"     普通模式
                        "v"     可视模式 (包括选择模式)
                        "o"     操作符等待模式
                        "i"     插入模式
                        "c"     命令行模式
                        "s"     选择模式
                        "x"     可视模式
                        "t"     终端作业模式
                        ""      普通、可视和操作符等待模式
                        "!"     插入和命令行模式
                <code class="special">{mode}</code> 省略时使用 "" 作为模式。

                返回包含以下条目的  <a href="eval.html#Dictionary">Dictionary</a> :
                  accel         菜单项加速文本  <a href="gui.html#menu-text">menu-text</a> 
                  display       显示名 (不带 '&amp;' 的名字)
                  enabled       该菜单项处于打开状态则为 v:true
                                参见  <a href="gui.html#:menu-enable">:menu-enable</a> 
                  icon          图标文件名 (用于工具栏)  <a href="gui.html#toolbar-icon">toolbar-icon</a> 
                  iconidx       内建图标的索引
                  modes         该菜单项所属的模式。除了上列的模式以外，还可用
                                以下字符:
                                " "     普通、可视和操作符等待模式
                  name          菜单项名。
                  noremenu      菜单项的 <code class="special">{rhs}</code> 不能重映射则为 v:true，否则为
                                v:false。
                  priority      菜单项的顺序优先级  <a href="gui.html#menu-priority">menu-priority</a> 
                  rhs           菜单项的右侧内容。返回字符串中的特殊字符会按与
                                ":menu" 命令列表输出同样的方式进行翻译。当菜单
                                的 <code class="special">{rhs}</code> 为空时，返回 "<code class="special">&lt;Nop&gt;</code>"。
                  script        <code class="special">{rhs}</code> 允许局部于脚本的重映射则为 v:true，否则
                                为 v:false。见  <a href="gui.html#:menu-script">:menu-script</a> 。
                  shortcut      快捷键 (即菜单名中 '&amp;' 后面的字符)
                                 <a href="gui.html#menu-shortcut">menu-shortcut</a> 
                  silent        菜单项创建时如果使用了 <code class="special">&lt;silent&gt;</code> 参数则为
                                v:true  <a href="gui.html#:menu-silent">:menu-silent</a> 
                  submenus      所有子菜单名组成的  <a href="eval.html#List">List</a> 。仅当菜单项有子菜单
                                时才会出现。

                如果未找到对应的菜单项，返回空字典。

                示例:
<code class="example">                        :echo menu_info('Edit.Cut')</code>
<code class="example">                        :echo menu_info('File.Save', 'n')</code>
<code class="example"></code>
<code class="example">                        " 显示缓冲区里的整个菜单树</code>
<code class="example">                        func ShowMenu(name, pfx)</code>
<code class="example">                          let m = menu_info(a:name)</code>
<code class="example">                          call append(line('$'), a:pfx .. m.display)</code>
<code class="example">                          for child in m-&gt;get('submenus', [])</code>
<code class="example">                            call ShowMenu(a:name .. '.' .. escape(child, '.'),</code>
<code class="example">                                                        \ a:pfx .. '    ')</code>
<code class="example">                          endfor</code>
<code class="example">                        endfunc</code>
<code class="example">                        new</code>
<code class="example">                        for topmenu in menu_info('').submenus</code>
<code class="example">                          call ShowMenu(topmenu, '')</code>
<code class="example">                        endfor</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetMenuName()-&gt;menu_info('v')</code>

                返回类型: dict<code class="special">&lt;any&gt;</code>


min(<code class="special">{expr}</code>)                                             <b class="vimtag"> <a name="min()">min()</a> </b>
                返回 <code class="special">{expr}</code> 中所有元素的最小值。例如:
<code class="example">                        echo min(["apples", "pears", "oranges"])</code>
<code class="example"></code>
                <code class="special">{expr}</code> 可为  <a href="eval.html#List">List</a> 、 <a href="eval.html#Tuple">Tuple</a>  或  <a href="eval.html#Dictionary">Dictionary</a> 。为字典时，返回字
                典中所有值的最小值。如果 <code class="special">{expr}</code> 不是列表、元组或字典，或者其中
                某个元素不能用作数值，报错。空  <a href="eval.html#List">List</a> 、 <a href="eval.html#Tuple">Tuple</a>  或  <a href="eval.html#Dictionary">Dictionary</a> 
                返回零。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        mylist-&gt;min()</code>

                返回类型: any，取决于 <code class="special">{expr}</code>


mkdir(<code class="special">{name}</code> [, <code class="special">{flags}</code> [, <code class="special">{prot}</code>]])                    <b class="vimtag"> <a name="mkdir()">mkdir()</a> </b> <b class="vimtag"> <a name="E739">E739</a> </b>
                创建目录 <code class="special">{name}</code>。

                <code class="special">{flags}</code> 给出时，必须为字符串。空串无效果。

                <code class="special">{flags}</code> 包含以下字符标志位:
                 "p"    必要时会建立中间目录
                 "D"    当前函数结束时会删除 <code class="special">{name}</code>，但不会递归删除  <a href="userfunc.html#:defer">:defer</a> 
                 "R"    当前函数结束时会递归删除 <code class="special">{name}</code>  <a href="userfunc.html#:defer">:defer</a> 

                <code class="note">注意</code> <code class="special">{name}</code> 拥有多个路径层级且使用 "p" 标志位时，有些中间目录
                可能已经存在。此时只有实际新创建的那一层目录及其下创建的目录会
                被调度删除。如用:
<code class="example">                        call mkdir('subdir/tmp/autoload', 'pR')</code>
                而 "subdir" 已存在时，那么被调度删除的将是 "subdir/tmp"，相当
                于:
<code class="example">                        defer delete('subdir/tmp', 'rf')</code>
                <code class="note">注意</code> 如果延迟删除的调度操作失败，目录将不会被删除。这种情况应
                该只有内存溢出时才会出现。

                <code class="special">{prot}</code> 给出时，用于设置新目录的权限。缺省为 0o755 (rwxr-xr-x:
                用户自己可读写，其他人可读)。用 0o700 可使其他人不可读。此权限
                只用于新创建的目录。<code class="note">注意</code>: 在 Unix 上，<code class="special">{prot}</code> 会受到 umask 的影
                响。
                示例:
<code class="example">                        :call mkdir($HOME .. "/tmp/foo/bar", "p", 0o700)</code>
<code class="example"></code>
                该函数在沙盘里不可用  <a href="eval.html#sandbox">sandbox</a> 。

                如果目录已存在且传递了 "p" 标志位，不会报错 (从 Vim 8.0.1708
                起生效)。如果没有 "p" 标志位，同样操作会失败。

                调用成功时返回 TRUE，目录创建失败或部分失败则返回 FALSE。

                未必在所有系统上都支持。要确认当前系统上是否可用，可以使用:
<code class="example">                        :if exists("*mkdir")</code>
<code class="example"></code>
                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetName()-&gt;mkdir()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


mode([<code class="special">{expr}</code>])                                          <b class="vimtag"> <a name="mode()">mode()</a> </b>
                返回指示当前 Vim 模式的字符串。
                <code class="special">{expr}</code> 给出且其计算结果为非零数值或非空字符串时
                ( <a href="eval.html#non-zero-arg">non-zero-arg</a> )，返回完整模式名，否则，只返回模式首个字母。
                另见  <a href="builtin.html#state()">state()</a> 。

                   n        普通模式
                   no       操作符等待模式
                   nov      操作符等待模式 (强制面向字符  <a href="motion.html#o_v">o_v</a> )
                   noV      操作符等待模式 (强制面向行  <a href="motion.html#o_V">o_V</a> )
                   no<code class="keystroke">CTRL-V</code> 操作符等待模式 (强制面向列块  <a href="motion.html#o_CTRL-V">o_CTRL-V</a> )；
                                <code class="keystroke">CTRL-V</code> 此处是单个字符
                   niI       <a href="insert.html#Insert-mode">Insert-mode</a>  用  <a href="insert.html#i_CTRL-O">i_CTRL-O</a>  进入的普通模式
                   niR       <a href="insert.html#Replace-mode">Replace-mode</a>  用  <a href="insert.html#i_CTRL-O">i_CTRL-O</a>  进入的普通模式
                   niV       <a href="insert.html#Virtual-Replace-mode">Virtual-Replace-mode</a>  用  <a href="insert.html#i_CTRL-O">i_CTRL-O</a>  进入的普通模
                            式
                   nt       终端普通模式 (启动插入时会转到终端作业模式)
                   v        面向字符的可视模式
                   vs       选择模式用  <a href="visual.html#v_CTRL-O">v_CTRL-O</a>  进入的面向字符的可视模式
                   V        面向行的可视模式
                   Vs       选择模式用  <a href="visual.html#v_CTRL-O">v_CTRL-O</a>  进入的面向行的可视模式
                   <code class="keystroke">CTRL-V</code>   面向列块的可视模式
                   <code class="keystroke">CTRL-Vs</code>  选择模式用  <a href="visual.html#v_CTRL-O">v_CTRL-O</a>  进入的面向列块的可视模式
                   s        面向字符的选择模式
                   S        面向行的选择模式
                   <code class="keystroke">CTRL-S</code>   面向列块的选择模式
                   i        插入模式
                   ic       插入模式补全  <a href="insert.html#compl-generic">compl-generic</a> 
                   ix       插入模式  <a href="insert.html#i_CTRL-X">i_CTRL-X</a>  补全
                   R        替换模式  <a href="change.html#R">R</a> 
                   Rc       替换模式补全  <a href="insert.html#compl-generic">compl-generic</a> 
                   Rx       替换模式  <a href="insert.html#i_CTRL-X">i_CTRL-X</a>  补全
                   Rv       虚拟替换模式  <a href="change.html#gR">gR</a> 
                   Rvc      虚拟替换模式补全  <a href="insert.html#compl-generic">compl-generic</a> 
                   Rvx      虚拟替换模式  <a href="insert.html#i_CTRL-X">i_CTRL-X</a>  补全
                   c        命令行编辑模式
                   ct       终端作业模式下的命令行编辑模式
                   cr       命令行编辑替换模式  <a href="cmdline.html#c_%3CInsert%3E">c_&lt;Insert&gt;</a> 
                   cv       Vim Ex 模式  <a href="intro.html#gQ">gQ</a> 
                   cvr      Vim Ex 替换模式  <a href="cmdline.html#c_%3CInsert%3E">c_&lt;Insert&gt;</a> 
                   ce       普通 Ex 模式  <a href="intro.html#Q">Q</a> 
                   r        hit-enter 提示
                   rm       -- more -- 提示
                   r?        <a href="editing.html#:confirm">:confirm</a>  及类似命令的查询
                   !        执行外壳或外部命令时
                   t        终端作业模式: 键入传给作业时

                可用于 <a href="options.html#'statusline'">'statusline'</a> 选项 (<code class="vim">译者注</code>: 另见 <a href="options.html#'showmode'">'showmode'</a>) 或
                 <a href="builtin.html#remote_expr()">remote_expr()</a> 。在多数其它情况下，本函数只会返回 "c" 或 "n"。
                <code class="note">注意</code> 将来可能会加入更多模式和更多特定模式。因此，建议不要直接
                和整个字符串作比较，最好只比较开头一个或几个字符。
                另见  <a href="builtin.html#visualmode()">visualmode()</a> 。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        DoFull()-&gt;mode()</code>

                返回类型:  <a href="eval.html#String">String</a> 


mzeval(<code class="special">{expr}</code>)                                          <b class="vimtag"> <a name="mzeval()">mzeval()</a> </b>
                运行 MzScheme 表达式 <code class="special">{expr}</code>，把返回值转换为对应的 Vim 数据类
                型。
                数值和字符串按原样返回。
                组对 (pair) (包含列表 (list) 和非常规列表 (improper list)) 和
                向量 (vector) 会转换为 Vim  <a href="eval.html#List">List</a> 。
                哈希表 (hash table) 会转换为 Vim  <a href="eval.html#Dictionary">Dictionary</a> ，其键会转换为字
                符串。
                所有其它类型都会根据 display 函数的返回值转换为字符串。
                示例:
<code class="example">                    :mz (define l (list 1 2 3))</code>
<code class="example">                    :mz (define h (make-hash)) (hash-set! h "list" l)</code>
<code class="example">                    :echo mzeval("l")</code>
<code class="example">                    :echo mzeval("h")</code>

                <code class="note">注意</code>  <a href="vim9.html#:def">:def</a>  定义的函数内部的局部变量对 <code class="special">{expr}</code> 不可见。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetExpr()-&gt;mzeval()</code>

                返回类型: any，取决于 <code class="special">{expr}</code>

                <code class="notvi">{仅当编译时带  <a href="various.html#+mzscheme">+mzscheme</a>  特性才有效}</code>


nextnonblank(<code class="special">{lnum}</code>)                                    <b class="vimtag"> <a name="nextnonblank()">nextnonblank()</a> </b>
                从第 <code class="special">{lnum}</code> 行开始查找，返回首个非空白行 (<code class="vim">译者注</code>: 空白行指仅由
                空格或制表符组成的行，和空行不同) 的行号。例如:
<code class="example">                        if getline(nextnonblank(1)) =~ "Java"</code>
                如果 <code class="special">{lnum}</code> 非法，或者从该行开始都没有非空白行，返回零。
                <code class="special">{lnum}</code> 用法可见  <a href="builtin.html#getline()">getline()</a> 。
                另见  <a href="builtin.html#prevnonblank()">prevnonblank()</a> 。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetLnum()-&gt;nextnonblank()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


ngettext(<code class="special">{single}</code>, <code class="special">{plural}</code>, <code class="special">{number}</code>[, <code class="special">{domain}</code>)       <b class="vimtag"> <a name="ngettext()">ngettext()</a> </b>
                根据语言的单复数形式规则 (<code class="vim">译者注</code>: <code class="special">{single}</code> 指定单数形式的消
                息，<code class="special">{plural}</code> 指定复数形式的消息，<code class="special">{number}</code> 指定消息所指事物的数
                量。<code class="note">注意</code> 有些语言有多种复数形式，具体翻译结果可能取决于数量。
                另外，如果找不到当前语言对 <code class="special">{single}</code> 的翻译，则在 <code class="special">{number}</code> 为 1
                时返回 <code class="special">{single}</code>，否则返回 <code class="special">{plural}</code>，不经翻译)，返回指定消息正
                确的翻译字符串。例如:
<code class="example">                        ngettext("File", "Files", 2)  # 返回 "Files"</code>

                也可用作  <a href="eval.html#method">method</a>  (<code class="vim">译者注</code>: 基是作为第三个参数传递的):
<code class="example">                        1-&gt;ngettext("File", "Files")  # 返回 "File"</code>

                <code class="special">{domain}</code> 参数可见  <a href="builtin.html#gettext()">gettext()</a> 。

                返回类型:  <a href="eval.html#String">String</a> 


nr2char(<code class="special">{expr}</code> [, <code class="special">{utf8}</code>])                              <b class="vimtag"> <a name="nr2char()">nr2char()</a> </b>
                返回单字符字符串，字符的数值为 <code class="special">{expr}</code>。例如:
<code class="example">                        nr2char(64)             返回 "@"</code>
<code class="example">                        nr2char(32)             返回 " "</code>
                <code class="special">{utf8}</code> 省略或为零时，使用当前 <a href="options.html#'encoding'">'encoding'</a>。为 "utf-8" 时:
<code class="example">                        nr2char(300)            返回带有弓形的 I "Ĭ"</code>
                <code class="special">{utf8}</code> 为 TRUE 时，则总返回 utf-8 字符。
                <code class="note">注意</code> 文件中的 NUL 字符须用 nr2char(10) 来指定。因为 NUL 在 Vim
                内部用换行符来表示。本来，nr2char(0) 才是真正的 NUL，但 NUL 会
                终结字符串，因而结果会变成空串。
                要把字符值组成的列表转换为字符串，可用:
<code class="example">                    let list = [65, 66, 67]</code>
<code class="example">                    let str = join(map(list, {_, val -&gt; nr2char(val)}), '')</code>
                结果是: "ABC"

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetNumber()-&gt;nr2char()</code>

                返回类型:  <a href="eval.html#String">String</a> 


or(<code class="special">{expr}</code>, <code class="special">{expr}</code>)                                      <b class="vimtag"> <a name="or()">or()</a> </b>
                对两个参数进行按位或。参数会被转换为数值。参数如果是列表、字典
                或浮点数会报错。
                另见  <a href="builtin.html#and()">and()</a>  和  <a href="builtin.html#xor()">xor()</a> 。
                示例:
<code class="example">                        :let bits = or(bits, 0x80)</code>
                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        :let bits = bits-&gt;or(0x80)</code>
<code class="example"></code>
                理据: 之所以要定义函数，而不是像很多语言那样直接使用 "|" 字符
                作为操作符，是因为 Vi 传统上一直用 "|" 来分隔命令。在很多情况
                下，判断 "|" 是操作符还是命令分隔符容易产生歧义。

                返回类型:  <a href="eval.html#Number">Number</a> 


pathshorten(<code class="special">{path}</code> [, <code class="special">{len}</code>])                           <b class="vimtag"> <a name="pathshorten()">pathshorten()</a> </b>
                将路径 <code class="special">{path}</code> 里的各层目录名缩短并返回其结果。路径尾部的文件名
                保持不变。路径中的其余部分则都会被缩短为 <code class="special">{len}</code> 个字符。<code class="special">{len}</code>
                省略或小于 1 时，默认为 1 (保留单个字母)。每个部分中，如果有引
                导的 '~' 和 '.'，它们不受影响。例如:
<code class="example">                        :echo pathshorten('~/.vim/autoload/myfile.vim')</code>
<code class="section">                        ~/.v/a/myfile.vim </code>

<code class="example">                        :echo pathshorten('~/.vim/autoload/myfile.vim', 2)</code>
<code class="section">                        ~/.vi/au/myfile.vim </code>
                该路径是否实际存在无关紧要。
                如果出错，返回空串。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetDirectories()-&gt;pathshorten()</code>

                返回类型:  <a href="eval.html#String">String</a> 


perleval(<code class="special">{expr}</code>)                                        <b class="vimtag"> <a name="perleval()">perleval()</a> </b>
                在标量上下文下运行 Perl 表达式 <code class="special">{expr}</code>，把返回值转换为对应的
                Vim 数据类型。如果返回值转换失败，会返回其 Perl 表示方式，类型
                为字符串。
                <code class="note">备注</code>: 如果需要数组或哈希表，<code class="special">{expr}</code> 必须返回其引用。
                例如:
<code class="example">                        :echo perleval('[1 .. 4]')</code>
                        [1, 2, 3, 4]

                <code class="note">注意</code>  <a href="vim9.html#:def">:def</a>  定义的函数内部的局部变量对 <code class="special">{expr}</code> 不可见。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetExpr()-&gt;perleval()</code>

                返回类型: any，取决于 <code class="special">{expr}</code>

                <code class="notvi">{仅当编译时加入  <a href="various.html#+perl">+perl</a>  特性才有效}</code>


popup_ 函数文档在这里:  <a href="popup.html#popup-functions">popup-functions</a> 


pow(<code class="special">{x}</code>, <code class="special">{y}</code>)                                           <b class="vimtag"> <a name="pow()">pow()</a> </b>
                返回 <code class="special">{x}</code> 的 <code class="special">{y}</code> 次方，类型为  <a href="eval.html#Float">Float</a> 。
                <code class="special">{x}</code> 和 <code class="special">{y}</code> 的计算结果必须是  <a href="eval.html#Float">Float</a>  或  <a href="eval.html#Number">Number</a> 。否则返回
                0.0。
                示例:
<code class="example">                        :echo pow(3, 3)</code>
                        27.0
<code class="example">                        :echo pow(2, 16)</code>
                        65536.0
<code class="example">                        :echo pow(32, 0.20)</code>
                        2.0

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        Compute()-&gt;pow(3)</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


preinserted()                                           <b class="vimtag"> <a name="preinserted()">preinserted()</a> </b>
                因为 <a href="options.html#'completeopt'">'completeopt'</a> 包含 "preinsert"，或 <a href="options.html#'completeopt'">'completeopt'</a> 包含
                "longest" 且 <a href="options.html#'autocomplete'">'autocomplete'</a> 已激活，从而在光标之后插入了文本
                (即预输入) 后，返回非零值。否则返回零。

                返回类型:  <a href="eval.html#Number">Number</a> 


prevnonblank(<code class="special">{lnum}</code>)                                    <b class="vimtag"> <a name="prevnonblank()">prevnonblank()</a> </b>
                从第 <code class="special">{lnum}</code> 行开始反向查找，返回首个非空白行 (<code class="vim">译者注</code>: 空白行见
                 <a href="builtin.html#nextnonblank()">nextnonblank()</a> ) 的行号。例如:
<code class="example">                        let ind = indent(prevnonblank(v:lnum - 1))</code>
                如果 <code class="special">{lnum}</code> 非法，或者从首行到该行都没有非空白行，返回零。
                <code class="special">{lnum}</code> 用法可见  <a href="builtin.html#getline()">getline()</a> 。
                另见  <a href="builtin.html#nextnonblank()">nextnonblank()</a> 。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetLnum()-&gt;prevnonblank()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


printf(<code class="special">{fmt}</code>, <code class="special">{expr1}</code> ...)                              <b class="vimtag"> <a name="printf()">printf()</a> </b>
                按照 <code class="special">{fmt}</code> 指定的格式化字符串进行排版，其中每个 "%" 项被对应的
                参数排版后的形式替换。返回排版后的字符串。例如:
<code class="example">                        printf("%4d: E%d %.30s", lnum, errno, msg)</code>
                可能的返回结果:
<code class="section">                        "  99: E42 asdfasdfasdfasdfasdfasdfasdfas" </code>

                也可用作  <a href="eval.html#method">method</a> ，基是作为第二个参数传递的:
<code class="example">                        Compute()-&gt;printf("result: %d")</code>

                要以列表形式来传递所有的参数，可用  <a href="builtin.html#call()">call()</a> 。

                常用的项目有:
                  %s    字符串
                  %6S   右对齐到 6 个显示单元的字符串
                  %6s   右对齐至 6 个字节的字符串
                  %.9s  截短到 9 个字节的字符串
                  %c    单个字节
                  %d    十进制数
                  %5d   十进制数，用空格补足到 5 个字符
                  %x    十六进制数
                  %04x  十六进制数，用 0 补足到 4 个字符
                  %X    十六进制数，用大写的十六进制字母
                  %o    八进制数
                  %08b  二进制数，用 0 补足到 8 个字符
                  %f    浮点数，形如 12.23、inf、-inf 或 nan
                  %F    浮点数，形如 12.23、INF、-INF 或 NAN
                  %e    浮点数，形如 1.23e3、inf、-inf 或 nan
                  %E    浮点数，形如 1.23E3、INF、-INF 或 NAN
                  %g    浮点数，根据其值大小，选择使用 %f 或 %e 格式
                  %G    浮点数，根据其值大小，选择使用 %F 或 %E 格式
                  %%    % 字符本身

                转换规格说明以 '%' 开始，以转换类型结束。所有其它的字符会按原
                样复制到结果中。

                转换规格说明以 "%" 开始。其后的参数依序如下:

                      % [pos-argument] <code class="special">[flags]</code> [field-width] [.precision] type

                pos-argument
                        不多于一个的位置参数标识符。形式为 <code class="special">{n$}</code>，其中 n &gt;= 1。

                flags
                        零或多个下列标志位:

                    #         使用 "替代形式" 进行转换。对 c、d 和 s 转换，此
                              选项没有效果。对 o 转换，会加宽数值的精度域，使
                              得输出字符串的首个字符总是 0 (除非显示的值为零，
                              且显式使用精度 0)。
                              对 b 和 B 转换，非零值会在前面加上字符串 "0b"
                              (如果是 B 转换，则加 "0B")。
                              对 x 和 X 转换，非零值会在前面加上字符串 "0x"
                              (如果是 X 转换，则加 "0X")。

                    0 (零)    以 0 填充。所有的转换都会在值的左侧补 0 而不是补
                              空格。对数值类型 (d、b、B、o、x 和 X) 转换，如果
                              和精度同时给出，精度优先。

                    -         负域宽度标志位；转换后的值被左对齐到字段边界上。
                              而右侧用空格填充，而不是在左侧用空格或 0 填充。
                              如果和 0 标志位同时给出，本标志位优先。

                    ' ' (空格)
                              对带符号转换 (d)，如果为正数在左侧加上空格。

                    +         对带符号转换，数值之前总加上符号。如果和空格标志
                              位同时给出，本标志位优先。

                field-width
                        可选的十进制数字串，指定最小字段宽度。如果转换后的值的
                        字节数不足该宽度，在左侧 (如果给定左对齐标志位，则在右
                        侧) 用空格填充到字段宽度。对 S 转换，字段宽度则以显示
                        单元计数。

                .precision
                        可选的精度，形式为句号 '.' 后跟一个可选的数字串。数字
                        串省略时假设精度为零。对 d、o、x 和 X 转换，精度指定显
                        示的最少数字位数、对 s 转换，指定显示字符串的最大字符
                        数，对 S 转换，指定显示字符串的最大显示单元数。对浮点
                        数，指定小数点后的位数。

                type
                        单个字符，指定要进行的转换类型，见下。

                字段宽度和精度 (或两者) 都可以用星号 '*' 代替数字串。此时，会
                由一个数值参数来指定字段宽度或精度。负值的字段宽度视作指定左对
                齐标志位并用其绝对值作为字段宽度；负值的精度会被忽略。例如:
<code class="example">                        :echo printf("%d: %.*s", nr, width, line)</code>
                会限制 "line" 指定文本的显示长度，不超过由 "width" 指定的字符
                数。

                如果要排版的参数同时使用了位置参数标识符和 '*' 来指示需要数值
                参数来指定宽度或精度，则后者也必须指定 <code class="special">{n$}</code> 形式的位置参数标识
                符。见  <a href="builtin.html#printf-$">printf-$</a> 。

                转换标识符和它们的含义如下:

                                <b class="vimtag"> <a name="printf-d">printf-d</a> </b> <b class="vimtag"> <a name="printf-b">printf-b</a> </b> <b class="vimtag"> <a name="printf-B">printf-B</a> </b> <b class="vimtag"> <a name="printf-o">printf-o</a> </b>
                                <b class="vimtag"> <a name="printf-x">printf-x</a> </b> <b class="vimtag"> <a name="printf-X">printf-X</a> </b>
                dbBoxX  数值参数被转换为其带符号十进制 (d)，无符号二进制 (b 和
                        B)、无符号八进制 (o) 或无符号十六进制 (x 和 X) 记法。x
                        转换采用字母 "abcdef"；而 X 转换采用 "ABCDEF" 字母。
                        精度给出时会指定显示的最少数字位数；如果转换后的值不需
                        要那么多数位，左侧会用 0 填充。
                        无论何种情况，数值字段都不会因为未给出或者小于实际宽度
                        的字段宽度所截短；如果转换后的值宽于指定的字段宽度，字
                        段会自动扩展以容纳该值。
                        'h' 修饰符指示参数为 16 位。
                        'l' 修饰符指示参数为长整型，具体是 32 位还是 64 位取决
                        于你的系统。
                        <code class="badlink">'ll'</code> 修饰符指示参数为 64 位。
                        b 和 B 转换标识符不接受宽度修饰符，默认为 64 位整型。
                        这些修饰符通常用处不大。如果类型可从参数推知，修饰符将
                        被忽略。

                i       d 的别名
                D       ld 的别名
                U       lu 的别名
                O       lo 的别名

                                                        <b class="vimtag"> <a name="printf-c">printf-c</a> </b>
                c       数值参数被转换为字节，写入相应的字符。

                                                        <b class="vimtag"> <a name="printf-s">printf-s</a> </b>
                s       对字符串参数，使用其文本。精度给出时，使用不多于给定数
                        目的字节数。
                        对非字符串参数，使用与 ":echo" 相同的格式把它自动转换
                        为文本。
                                                        <b class="vimtag"> <a name="printf-S">printf-S</a> </b>
                S       对字符串参数，使用其文本。精度给出时，使用不多于给定数
                        目的显示单元数。

                                                        <b class="vimtag"> <a name="printf-f">printf-f</a> </b> <b class="vimtag"> <a name="E807">E807</a> </b>
                f F     浮点数参数被转换为形如 123.456 的字符串。精度指定小数
                        点后面的位数。精度为零时省略小数点本身。精度省略时缺省
                        为 6。极大数 (超出范围或被零除的结果) 用 %f 会显示
                        "inf" 或 "-inf" (%F 则相应显示 INF 或 -INF)。
                        "0.0 / 0.0" 用 %f 会显示 "nan" (%F 则显示 NAN)。
                        示例:
<code class="example">                                echo printf("%.2f", 12.115)</code>
                                12.12
                        <code class="note">注意</code> 舍入方式取决于系统库。如果不确定，可用
                         <a href="builtin.html#round()">round()</a> 。

                                                        <b class="vimtag"> <a name="printf-e">printf-e</a> </b> <b class="vimtag"> <a name="printf-E">printf-E</a> </b>
                e E     浮点数参数被转换为形如 1.234e+03 (用 'E' 的话则为
                        1.234E+03) 的字符串。精度指定小数点后面的位数，和 'f'
                        一样。

                                                        <b class="vimtag"> <a name="printf-g">printf-g</a> </b> <b class="vimtag"> <a name="printf-G">printf-G</a> </b>
                g G     浮点数参数在 0.001 (含) 和 10000000.0 (不含) 之间时采
                        用 'f' 转换，否则采用 'e' (用 'g' 时) 或 'E' (用 'G'
                        时) 转换。精度省略时，除了小数点之后的那个零以外，不显
                        示多余的零和 '+' 号。因而，10000000.0 会显示为 1.0e7。

                                                        <b class="vimtag"> <a name="printf-%">printf-%</a> </b>
                %       写入 '%'。不接受参数。这里完整的转换规格说明是 "%%"。

                对于期待数值参数的标识符，也接受字符串参数并进行自动转换。
                对于期待浮点数或字符串参数的标识符，也接受数值参数并进行自动转
                换。
                其它参数类型都会报错。

                                                        <b class="vimtag"> <a name="E766">E766</a> </b> <b class="vimtag"> <a name="E767">E767</a> </b>
                <code class="special">{exprN}</code> 参数的数量必须和 "%" 项目的数量完全匹配。不论参数不足
                还是过多，都会报错。至多可用 18 个参数。

                                                        <b class="vimtag"> <a name="printf-$">printf-$</a> </b>
                在某些语言中，为了提高可读性，错误和资讯消息可能需要使用与英语
                原文不同的单词顺序。为此，可用位置参数来完成调换单词顺序的翻
                译。例如:
<code class="example"></code>
<code class="example">                    #, c-format</code>
<code class="example">                    msgid "%s returning %s"</code>
<code class="example">                    msgstr "返回值 %2$s 来自 %1$s"</code>

                此例中，输出句子里的两个字符串参数颠倒了顺序。
<code class="example"></code>
<code class="example">                    echo printf(</code>
<code class="example">                        "In The Netherlands, vim's creator's name is: %1$s %2$s",</code>
<code class="example">                        "Bram", "Moolenaar")</code>
                    In The Netherlands, vim's creator's name is: Bram Moolenaar
<code class="example"></code>
<code class="example">                    echo printf(</code>
<code class="example">                        "In Belgium, vim's creator's name is: %2$s %1$s",</code>
<code class="example">                        "Bram", "Moolenaar")</code>
                    In Belgium, vim's creator's name is: Moolenaar Bram

                可用 '*' 标识符来通过参数指定宽度 (还有精度)。此时，如果字段使
                用了位置参数，字段宽度 (精度) 也必须使用位置参数。
<code class="example"></code>
<code class="example">                    echo printf("%1$*2$.*3$d", 1, 2, 3)</code>
                    001
<code class="example">                    echo printf("%2$*3$.*1$d", 1, 2, 3)</code>
                      2
<code class="example">                    echo printf("%3$*1$.*2$d", 1, 2, 3)</code>
                    03
<code class="example">                    echo printf("%1$*2$.*3$g", 1.4142, 2, 3)</code>
                    1.414

                可以通过混合直接值或者位置参数来给出宽度和/或精度:
<code class="example"></code>
<code class="example">                    echo printf("%1$4.*2$f", 1.4142135, 6)</code>
                    1.414214
<code class="example">                    echo printf("%1$*2$.4f", 1.4142135, 6)</code>
                    1.4142
<code class="example">                    echo printf("%1$*2$.*3$f", 1.4142135, 6, 2)</code>
                      1.41

                字段宽度或精度过长导致字符串超过 1 MiB (1024*1024 = 1048576)
                个字符时。会出现溢出错误  <a href="change.html#E1510">E1510</a> 。

                                                        <b class="vimtag"> <a name="E1500">E1500</a> </b>
                不能混合位置和非位置参数:
<code class="example">                    echo printf("%s%1$s", "One", "Two")</code>
                    E1500: Cannot mix positional and non-positional arguments:
                    %s%1$s

                                                        <b class="vimtag"> <a name="E1501">E1501</a> </b>
                格式化字符串里，位置参数不能被跳过:
<code class="example">                    echo printf("%3$s%1$s", "One", "Two", "Three")</code>
                    E1501: format argument 2 unused in $-style format:
                    %3$s%1$s

                                                        <b class="vimtag"> <a name="E1502">E1502</a> </b>
                [field-width] (或 <code class="special">[precision]</code>) 可以重用相同的参数:
<code class="example">                    echo printf("%1$d at width %2$d is: %01$*2$d", 1, 2)</code>
                    1 at width 2 is: 01

                但不能用于不同的类型:
<code class="example">                    echo printf("%1$d at width %2$ld is: %01$*2$d", 1, 2)</code>
                    E1502: Positional argument 2 used as field width reused as
                    different type: long int/int

                                                        <b class="vimtag"> <a name="E1503">E1503</a> </b>
                使用位置参数时，如果给出了错误位置，报错:
<code class="example">                    echo printf("%1$d at width %2$d is: %01$*2$.*3$d", 1, 2)</code>
                    E1503: Positional argument 3 out of bounds: %1$d at width
                    %2$d is: %01$*2$.*3$d

                有多个错误时，只报首个错误:
<code class="example">                    echo printf("%01$*2$.*3$d %4$d", 1, 2)</code>
                    E1503: Positional argument 3 out of bounds: %01$*2$.*3$d
                    %4$d

                                                        <b class="vimtag"> <a name="E1504">E1504</a> </b>
                位置参数可以重用:
<code class="example">                    echo printf("%1$s %2$s %1$s", "One", "Two")</code>
                    One Two One

                但不能用于不同的类型:
<code class="example">                    echo printf("%1$s %2$s %1$d", "One", "Two")</code>
                    E1504: Positional argument 1 type used inconsistently:
                    int/string

                                                        <b class="vimtag"> <a name="E1505">E1505</a> </b>
                格式化字符串的其他杂项错误会报此错:
<code class="example">                    echo printf("%1$d at width %2$d is: %01$*2$.3$d", 1, 2)</code>
                    E1505: Invalid format specifier: %1$d at width %2$d is:
                    %01$*2$.3$d

                                                        <b class="vimtag"> <a name="E1507">E1507</a> </b>
                此内部错误表示在解析位置格式参数时出现了已知错误之外的其他问
                题。请给 Vim 发送错误报告，并提供当时使用的完整格式化字符串和
                参数。

                返回类型:  <a href="eval.html#String">String</a> 


prompt_getprompt(<code class="special">{buf}</code>)                                 <b class="vimtag"> <a name="prompt_getprompt()">prompt_getprompt()</a> </b>
                返回提示缓冲区 <code class="special">{buf}</code> 的实际提示文本。<code class="special">{buf}</code> 可为缓冲区名或号。
                见  <a href="channel.html#prompt-buffer">prompt-buffer</a> 。

                如果缓冲区不存在或不是提示缓冲区，返回空串。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetBuffer()-&gt;prompt_getprompt()</code>

                返回类型:  <a href="eval.html#String">String</a> 

                <code class="notvi">{仅当编译时加入  <a href="various.html#+channel">+channel</a>  特性才有效}</code>


prompt_setcallback(<code class="special">{buf}</code>, <code class="special">{expr}</code>)                       <b class="vimtag"> <a name="prompt_setcallback()">prompt_setcallback()</a> </b>
                将提示缓冲区 <code class="special">{buf}</code> 的提示回调设为 <code class="special">{expr}</code>。<code class="special">{expr}</code> 为空串时删除
                回调。只对 <a href="options.html#'buftype'">'buftype'</a> 为 "prompt" 的 <code class="special">{buf}</code> 有效。

                本回调会在按下回车时触发。此时当前缓冲区必然是提示缓冲区。在回
                调触发前，会加入一行新的提示行，因此，触发该回调的提示行将会成
                为倒数第二行。
                如果回调要为缓冲区增加新文本，必须在最后一行之前插入，因为末行
                将是当前提示所在的位置。此操作可以异步进行。
                调用回调时会传一个参数，给出用户在提示后输入的文本。如果用户直
                接按下回车，该参数将会是空串。
                示例:
<code class="example">                   func s:TextEntered(text)</code>
<code class="example">                     if a:text == 'exit' || a:text == 'quit'</code>
<code class="example">                       stopinsert</code>
<code class="example">                       " 复位 'modified'，这样缓冲区才可以被关闭。</code>
<code class="example">                       " 此处假定没有值得保存的内容。</code>
<code class="example">                       set nomodified</code>
<code class="example">                       close</code>
<code class="example">                     else</code>
<code class="example">                       " 应用 "a:text" 的实际操作，此例只是重复显示一次。</code>
<code class="example">                       call append(line('$') - 1, 'Entered: "' .. a:text .. '"')</code>
<code class="example">                     endif</code>
<code class="example">                   endfunc</code>
<code class="example">                   call prompt_setcallback(bufnr(), function('s:TextEntered'))</code>
<code class="example"></code>
                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetBuffer()-&gt;prompt_setcallback(callback)</code>
<code class="example"></code>
                <code class="notvi">{仅当编译时加入  <a href="various.html#+channel">+channel</a>  特性才有效}</code>


prompt_setinterrupt(<code class="special">{buf}</code>, <code class="special">{expr}</code>)                      <b class="vimtag"> <a name="prompt_setinterrupt()">prompt_setinterrupt()</a> </b>
                将提示缓冲区 <code class="special">{buf}</code> 的中断回调设为 <code class="special">{expr}</code>。<code class="special">{expr}</code> 为空串时删除
                回调。只对 <a href="options.html#'buftype'">'buftype'</a> 为 "prompt" 的 <code class="special">{buf}</code> 有效。

                本回调会在插入模式下按 <code class="keystroke">CTRL-C</code> 时触发。如果没有设置回调，Vim 会
                像在其它缓冲区中一样直接退出插入模式。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetBuffer()-&gt;prompt_setinterrupt(callback)</code>

                返回类型:  <a href="eval.html#Number">Number</a> 

                <code class="notvi">{仅当编译时加入  <a href="various.html#+channel">+channel</a>  特性才有效}</code>


prompt_setprompt(<code class="special">{buf}</code>, <code class="special">{text}</code>)                         <b class="vimtag"> <a name="prompt_setprompt()">prompt_setprompt()</a> </b>
                将提示缓冲区 <code class="special">{buf}</code> 的提示文本设为 <code class="special">{text}</code>。<code class="special">{text}</code> 通常会以空格
                结尾。(<code class="vim">译者注</code>: 缺省提示文本为 "% ")
                结果只对 <a href="options.html#'buftype'">'buftype'</a> 为 "prompt" 的 <code class="special">{buf}</code> 可见。示例:
<code class="example">                        call prompt_setprompt(bufnr(), 'command: ')</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetBuffer()-&gt;prompt_setprompt('command: ')</code>

                返回类型:  <a href="eval.html#Number">Number</a> 

                <code class="notvi">{仅当编译时加入  <a href="various.html#+channel">+channel</a>  特性才有效}</code>


prop_ 函数文档在这里:  <a href="textprop.html#text-prop-functions">text-prop-functions</a> 

pum_getpos()                                            <b class="vimtag"> <a name="pum_getpos()">pum_getpos()</a> </b>
                如果没有弹出菜单 (见  <a href="insert.html#ins-completion-menu">ins-completion-menu</a> ) 可见，返回空
                 <a href="eval.html#Dictionary">Dictionary</a> ，否则返回包含弹出菜单相关条目的  <a href="eval.html#Dictionary">Dictionary</a> :
                        height          可见项目的数目
                        width           屏幕单元格数
                        row             顶部屏幕行号 (首行行号为 0)
                        col             最左侧屏幕列号 (首列列号为 0)
                        size            项目总数
                        scrollbar       滚动条为可见则为  <a href="eval.html#TRUE">TRUE</a> 

                这里的值和  <a href="autocmd.html#CompleteChanged">CompleteChanged</a>  事件触发时  <a href="eval.html#v:event">v:event</a>  中的对应值一
                致。

                返回类型: dict<code class="special">&lt;any&gt;</code>


pumvisible()                                            <b class="vimtag"> <a name="pumvisible()">pumvisible()</a> </b>
                弹出菜单可见时返回非零，否则返回零。见  <a href="insert.html#ins-completion-menu">ins-completion-menu</a> 。
                可以用来跳过某些操作，以免删除弹出菜单。

                返回类型:  <a href="eval.html#Number">Number</a> 


py3eval(<code class="special">{expr}</code> [, <code class="special">{locals}</code>])                            <b class="vimtag"> <a name="py3eval()">py3eval()</a> </b>
                运行 Python 表达式 <code class="special">{expr}</code>，把返回值转换为对应的 Vim 的数据类
                型。
                <code class="special">{locals}</code> 字典给出时，定义在表达式中可用的局部变量。字典的键是
                变量名，而值是变量值。对于  <a href="eval.html#Dictionary">Dictionary</a> 、 <a href="eval.html#List">List</a>  和  <a href="eval.html#Tuple">Tuple</a>  类
                型的值，它们会以引用形式传递，因此在表达式中可能会被修改 (类似
                于使用了  <a href="if_pyth.html#python-bindeval">python-bindeval</a>  时的行为)。
                数值和字符串按原样返回 (不过，字符串会先经过复制，对于 Unicode
                字符串，还会额外按照 <a href="options.html#'encoding'">'encoding'</a> 指定的编码进行转换)。
                列表会返回 Vim  <a href="eval.html#List">List</a>  类型。
                元组会返回 Vim  <a href="eval.html#Tuple">Tuple</a>  类型。
                字典会返回 Vim  <a href="eval.html#Dictionary">Dictionary</a>  类型，字典的键会转换为字符串。
                <code class="note">注意</code>  <a href="vim9.html#:def">:def</a>  定义的函数内部的局部变量对 <code class="special">{expr}</code> 不可见。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetExpr()-&gt;py3eval()</code>
<code class="example">                        'b",".join(l)'-&gt;py3eval({'l': ['a', 'b', 'c']})</code>

                返回类型: any，取决于 <code class="special">{expr}</code>

                <code class="notvi">{仅当编译时加入  <a href="various.html#+python3">+python3</a>  特性才有效}</code>

                                                        <b class="vimtag"> <a name="E858">E858</a> </b> <b class="vimtag"> <a name="E859">E859</a> </b>
pyeval(<code class="special">{expr}</code> [, <code class="special">{locals}</code>])                             <b class="vimtag"> <a name="pyeval()">pyeval()</a> </b>
                运行 Python 表达式 <code class="special">{expr}</code>，把返回值转换为对应的 Vim 数据类型。
                <code class="special">{locals}</code> 见  <a href="builtin.html#py3eval()">py3eval()</a> 。
                数值和字符串按原样返回 (字符串经过复制)。
                列表会返回 Vim  <a href="eval.html#List">List</a>  类型。
                元组会返回 Vim  <a href="eval.html#Tuple">Tuple</a>  类型。
                字典会返回 Vim  <a href="eval.html#Dictionary">Dictionary</a>  类型，如果出现非字符串键值，报错。
                <code class="note">注意</code>  <a href="vim9.html#:def">:def</a>  定义的函数内部的局部变量对 <code class="special">{expr}</code> 不可见。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetExpr()-&gt;pyeval()</code>

                返回类型: any，取决于 <code class="special">{expr}</code>

                <code class="notvi">{仅当编译时加入  <a href="various.html#+python">+python</a>  特性才有效}</code>


pyxeval(<code class="special">{expr}</code> [, <code class="special">{locals}</code>])                            <b class="vimtag"> <a name="pyxeval()">pyxeval()</a> </b>
                运行 Python 表达式 <code class="special">{expr}</code>，把返回值转换为对应的 Vim 数据类型。
                <code class="special">{locals}</code> 见  <a href="builtin.html#py3eval()">py3eval()</a> 。
                使用 Python 2 或 3，见  <a href="if_pyth.html#python_x">python_x</a>  和 <a href="options.html#'pyxversion'">'pyxversion'</a>。
                另见:  <a href="builtin.html#pyeval()">pyeval()</a> 、 <a href="builtin.html#py3eval()">py3eval()</a> 

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetExpr()-&gt;pyxeval()</code>

                返回类型: any，取决于 <code class="special">{expr}</code>

                <code class="notvi">{仅当编译时加入  <a href="various.html#+python">+python</a>  或  <a href="various.html#+python3">+python3</a>  特性才有效}</code>


rand([<code class="special">{expr}</code>])                                          <b class="vimtag"> <a name="rand()">rand()</a> </b> <b class="vimtag"> <a name="random">random</a> </b>
                用 <code class="special">{expr}</code> 作为种子，使用 xoshiro128** 算法生成并返回一个伪随机
                数。返回值为 32 位数值，为了统一起见，即使是 64 位系统上也是如
                此。
                <code class="special">{expr}</code> 可用  <a href="builtin.html#srand()">srand()</a>  初始化，并在每次 rand() 调用时更新。
                <code class="special">{expr}</code> 省略时，使用并更新一个内部的种子值。
                如果  <code class="special">{expr}</code> 非法，返回 -1。

                示例:
<code class="example">                        :echo rand()</code>
<code class="example">                        :let seed = srand()</code>
<code class="example">                        :echo rand(seed)</code>
<code class="example">                        :echo rand(seed) % 16  " 随机数 0 - 15</code>

                返回类型:  <a href="eval.html#Number">Number</a> 

                                                        <b class="vimtag"> <a name="E726">E726</a> </b> <b class="vimtag"> <a name="E727">E727</a> </b>
range(<code class="special">{expr}</code> [, <code class="special">{max}</code> [, <code class="special">{stride}</code>]])                    <b class="vimtag"> <a name="range()">range()</a> </b>
                返回数值的  <a href="eval.html#List">List</a> :
                - 仅给出 <code class="special">{expr}</code> 时: [0, 1, ..., <code class="special">{expr}</code> - 1]
                - 同时给出 <code class="special">{max}</code> 时: [<code class="special">{expr}</code>, <code class="special">{expr}</code> + 1, ..., <code class="special">{max}</code>]
                - 还给出 <code class="special">{stride}</code> 时: [<code class="special">{expr}</code>, <code class="special">{expr}</code> + <code class="special">{stride}</code>, ..., <code class="special">{max}</code>]
                  (每次为 <code class="special">{expr}</code> 递增 <code class="special">{stride}</code>，但不会超过 <code class="special">{max}</code>)。
                如果最大值 <code class="special">{max}</code> 恰好比开始值 <code class="special">{expr}</code> 小一，返回空列表。如果再
                小，就会报错。
                例如:
<code class="example">                        range(4)                " [0, 1, 2, 3]</code>
<code class="example">                        range(2, 4)             " [2, 3, 4]</code>
<code class="example">                        range(2, 9, 3)          " [2, 5, 8]</code>
<code class="example">                        range(2, -2, -1)        " [2, 1, 0, -1, -2]</code>
<code class="example">                        range(0)                " []</code>
<code class="example">                        range(2, 0)             " 出错！</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetExpr()-&gt;range()</code>

                返回类型: list<code class="special">&lt;number&gt;</code>


readblob(<code class="special">{fname}</code> [, <code class="special">{offset}</code> [, <code class="special">{size}</code>]])               <b class="vimtag"> <a name="readblob()">readblob()</a> </b>
                以二进制方式读取文件 <code class="special">{fname}</code>，并返回  <a href="eval.html#Blob">Blob</a> 。
                <code class="special">{offset}</code> 给出时，从指定的偏移开始读取文件。如果给出的是负值，
                指定从文件尾开始计算的偏移。如果要读取文件最后的 12 个字节:
<code class="example">                        readblob('file.bin', -12)</code>
                <code class="special">{size}</code> 给出时，只读取指定的长度。如果要读取文件开始的 100 个字
                节:
<code class="example">                        readblob('file.bin', 0, 100)</code>
                <code class="special">{size}</code> 为 -1 或省略时，读取从 <code class="special">{offset}</code> 开始的全部数据。
                Unix 上，本函数也可用于从字符设备中读取数据，须显式指定 <code class="special">{size}</code>。
                仅当设备支持定位时，才可指定 <code class="special">{offset}</code>。否则必须将其设为零。例
                如要从串行终端读取 10 个字节:
<code class="example">                        readblob('/dev/ttyS0', 0, 10)</code>
                如果文件不能打开，，会报错并返回空  <a href="eval.html#Blob">Blob</a> 。
                如果偏移超过文件尾，会返回空 blob。
                如果尝试读取的字节数超过实际可用的字节数，读取结果会被截短。
                另见  <a href="builtin.html#readfile()">readfile()</a>  和  <a href="builtin.html#writefile()">writefile()</a> 。

                返回类型:  <a href="eval.html#Blob">Blob</a> 


readdir(<code class="special">{directory}</code> [, <code class="special">{expr}</code> [, <code class="special">{dict}</code>]])              <b class="vimtag"> <a name="readdir()">readdir()</a> </b>
                返回 <code class="special">{directory}</code> 中的文件和目录名的列表。如果不需要复杂的处
                理，如限制匹配的数目等，也可用  <a href="builtin.html#glob()">glob()</a> 。
                列表会经过排序 (排序时大小写敏感)，要改变排序的顺序，见下
                <code class="special">{dict}</code> 参数。

                <code class="special">{expr}</code> 省略时包含所有的项目。
                <code class="special">{expr}</code> 给出时，会对每一项计算其值，以决定如何处理该项:
                        <code class="special">{expr}</code> 结果为 -1 时， 不处理后续的项目。
                        <code class="special">{expr}</code> 结果为 0 时，不把本项加入列表。
                        <code class="special">{expr}</code> 结果为 1 时，把本项加入列表。
                总是排除 "." 和 ".." 项目 (<code class="vim">译者注</code>: 因而不会进行 <code class="special">{expr}</code> 计算)。
                每次计算 <code class="special">{expr}</code> 时， <a href="eval.html#v:val">v:val</a>  会被设为当前项目名。
                <code class="special">{expr}</code> 是函数时，将当前项目名作为参数传递。例如，要获取所有以
                ".txt" 结尾的文件列表:
<code class="example">                  readdir(dirname, {n -&gt; n =~ '.txt$'})</code>
                要跳过隐藏和备份文件:
<code class="example">                  readdir(dirname, {n -&gt; n !~ '^\.\|\~$'})</code>
                                                        <b class="vimtag"> <a name="E857">E857</a> </b>
                可选的 <code class="special">{dict}</code> 参数允许更多自定义。目前可用于指定排序是否进行以
                及如何进行。此字典包含以下条目:

                    sort    如何对系统返回值进行排序。
                            合法值是:
                                "none"      不排序 (最快速的方法)
                                "case"      大小写敏感排序 (根据每个字符的字节
                                            值，技术上使用 strcmp() 实现)
                                            (这是缺省行为)
                                "icase"     大小写不敏感排序 (技术上使用
                                            strcasecmp() 实现)
                                "collate"   按 "POSIX" 或 "C"  <a href="mbyte.html#locale">locale</a>  的排序
                                            规则排序 (技术上使用 strcoll() 实
                                            现)
                            其它值会被忽略，但不会报错。

                例如，要获取当前目录下所有文件的列表，而不对各个文件排序:
<code class="example">                  readdir('.', '1', #{sort: 'none'})</code>
                要想得到目录树:
<code class="example">                  function! s:tree(dir)</code>
<code class="example">                      return {a:dir : map(readdir(a:dir),</code>
<code class="example">                      \ {_, x -&gt; isdirectory(x) ?</code>
<code class="example">                      \          {x : s:tree(a:dir .. '/' .. x)} : x})}</code>
<code class="example">                  endfunction</code>
<code class="example">                  echo s:tree(".")</code>

                如果出错，返回空列表。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetDirName()-&gt;readdir()</code>

                返回类型: list<code class="special">&lt;string&gt;</code> 或 list<code class="special">&lt;any&gt;</code>


readdirex(<code class="special">{directory}</code> [, <code class="special">{expr}</code> [, <code class="special">{dict}</code>]])            <b class="vimtag"> <a name="readdirex()">readdirex()</a> </b>
                 <a href="builtin.html#readdir()">readdir()</a>  的扩展版。
                返回 <code class="special">{directory}</code> 中的文件和目录信息字典的列表。
                可用于在读取目录列表的同时获得这些文件和目录的属性。这比先调用
                 <a href="builtin.html#readdir()">readdir()</a> ，再对每个文件和目录分别调用  <a href="builtin.html#getfperm()">getfperm()</a> 、
                 <a href="builtin.html#getfsize()">getfsize()</a> 、 <a href="builtin.html#getftime()">getftime()</a>  和  <a href="builtin.html#getftype()">getftype()</a>  要快得多，尤其是在
                MS-Windows 上。
                列表缺省会按名字排序 (排序时大小写敏感)，可选的 <code class="special">{dict}</code> 参数可
                用来改变排序的方式，见  <a href="builtin.html#readdir()">readdir()</a> 。

                对每个文件和目录项目，返回的信息字典会包含以下条目:
                        group   项目所在的组名。(仅用于 Unix)
                        name    项目名。
                        perm    项目权限。见  <a href="builtin.html#getfperm()">getfperm()</a> 。
                        size    项目大小。见  <a href="builtin.html#getfsize()">getfsize()</a> 。
                        time    项目时间戳。见  <a href="builtin.html#getftime()">getftime()</a> 。
                        type    项目类型。
                                Unix 上，大致与  <a href="builtin.html#getftype()">getftype()</a>  相当，但有以下例
                                外:
                                    指向目录的符号链接  "linkd"
                                    其它符号链接        "link"
                                MS-Windows 上:
                                    普通文件            "file"
                                    目录                "dir"
                                    连接点              "junction"
                                    指向目录的符号链接  "linkd"
                                    其它符号链接        "link"
                                    其它重解析点        "reparse"
                        user    项目拥有者的名字。(仅用于 Unix)
                Unix 上，项目是符号链接时，字典会包含链接目标的信息 ("type" 项
                除外)。MS-Windows 上，出于性能方面的原因，同样情况会包含的是符
                号链接本身的信息。

                <code class="special">{expr}</code> 省略时包含所有的项目。
                <code class="special">{expr}</code> 给出时，会对每一项计算其值，以决定如何处理该项:
                        <code class="special">{expr}</code> 结果为 -1 时，不处理后续的项目。
                        <code class="special">{expr}</code> 结果为 0 时，不把本项加入列表。
                        <code class="special">{expr}</code> 结果为 1 时，把本项加入列表。
                总是排除 "." 和 ".." 项目 (<code class="vim">译者注</code>: 因而不会进行 <code class="special">{expr}</code> 计算)。
                每次计算 <code class="special">{expr}</code> 时， <a href="eval.html#v:val">v:val</a>  会被设为当前项目的  <a href="eval.html#Dictionary">Dictionary</a> 。
                <code class="special">{expr}</code> 是函数时，将当前项目字典作为参数传递。例如，要获取所有
                以 ".txt" 结尾的文件列表:
<code class="example">                  readdirex(dirname, {e -&gt; e.name =~ '.txt$'})</code>

                例如，要获取当前目录下所有文件的列表，而不对各个文件排序:
<code class="example">                  readdirex(dirname, '1', #{sort: 'none'})</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetDirName()-&gt;readdirex()</code>

                返回类型: list&lt;dict<code class="special">&lt;any&gt;</code>&gt; 或 list<code class="special">&lt;any&gt;</code>


readfile(<code class="special">{fname}</code> [, <code class="special">{type}</code> [, <code class="special">{max}</code>]])                  <b class="vimtag"> <a name="readfile()">readfile()</a> </b>
                读取文件 <code class="special">{fname}</code> 并返回文件行组成的  <a href="eval.html#List">List</a> 。文件按 NL 字符分
                行。对于以 CR 分隔的 Macintosh 文件，会返回单个长行 (除非其中
                出现了 NL)。
                文件中的所有 NUL 字符会被 NL 字符替代。
                <code class="special">{type}</code> 为 "b" 时，会使用二进制模式。此时:
                - 末行以 NL 结尾时，会附加额外的一个空列表项。
                - 不删除 CR 字符。
                否则的话:
                - 删除出现在 NL 之前的 CR 字符。
                - 末行是否以 NL 结尾没有影响。
                - <a href="options.html#'encoding'">'encoding'</a> 为 Unicode 编码时，删除文本中可能存在的 UTF-8 字
                  节顺序标识。
                <code class="special">{max}</code> 给出时，指定读取的最大行数。可用于只想检查文件开始若干行
                这样的场合，例如前 10 行:
<code class="example">                        :for line in readfile(fname, '', 10)</code>
<code class="example">                        :  if line =~ 'Date' | echo line | endif</code>
<code class="example">                        :endfor</code>
                <code class="special">{max}</code> 为负时，返回从文件尾部算起的 -<code class="special">{max}</code> 行，行数不足时返回整
                个文件。
                如果 <code class="special">{max}</code> 为零，返回空列表。
                <code class="note">注意</code> <code class="special">{max}</code> 省略时，整个文件将被读到内存。
                也请 <code class="note">注意</code> 这里不会自动识别文件编码。如有需要，可先把文件读到缓
                冲区里再进行处理。
                已废弃的功能 (请用  <a href="builtin.html#readblob()">readblob()</a>  替代): <code class="special">{type}</code> 为 "B" 时，返回
                未经修改的文件二进制数据，类型为  <a href="eval.html#Blob">Blob</a> 。
                如果文件不能打开，报错并返回空列表。
                另见  <a href="builtin.html#writefile()">writefile()</a> 。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetFileName()-&gt;readfile()</code>

                返回类型: list<code class="special">&lt;string&gt;</code> 或 list<code class="special">&lt;any&gt;</code>


reduce(<code class="special">{object}</code>, <code class="special">{func}</code> [, <code class="special">{initial}</code>])                  <b class="vimtag"> <a name="reduce()">reduce()</a> </b> <b class="vimtag"> <a name="E998">E998</a> </b>
                对 <code class="special">{object}</code> 中的每个项目调用 <code class="special">{func}</code>，其中 <code class="special">{object}</code> 可为
                 <a href="eval.html#String">String</a> 、 <a href="eval.html#List">List</a> 、 <a href="eval.html#Tuple">Tuple</a>  或  <a href="eval.html#Blob">Blob</a> 。调用 <code class="special">{func}</code> 时传入两个参
                数: 之前的累积结果和当前项目。处理完所有项目后，返回最终的累积
                结果。<b class="vimtag"> <a name="E1132">E1132</a> </b>

                <code class="special">{initial}</code> 为初始值。省略时使用 <code class="special">{object}</code> 的首个项目作为初始值，
                而从第二个项目开始调用 <code class="special">{func}</code>。如果 <code class="special">{initial}</code> 未给出且
                <code class="special">{object}</code> 为空，则无法计算结果，此时会报错 E998。

                示例:
<code class="example">                        echo reduce([1, 3, 5], { acc, val -&gt; acc + val })</code>
<code class="example">                        echo reduce(['x', 'y'], { acc, val -&gt; acc .. val }, 'a')</code>
<code class="example">                        echo reduce(0z1122, { acc, val -&gt; 2 * acc + val })</code>
<code class="example">                        echo reduce('xyz', { acc, val -&gt; acc .. ',' .. val })</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        echo mylist-&gt;reduce({ acc, val -&gt; acc + val }, 0)</code>

                返回类型:  <a href="eval.html#String">String</a> 、 <a href="eval.html#Blob">Blob</a> 、list&lt;<code class="special">{type}</code>&gt; 或 dict&lt;<code class="special">{type}</code>&gt;，
                取决于 <code class="special">{object}</code> 和 <code class="special">{func}</code>


reg_executing()                                         <b class="vimtag"> <a name="reg_executing()">reg_executing()</a> </b>
                返回当前正在执行的单字母寄存器名。如果没有正在执行的寄存器，返
                回空串。见  <a href="repeat.html#@">@</a> 。

                返回类型:  <a href="eval.html#String">String</a> 


reg_recording()                                         <b class="vimtag"> <a name="reg_recording()">reg_recording()</a> </b>
                返回当前正在记录的单字母寄存器名。如果没有正在记录的寄存器，返
                回空串。见  <a href="repeat.html#q">q</a> 。

                返回类型:  <a href="eval.html#String">String</a> 


reltime()                                               <b class="vimtag"> <a name="reltime()">reltime()</a> </b>
reltime(<code class="special">{start}</code>)
reltime(<code class="special">{start}</code>, <code class="special">{end}</code>)
                返回一个表示时间值的项目。此项目为列表，其成员内容因系统而异。
                Vim 9 脚本中，其类型为 list<code class="special">&lt;any&gt;</code>。
                此项目可被传递给  <a href="builtin.html#reltimestr()">reltimestr()</a>  以转换为字符串，或传递给
                 <a href="builtin.html#reltimefloat()">reltimefloat()</a>  以转换为浮点数。例如，要查看 Work() 函数花费
                的时间:
<code class="example">                        var startTime = reltime()</code>
<code class="example">                        Work()</code>
<code class="example">                        echo startTime-&gt;reltime()-&gt;reltimestr()</code>

                参数省略时，返回当前时间 (具体表示方式依赖系统，不能用作挂钟
                (wall-clock) 时间，如果需要挂钟时间，可用  <a href="builtin.html#localtime()">localtime()</a> )。
                带一个参数时，返回从 <code class="special">{start}</code> 到现在所经过的时间。
                带两个参数时，返回从 <code class="special">{start}</code> 到 <code class="special">{end}</code> 所经过的时间。
                <code class="special">{start}</code> 和 <code class="special">{end}</code> 参数必须为先前调用 reltime() 的返回值。
                如果出错，在老式脚本里会返回空列表，而在 Vim9 脚本里则会报错。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetStart()-&gt;reltime()</code>

                返回类型: list<code class="special">&lt;number&gt;</code>

                <code class="notvi">{仅当编译时加入  <a href="various.html#+reltime">+reltime</a>  特性才有效}</code>


reltimefloat(<code class="special">{time}</code>)                                    <b class="vimtag"> <a name="reltimefloat()">reltimefloat()</a> </b>
                返回代表 <code class="special">{time}</code> 中的时间值的浮点数。
                示例:
<code class="example">                        let start = reltime()</code>
<code class="example">                        call MyFunction()</code>
<code class="example">                        let seconds = reltimefloat(reltime(start))</code>
                有关操作开销，可见  <a href="builtin.html#reltimestr()">reltimestr()</a>  处的注释。
                另见  <a href="repeat.html#profiling">profiling</a> 。
                如果出错，在老式脚本里会返回 0.0，而在 Vim9 脚本里会报错。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        reltime(start)-&gt;reltimefloat()</code>

                返回类型:  <a href="eval.html#Float">Float</a> 

                <code class="notvi">{仅当编译时加入  <a href="various.html#+reltime">+reltime</a>  特性才有效}</code>


reltimestr(<code class="special">{time}</code>)                                      <b class="vimtag"> <a name="reltimestr()">reltimestr()</a> </b>
                返回代表 <code class="special">{time}</code> 中的时间值的字符串。
                返回形式是秒数，后面紧跟一个句号和毫秒数。例如:
<code class="example">                        let start = reltime()</code>
<code class="example">                        call MyFunction()</code>
<code class="example">                        echo reltimestr(reltime(start))</code>
                <code class="note">注意</code> 所有命令本身的额外开销也会计算在时间里。
                时间的准确度取决于系统。 <a href="builtin.html#reltimefloat()">reltimefloat()</a>  会给出最高准确度，在
                一些系统里可达纳秒级。
                返回结果会包含前导空格，方便字符串能更好地对齐。如果不需要前导
                空格，可用  <a href="builtin.html#split()">split()</a>  进行删除。
<code class="example">                        echo split(reltimestr(reltime(start)))[0]</code>
                另见  <a href="repeat.html#profiling">profiling</a> 。
                如果出错，在老式脚本里会返回空串，而在 Vim9 脚本里会报错。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        reltime(start)-&gt;reltimestr()</code>

                返回类型:  <a href="eval.html#String">String</a> 

                <code class="notvi">{仅当编译时加入  <a href="various.html#+reltime">+reltime</a>  特性才有效}</code>

                                                        <b class="vimtag"> <a name="remote_expr()">remote_expr()</a> </b> <b class="vimtag"> <a name="E449">E449</a> </b>
remote_expr(<code class="special">{server}</code>, <code class="special">{string}</code> [, <code class="special">{idvar}</code> [, <code class="special">{timeout}</code>]])
                发送 <code class="special">{string}</code> 到 <code class="special">{server}</code>。<code class="special">{server}</code> 参数是字符串，另见
                 <a href="remote.html#{server}">{server}</a> 。

                待发送的字符串视作表达式，返回的是其在远端执行的结果。这个结果
                必须是字符串或  <a href="eval.html#List">List</a> 。其它类型都会被转换为字符串。 <a href="eval.html#List">List</a>  也会
                将各项用换行符连接转换成字符串 (末项之后不添加换行符)，就像用
                join(expr, "\n") 那样。

                <code class="special">{idvar}</code> 给出且非空时，该参数应是一个变量名，调用后，返回的
                <code class="special">{serverid}</code> 会保存在此变量中，供之后调用  <a href="builtin.html#remote_read()">remote_read()</a>  时使
                用。

                <code class="special">{timeout}</code> 给出时，在给定的秒数后读取超时。缺省超时为 600 秒。

                另见  <a href="remote.html#clientserver">clientserver</a>   <a href="autocmd.html#RemoteReply">RemoteReply</a> 。
                该函数在沙盘里不可用  <a href="eval.html#sandbox">sandbox</a> 。
                <code class="notvi">{仅当编译时加入  <a href="various.html#+clientserver">+clientserver</a>  特性才有效}</code>
                <code class="note">注意</code>: 如果发生任何错误，错误信息都会在本地产生，并返回空串。

                变量都会在全局命名空间中计算，与当前激活的函数无关。只有在调试
                模式下，才会同时对函数局部变量和参数进行求值。

                例如:
<code class="example">                        :echo remote_expr("gvim", "2+2")</code>
<code class="example">                        :echo remote_expr("gvim1", "b:current_syntax")</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        ServerName()-&gt;remote_expr(expr)</code>

                返回类型:  <a href="eval.html#String">String</a>  或 list&lt;<code class="special">{type}</code>&gt;


remote_foreground(<code class="special">{server}</code>)                             <b class="vimtag"> <a name="remote_foreground()">remote_foreground()</a> </b>
                把名为 <code class="special">{server}</code> 的 Vim 服务器带到前台。<code class="special">{server}</code> 参数是字符串，
                另见  <a href="remote.html#{server}">{server}</a> 。
                这相当于:
<code class="example">                        remote_expr({server}, "foreground()")</code>
                Win32 系统除外。该平台上由客户端完成实际操作，因为 Win32 系统
                不总是允许服务器将自己切换到前台。<code class="note">注意</code>: 如果服务器窗口已最小
                化，该系统上不会自动恢复窗口，而  <a href="builtin.html#foreground()">foreground()</a>  则会。
                该函数在沙盘里不可用  <a href="eval.html#sandbox">sandbox</a> 。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        ServerName()-&gt;remote_foreground()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 

                <code class="notvi">{仅可用在 Win32、Motif 和 GTK GUI 版本和 Win32 的控制台版本}</code>


remote_peek(<code class="special">{serverid}</code> [, <code class="special">{retvar}</code>])                    <b class="vimtag"> <a name="remote_peek()">remote_peek()</a> </b>
                <code class="special">{serverid}</code> 有可用的字符串应答时，返回正值。<code class="special">{retvar}</code> 给出时，复
                制任意一个 (如有多个) 应答字符串到 <code class="special">{retvar}</code> 指定的变量。
                <code class="special">{retvar}</code> 必须是一个指定变量名的字符串。
                没有可用的应答时，返回 0。
                如果出错，返回 -1。
                另见  <a href="remote.html#clientserver">clientserver</a> 。
                该函数在沙盘里不可用  <a href="eval.html#sandbox">sandbox</a> 。
                <code class="notvi">{仅当编译时加入  <a href="various.html#+clientserver">+clientserver</a>  特性才有效}</code>
                示例:
<code class="example">                   :let repl = ""</code>
<code class="example">                   :echo "PEEK: " .. remote_peek(id, "repl") .. ": " .. repl</code>
<code class="example"></code>
                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        ServerId()-&gt;remote_peek()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


remote_read(<code class="special">{serverid}</code>, [<code class="special">{timeout}</code>])                    <b class="vimtag"> <a name="remote_read()">remote_read()</a> </b>
                返回从 <code class="special">{serverid}</code> 发送的存在时间最长的应答，并将其删除。除非给
                出了以秒为单位的 <code class="special">{timeout}</code>，该调用会一直等待直到有应答为止。如
                果没有应答或出错，返回空串。
                另见  <a href="remote.html#clientserver">clientserver</a> 。
                该函数在沙盘里不可用  <a href="eval.html#sandbox">sandbox</a> 。
                <code class="notvi">{仅当编译时加入  <a href="various.html#+clientserver">+clientserver</a>  特性才有效}</code>
                例如:
<code class="example">                        :echo remote_read(id)</code>
<code class="example"></code>
                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        ServerId()-&gt;remote_read()</code>

                返回类型:  <a href="eval.html#String">String</a> 


remote_send(<code class="special">{server}</code>, <code class="special">{string}</code> [, <code class="special">{idvar}</code>])             <b class="vimtag"> <a name="remote_send()">remote_send()</a> </b> <b class="vimtag"> <a name="E241">E241</a> </b>
                发送 <code class="special">{string}</code> 到 <code class="special">{server}</code>。<code class="special">{server}</code> 参数是字符串，另见
                 <a href="remote.html#{server}">{server}</a> 。

                发送的字符串为输入键的序列。函数立即返回。Vim 服务器端不会对键
                进行映射  <a href="map.html#:map">:map</a> 。

                <code class="special">{idvar}</code> 给出且非空时，该参数应是一个变量名，调用后，返回的
                <code class="special">{serverid}</code> 会保存在此变量中，供之后调用  <a href="builtin.html#remote_read()">remote_read()</a>  时使
                用。

                另见  <a href="remote.html#clientserver">clientserver</a>   <a href="autocmd.html#RemoteReply">RemoteReply</a> 。
                该函数在沙盘里不可用  <a href="eval.html#sandbox">sandbox</a> 。
                <code class="notvi">{仅当编译时加入  <a href="various.html#+clientserver">+clientserver</a>  特性才有效}</code>

                <code class="note">注意</code>: 如果发生任何错误，错误信息都会在服务器端产生，并可能扰乱
                服务器的显示。
                例如:
<code class="example">                :echo remote_send("gvim", ":DropAndReply " .. file,</code>
<code class="example">                 \ "serverid") .. remote_read(serverid)</code>
<code class="example"></code>
<code class="example">                :autocmd NONE RemoteReply *</code>
<code class="example">                 \ echo remote_read(expand("&lt;amatch&gt;"))</code>
<code class="example">                :echo remote_send("gvim", ":sleep 10 | echo " ..</code>
<code class="example">                 \ 'server2client(expand("&lt;client&gt;"), "HELLO")&lt;CR&gt;')</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        ServerName()-&gt;remote_send(keys)</code>

                返回类型:  <a href="eval.html#String">String</a> 

                                                        <b class="vimtag"> <a name="remote_startserver()">remote_startserver()</a> </b>
remote_startserver(<code class="special">{name}</code>)                              <b class="vimtag"> <a name="E941">E941</a> </b> <b class="vimtag"> <a name="E942">E942</a> </b>
                本进程将成为名为 <code class="special">{name}</code> 的服务器。<code class="special">{name}</code> 不能为空串。
                如果进程已作为服务器运行，也即  <a href="eval.html#v:servername">v:servername</a>  不为空时，操作会
                失败。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        ServerName()-&gt;remote_startserver()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 

                <code class="notvi">{仅当编译时加入  <a href="various.html#+clientserver">+clientserver</a>  特性才有效}</code>


remove(<code class="special">{list}</code>, <code class="special">{idx}</code>)                                   <b class="vimtag"> <a name="remove()">remove()</a> </b>
remove(<code class="special">{list}</code>, <code class="special">{idx}</code>, <code class="special">{end}</code>)
                <code class="special">{end}</code> 未给出时: 删除 <code class="special">{list}</code>  <a href="eval.html#List">List</a>  里索引为 <code class="special">{idx}</code> 的列表项并返
                回该项目。
                <code class="special">{end}</code> 给出时: 删除从指定索引区间 <code class="special">{idx}</code> 到 <code class="special">{end}</code> (闭区间) 的列
                表项，并返回这些项目组成的  <a href="eval.html#List">List</a> 。如果 <code class="special">{idx}</code> 和 <code class="special">{end}</code> 指向相
                同列表项，返回单项目列表。而如果 <code class="special">{end}</code> 指向在 <code class="special">{idx}</code> 之前的项
                目，报错。
                 <a href="eval.html#list-index">list-index</a>  说明 <code class="special">{idx}</code> 和 <code class="special">{end}</code> 可能的取值。
                如果出错，返回零。
                例如:
<code class="example">                        :echo "last item: " .. remove(mylist, -1)</code>
<code class="example">                        :call remove(mylist, 0, 9)</code>

                要删除文件，请用  <a href="builtin.html#delete()">delete()</a> 。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        mylist-&gt;remove(idx)</code>

                返回类型: any，取决于 <code class="special">{list}</code>


remove(<code class="special">{blob}</code>, <code class="special">{idx}</code>)
remove(<code class="special">{blob}</code>, <code class="special">{idx}</code>, <code class="special">{end}</code>)
                <code class="special">{end}</code> 未给出时: 删除 <code class="special">{blob}</code>  <a href="eval.html#Blob">Blob</a>  里索引为 <code class="special">{idx}</code> 的字节并返回
                该字节。
                <code class="special">{end}</code> 给出时: 删除从从指定索引区间 <code class="special">{idx}</code> 到 <code class="special">{end}</code> (闭区间) 的
                字节，并返回这些字节构成的的  <a href="eval.html#Blob">Blob</a> 。如果 <code class="special">{idx}</code> 和 <code class="special">{end}</code> 指向
                相同的字节，返回单字节构成的  <a href="eval.html#Blob">Blob</a> 。而如果 <code class="special">{end}</code> 指向在 <code class="special">{idx}</code>
                之前的字节，报错。
                如果出错，返回零。
                示例:
<code class="example">                        :echo "last byte: " .. remove(myblob, -1)</code>
<code class="example">                        :call remove(mylist, 0, 9)</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


remove(<code class="special">{dict}</code>, <code class="special">{key}</code>)
                删除 <code class="special">{dict}</code> 里键为 <code class="special">{key}</code> 的项目并返回其值。例如:
<code class="example">                        :echo "removed " .. remove(dict, "one")</code>
                如果 <code class="special">{dict}</code> 里没有键 <code class="special">{key}</code>，报错。
                如果出错，返回零。

                返回类型: any，取决于 <code class="special">{dict}</code>


rename(<code class="special">{from}</code>, <code class="special">{to}</code>)                                    <b class="vimtag"> <a name="rename()">rename()</a> </b>
                将名为 <code class="special">{from}</code> 的文件换名为 <code class="special">{to}</code>。也可用来在文件系统间移动文
                件。文件成功换名时，返回零，失败则返回非零。
                <code class="note">注意</code> 如果 <code class="special">{to}</code> 文件已存在，原有文件被覆盖且没有<code class="note">警告</code>。
                该函数在沙盘里不可用  <a href="eval.html#sandbox">sandbox</a> 。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetOldName()-&gt;rename(newname)</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


repeat(<code class="special">{expr}</code>, <code class="special">{count}</code>)                                 <b class="vimtag"> <a name="repeat()">repeat()</a> </b>
                将 <code class="special">{expr}</code> 重复 <code class="special">{count}</code> 次，并返回连接后的结果。例如:
<code class="example">                        :let separator = repeat('-', 80)</code>
                如果 <code class="special">{count}</code> 为零或负，返回相应类型的空值。
                <code class="special">{expr}</code> 为  <a href="eval.html#List">List</a> 、 <a href="eval.html#Tuple">Tuple</a>  或  <a href="eval.html#Blob">Blob</a>  类型时，返回连接 <code class="special">{expr}</code> 重
                复 <code class="special">{count}</code> 次后的结果。例如:
<code class="example">                        :let longlist = repeat(['a', 'b'], 3)</code>
                会返回 ['a', 'b', 'a', 'b', 'a', 'b']。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        mylist-&gt;repeat(count)</code>

                返回类型:  <a href="eval.html#String">String</a> 、 <a href="eval.html#Blob">Blob</a> 、list&lt;<code class="special">{type}</code>&gt; 或 tuple&lt;<code class="special">{type}</code>&gt;，取
                决于 <code class="special">{expr}</code>


resolve(<code class="special">{filename}</code>)                                     <b class="vimtag"> <a name="resolve()">resolve()</a> </b> <b class="vimtag"> <a name="E655">E655</a> </b>
                在 MS-Windows 上，当 <code class="special">{filename}</code> 为快捷方式 (.lnk 文件) 时，返
                回简化后的快捷方式指向的路径。当 <code class="special">{filename}</code> 为符号链接或连接点
                (junction point) 时，返回目的地的完整路径。如果该连接
                (junction) 的目的地已被删除，返回 <code class="special">{filename}</code> 自身。
                在 Unix 上，会递归解析 <code class="special">{filename}</code> 的所有路径部分的符号链接，直
                到得到最简化的路径为止。为避免循环链接，符号链接的解析最多进行
                100 次迭代。
                在其它系统上，返回简化后的 <code class="special">{filename}</code>。
                路径简化的工作由  <a href="builtin.html#simplify()">simplify()</a>  完成。和  <a href="builtin.html#simplify()">simplify()</a>  一样，
                resolve() 会保留指向当前目录的首个路径部分 (只要结果仍然是相对
                路径)，也保留拖尾的路径分隔符。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetName()-&gt;resolve()</code>

                返回类型:  <a href="eval.html#String">String</a> 


reverse(<code class="special">{object}</code>)                                       <b class="vimtag"> <a name="reverse()">reverse()</a> </b>
                反转 <code class="special">{object}</code> 项目的顺序。<code class="special">{object}</code> 必须是  <a href="eval.html#List">List</a> 、 <a href="eval.html#Tuple">Tuple</a> 、
                 <a href="eval.html#Blob">Blob</a>  或者  <a href="eval.html#String">String</a> 。对于列表或 blob，直接对 <code class="special">{object}</code> 进行原
                位修改，返回 <code class="special">{object}</code> 本身。
                对于元组，返回新元组。
                对于字符串，返回新字符串。
                如果 <code class="special">{object}</code> 既不是列表、元组、blob，也不是字符串，返回零。
                对列表和 blob，如果不想更动原始输入，先创建备份:
<code class="example">                        :let revlist = reverse(copy(mylist))</code>
                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        mylist-&gt;reverse()</code>

                返回类型:  <a href="eval.html#String">String</a> 、 <a href="eval.html#Blob">Blob</a> 、list&lt;<code class="special">{type}</code>&gt; 或 tuple&lt;<code class="special">{type}</code>&gt;，取
                决于 <code class="special">{object}</code>


round(<code class="special">{expr}</code>)                                           <b class="vimtag"> <a name="round()">round()</a> </b>
                返回最接近于 <code class="special">{expr}</code> 的整数，返回类型为  <a href="eval.html#Float">Float</a> 。如果 <code class="special">{expr}</code> 恰
                好位于两个整数的正中间，选择 (<code class="vim">译者注</code>: 绝对值) 较大 (远离零) 的
                整数。
                <code class="special">{expr}</code> 的计算结果必须是  <a href="eval.html#Float">Float</a>  或  <a href="eval.html#Number">Number</a> 。否则返回 0.0。
                示例:
<code class="example">                        echo round(0.456)</code>
                        0.0 
<code class="example">                        echo round(4.5)</code>
                        5.0
<code class="example">                        echo round(-4.5)</code>
                        -5.0

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        Compute()-&gt;round()</code>

                返回类型:  <a href="eval.html#Float">Float</a> 


rubyeval(<code class="special">{expr}</code>)                                        <b class="vimtag"> <a name="rubyeval()">rubyeval()</a> </b>
                运行 Ruby 表达式 <code class="special">{expr}</code>，把返回值转换为对应的 Vim 数据类型。
                数值、浮点数和字符串按原样返回 (字符串经过复制)。
                数组会返回 Vim  <a href="eval.html#List">List</a>  类型。
                哈希表会返回 Vim  <a href="eval.html#Dictionary">Dictionary</a>  类型。
                所有其它对象都会根据 "Object#to_s" 方法的返回值转换为字符串。
                <code class="note">注意</code>  <a href="vim9.html#:def">:def</a>  定义的函数内部的局部变量对 <code class="special">{expr}</code> 不可见。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetRubyExpr()-&gt;rubyeval()</code>

                返回类型: any，取决于 <code class="special">{expr}</code>

                <code class="notvi">{仅当编译时加入  <a href="various.html#+ruby">+ruby</a>  特性才有效}</code>


screenattr(<code class="special">{row}</code>, <code class="special">{col}</code>)                                <b class="vimtag"> <a name="screenattr()">screenattr()</a> </b>
                和  <a href="builtin.html#screenchar()">screenchar()</a>  类同，但返回属性。该数值比较随意，仅可用于和
                其他位置的属性进行比较。
                如果行号或列号越界，返回 -1。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetRow()-&gt;screenattr(col)</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


screenchar(<code class="special">{row}</code>, <code class="special">{col}</code>)                                <b class="vimtag"> <a name="screenchar()">screenchar()</a> </b>
                返回屏幕 [row, col] 位置上的字符，类型为数值。可用于屏幕上任意
                位置，包括状态行，窗口分隔符和命令行。左上角的行号和列号均为
                一。
                返回字符不包括组合字符。对双字节编码，可能仅返回首个字节。
                主要用于调试。
                如果行号或列号越界，返回 -1。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetRow()-&gt;screenchar(col)</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


screenchars(<code class="special">{row}</code>, <code class="special">{col}</code>)                               <b class="vimtag"> <a name="screenchars()">screenchars()</a> </b>
                返回数值  <a href="eval.html#List">List</a> 。列表中的首个数值和  <a href="builtin.html#screenchar()">screenchar()</a>  的返回值相
                同。后续的数值是附加在基础字符之上的组合字符。
                主要用于测试。
                如果行号或列号越界，返回空列表。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetRow()-&gt;screenchars(col)</code>

                返回类型: list<code class="special">&lt;number&gt;</code> 或 list<code class="special">&lt;any&gt;</code>


screencol()                                             <b class="vimtag"> <a name="screencol()">screencol()</a> </b>
                返回当前光标的屏幕列号，类型为数值。最左列的列号为 1。
                主要用于调试。

                <code class="note">注意</code>: 本函数始终返回当前屏幕列号，所以如果直接在命令中使用 (例
                如 ":echo screencol()")，返回的是命令行中的屏幕列号，在命令执
                行时永远为 1。在文件中要获取当前光标位置，可用下面这些映射:
<code class="example">                        nnoremap &lt;expr&gt; GG ":echom " .. screencol() .. "\n"</code>
<code class="example">                        nnoremap &lt;silent&gt; GG :echom screencol()&lt;CR&gt;</code>
<code class="example">                        nnoremap GG &lt;Cmd&gt;echom screencol()&lt;CR&gt;</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


screenpos(<code class="special">{winid}</code>, <code class="special">{lnum}</code>, <code class="special">{col}</code>)                       <b class="vimtag"> <a name="screenpos()">screenpos()</a> </b>
                返回窗口 <code class="special">{winid}</code> 在缓冲区行 <code class="special">{lnum}</code> 和列 <code class="special">{col}</code> 上的文本字符所在
                的屏幕位置，类型为字典。<code class="special">{col}</code> 是从一开始的字节索引。
                字典有以下成员:
                        row     屏幕行号
                        col     首个屏幕列号
                        endcol  末个屏幕列号
                        curscol 光标所在的屏幕列号
                如果指定位置不可见，所有的字典值均为零。
                当字符占据多于一个屏幕单元格时，"endcol" 和 "col" 的值会不同。
                例如，对于制表符，"col" 可能是 1 而 "eolcol" 会是 8。
                "curscol" 值是光标将要放置的屏幕位置。对于制表符，此值和
                "endcol" 相同。而对于双宽字符，则和 "col" 相同。
                此处忽略  <a href="syntax.html#conceal">conceal</a>  特性，列号的计算假定 <a href="options.html#'conceallevel'">'conceallevel'</a> 为零。
                要得到考虑了  <a href="syntax.html#conceal">conceal</a>  的列号，可以将光标放在合适的位置，然后
                使用  <a href="builtin.html#screencol()">screencol()</a> 。
                如果字符位于关闭的折叠里，返回折叠首个字符的屏幕位置，不使用
                <code class="special">{col}</code>。
                如果 <code class="special">{winid}</code> 非法，返回空字典。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetWinid()-&gt;screenpos(lnum, col)</code>

                返回类型: dict<code class="special">&lt;number&gt;</code> 或 dict<code class="special">&lt;any&gt;</code>


screenrow()                                             <b class="vimtag"> <a name="screenrow()">screenrow()</a> </b>
                返回当前光标的屏幕行号，类型为数值。顶行的行号为 1。
                主要用于调试。
                作为替代，也可用  <a href="builtin.html#winline()">winline()</a> 。

                <code class="note">注意</code>: 和  <a href="builtin.html#screencol()">screencol()</a>  存在相同的限制。

                返回类型:  <a href="eval.html#Number">Number</a> 


screenstring(<code class="special">{row}</code>, <code class="special">{col}</code>)                              <b class="vimtag"> <a name="screenstring()">screenstring()</a> </b>
                返回屏幕 [row, col] 位置上的基本字符和所有组合字符组成的字符
                串。与  <a href="builtin.html#screenchars()">screenchars()</a>  类似，但返回字符组成的字符串，而非字符
                列表。
                主要用于测试。
                如果行号或列号越界，返回空串。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetRow()-&gt;screenstring(col)</code>

                返回类型:  <a href="eval.html#String">String</a> 

                                                        <b class="vimtag"> <a name="search()">search()</a> </b>
search(<code class="special">{pattern}</code> [, <code class="special">{flags}</code> [, <code class="special">{stopline}</code> [, <code class="special">{timeout}</code> [, <code class="special">{skip}</code>]]]])
                搜索正则表达式模式 <code class="special">{pattern}</code>。搜索从当前光标位置 (光标位置可用
                 <a href="builtin.html#cursor()">cursor()</a>  设置) 开始。

                找到匹配后，返回匹配所在的行号。
                如果找不到匹配，返回 0 并且不移动光标。不会给出错误信息。
                要取得匹配的具体字符串，可用  <a href="builtin.html#matchbufline()">matchbufline()</a> 。

                <code class="special">{flags}</code> 为包含以下字符标志位的字符串:
                'b'     反向 (Backward) 搜索，而非正向搜索
                'c'     接受光标 (Cursor) 位置上的匹配
                'e'     光标移动到匹配的结束位置 (End)
                'n'     不 (Not) 移动光标
                'p'     返回匹配的子模式 (Pattern) 号 (见下)
                's'     在光标前次所在位置上设置 (Set) ' 位置标记
                'w'     在文件末尾搜索失败时，回绕 (Wrap) 到文件开头继续搜索
                'W'     不在文件末尾处回绕 (no Wrap)
                'z'     从光标列开始搜索，而非第零 (Zero) 列
                如果 'w' 和 'W' 都没有给出，回绕与否取决于 <a href="options.html#'wrapscan'">'wrapscan'</a> 选项。

                's' 标志位给出时，只有光标发生了移动才会设置 ' 位置标记。's'
                标志位不能和 'n' 标志位一起使用。

                适用 <a href="options.html#'ignorecase'">'ignorecase'</a>、<a href="options.html#'smartcase'">'smartcase'</a> 和 <a href="options.html#'magic'">'magic'</a> 选项的规则。

                <a href="options.html#'cpo'">'cpo'</a> 中包含 'c' 标志位时，下次搜索将从当前匹配的结束位置之后
                开始。否则，下次搜索会从当前匹配开始位置的下一列开始。这会影响
                有重叠匹配的情况。详见  <a href="options.html#cpo-c">cpo-c</a> 。插入 "\ze" 也可改变匹配的结束
                位置，见  <a href="pattern.html#%2F\ze">/\ze</a> 。

                'z' 标志位未给出时，正向搜索总是从第零列开始，然后跳过光标之前
                的匹配。
                'z' 标志位给出时，反向搜索总是从第零列开始，因而会跳过光标之前
                的任何匹配 (除非从文件尾回绕)。(<code class="vim">译者注</code>: 技术细节: 'z' 用于指定
                在光标所在行上从哪个位置开始 (正向) 搜索，然后根据搜索方向是正
                向还是反向，排除光标之前或之后的匹配。由于 'z' 指定从光标列开
                始搜索，而反向搜索会排除光标之后的匹配，因而在当前行将找不到任
                何匹配。在其他行上，搜索总是从第 0 列开始)

                <code class="special">{stopline}</code> 参数给出时，在搜索完该行后结束搜索。可用于限制搜索
                的行范围。例如:
<code class="example">                        let match = search('(', 'b', line("w0"))</code>
<code class="example">                        let end = search('END', '', line("w$"))</code>
                <code class="special">{stopline}</code> 给出且非零时，隐含搜索不会在文件尾处回绕。零值相当
                于该参数未给出。

                                <b class="vimtag"> <a name="E1285">E1285</a> </b> <b class="vimtag"> <a name="E1286">E1286</a> </b> <b class="vimtag"> <a name="E1287">E1287</a> </b> <b class="vimtag"> <a name="E1288">E1288</a> </b> <b class="vimtag"> <a name="E1289">E1289</a> </b>
                <code class="special">{timeout}</code> 参数给出时，在给出的毫秒数后搜索超时。例如，
                <code class="special">{timeout}</code> 为 500 则搜索将在半秒钟后中止。该值不能为负。零值相
                当于该参数未给出。

                <code class="note">注意</code>: 超时仅考虑搜索过程本身，不考虑 <code class="special">{skip}</code> 表达式占用的计算时
                间。
                <code class="notvi">{仅当在编译时加入  <a href="various.html#+reltime">+reltime</a>  特性才有效}</code>

                <code class="special">{skip}</code> 表达式给出时，在光标位于匹配开始位置时计算此表达式。计
                算结果非零时，会跳过此匹配。例如，可用于跳过注释或字符串内部的
                匹配。
                <code class="special">{skip}</code> 可以是作为表达式计算的字符串、函数引用或匿名函数。
                <code class="special">{skip}</code> 省略或为空时，接受所有匹配。
                计算 <code class="special">{skip}</code> 时如果出错，搜索会中断并返回 -1。
                                                        <b class="vimtag"> <a name="search()-sub-match">search()-sub-match</a> </b>
                'p' 标志位给出时，返回值为首个匹配的 \(\) 子模式的编号
                加一。如果没有子模式能匹配但整个模式匹配，返回一。
                要获取列号而不仅是行号，可用  <a href="builtin.html#searchpos()">searchpos()</a> 。

                除非使用了 'n' 标志位，否则光标会定位在匹配文本上。

                示例 (遍历参数列表里的所有文件):
<code class="example">                    :let n = 1</code>
<code class="example">                    :while n &lt;= argc()      " 循环遍历参数列表里的每个文件</code>
<code class="example">                    :  exe "argument " .. n</code>
<code class="example">                    :  " 从文件最后一个字符开始，这样第一个搜索可以通过回绕找</code>
<code class="example">                    :  " 到文件开始的匹配</code>
<code class="example">                    :  normal G$</code>
<code class="example">                    :  let flags = "w"</code>
<code class="example">                    :  while search("foo", flags) &gt; 0</code>
<code class="example">                    :    s/foo/bar/g</code>
<code class="example">                    :    let flags = "W"</code>
<code class="example">                    :  endwhile</code>
<code class="example">                    :  update               " 如果修改过，写入文件</code>
<code class="example">                    :  let n = n + 1</code>
<code class="example">                    :endwhile</code>

                使用一些标志位的示例:
<code class="example">                    :echo search('\&lt;if\|\(else\)\|\(endif\)', 'ncpe')</code>
                这会在光标所在位置或之后的位置寻找关键字 "if"、"else" 和
                "endif"。因为给出了 'p' 标志位，函数会根据最先匹配的关键字相应
                地返回 1、2 或 3。如果没有找到任何一个，则返回 0。例如，假定光
                标在下行的第一个单词上:
<code class="section">                    if (foo == 0) | let foo = foo + 1 | endif </code>
                本函数会返回 1。如果没有 'c' 标志位，函数会找到 "endif" 并返回
                3。如果没有 'e' 标志位，且光标在 "if" 的 "f" 上，同样也会如
                此。'n' 标志位告诉函数不移动光标。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetPattern()-&gt;search()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


searchcount([<code class="special">{options}</code>])                                <b class="vimtag"> <a name="searchcount()">searchcount()</a> </b>
                获取或更新最近搜索计数，相当于不带 "S" 标志位的 <a href="options.html#'shortmess'">'shortmess'</a> 所
                显示的内容。即便 <a href="options.html#'shortmess'">'shortmess'</a> 包含 "S" 标志位，本函数同样适用。

                返回  <a href="eval.html#Dictionary">Dictionary</a> 。如果之前没有设置过搜索模式且 <code class="special">{options}</code> 里未
                指定 "pattern"，此字典为空。

<code class="section">                  键            类型            意义 </code>
                  current        <a href="eval.html#Number">Number</a>         当前的匹配位置；
                                                光标位置在首个匹配之前则为 0
                  exact_match    <a href="eval.html#Boolean">Boolean</a>        <code class="special">{options}</code> 里的 "pos" 位置 (缺
                                                省为光标所在位置) 如果在
                                                "current" 匹配文本之上，则为
                                                1，否则为 0
                  total          <a href="eval.html#Number">Number</a>         匹配总数
                  incomplete     <a href="eval.html#Number">Number</a>         0: 搜索全部完成
                                                1: 重计算超时
                                                2: 超出了最大匹配数

                <code class="special">{options}</code> 见下。

                要取得最近一次按下  <a href="pattern.html#n">n</a>  或  <a href="pattern.html#N">N</a>  时的搜索计数，可调用本函数，并传
                递 <code class="special">{options}</code> 值 `recompute: 0`。因为 <a href="options.html#'maxsearchcount'">'maxsearchcount'</a> 的存在，
                有时这可能会返回错误的信息。如果计数超出 <a href="options.html#'maxsearchcount'">'maxsearchcount'</a>，结
                果只会报告 <a href="options.html#'maxsearchcount'">'maxsearchcount'</a> + 1。如果要得到正确的信息，可在
                <code class="special">{options}</code> 里指定 `recompute: 1`:
<code class="example"></code>
<code class="example">                        " 如果有很多匹配，result == 'maxsearchcount' + 1</code>
<code class="example">                        let result = searchcount(#{recompute: 0})</code>
<code class="example"></code>
<code class="example">                        " 以下则返回正确结果 (recompute 缺省为 1)</code>
<code class="example">                        let result = searchcount()</code>

                本函数可用于在 <a href="options.html#'statusline'">'statusline'</a> 中加入计数:
<code class="example">                        function! LastSearchCount() abort</code>
<code class="example">                          let result = searchcount(#{recompute: 0})</code>
<code class="example">                          if empty(result)</code>
<code class="example">                            return ''</code>
<code class="example">                          endif</code>
<code class="example">                          if result.incomplete ==# 1     " 超时</code>
<code class="example">                            return printf(' /%s [?/??]', @/)</code>
<code class="example">                          elseif result.incomplete ==# 2 " 超过最大匹配数</code>
<code class="example">                            if result.total &gt; result.maxcount &amp;&amp;</code>
<code class="example">                            \  result.current &gt; result.maxcount</code>
<code class="example">                              return printf(' /%s [&gt;%d/&gt;%d]', @/,</code>
<code class="example">                              \             result.current, result.total)</code>
<code class="example">                            elseif result.total &gt; result.maxcount</code>
<code class="example">                              return printf(' /%s [%d/&gt;%d]', @/,</code>
<code class="example">                              \             result.current, result.total)</code>
<code class="example">                            endif</code>
<code class="example">                          endif</code>
<code class="example">                          return printf(' /%s [%d/%d]', @/,</code>
<code class="example">                          \             result.current, result.total)</code>
<code class="example">                        endfunction</code>
<code class="example">                        let &amp;statusline ..= '%{LastSearchCount()}'</code>
<code class="example"></code>
<code class="example">                        " 如果只想在 'hlsearch' 打开时显示计数，可以这样</code>
<code class="example">                        " let &amp;statusline ..=</code>
<code class="example">                        " \   '%{v:hlsearch ? LastSearchCount() : ""}'</code>

                本函数也可用于更新搜索计数，例如在  <a href="autocmd.html#CursorMoved">CursorMoved</a>  或
                 <a href="autocmd.html#CursorMovedI">CursorMovedI</a>  自动命令中使用:
<code class="example"></code>
<code class="example">                        autocmd CursorMoved,CursorMovedI *</code>
<code class="example">                          \ let s:searchcount_timer = timer_start(</code>
<code class="example">                          \   200, function('s:update_searchcount'))</code>
<code class="example">                        function! s:update_searchcount(timer) abort</code>
<code class="example">                          if a:timer ==# s:searchcount_timer</code>
<code class="example">                            call searchcount(#{</code>
<code class="example">                            \ recompute: 1, maxcount: 0, timeout: 100})</code>
<code class="example">                            redrawstatus</code>
<code class="example">                          endif</code>
<code class="example">                        endfunction</code>

                也可用 <code class="special">{options}</code> 里的 "pattern" 来统计在当前缓冲区里匹配指定模
                式的文本数目:
<code class="example"></code>
<code class="example">                        " 统计此缓冲区中匹配 '\&lt;foo\&gt;' 的文本数目</code>
<code class="example">                        " (注意 这也会更新搜索计数)</code>
<code class="example">                        let result = searchcount(#{pattern: '\&lt;foo\&gt;'})</code>
<code class="example"></code>
<code class="example">                        " 要恢复旧模式的旧搜索计数，可再次搜索</code>
<code class="example">                        call searchcount()</code>

                <code class="special">{options}</code> 必须为  <a href="eval.html#Dictionary">Dictionary</a> 。可包含的条目有:
<code class="section">                  键            类型            含义 </code>
                  recompute      <a href="eval.html#Boolean">Boolean</a>        为  <a href="eval.html#TRUE">TRUE</a>  时，就像执行了  <a href="pattern.html#n">n</a> 
                                                或  <a href="pattern.html#N">N</a>  那样重新计算搜索计数。
                                                否则，返回最近的计算结果 (上次
                                                执行  <a href="pattern.html#n">n</a>  或  <a href="pattern.html#N">N</a>  时 (假定
                                                <a href="options.html#'shortmess'">'shortmess'</a> 里不带 "S")，或者
                                                上次执行本函数时)。
                                                (缺省:  <a href="eval.html#TRUE">TRUE</a> )
                  pattern        <a href="eval.html#String">String</a>         用新模式来重新计算，除非和原有
                                                的模式  <a href="change.html#@%2F">@/</a>  相同。
                                                效果和在调用本函数前先执行以下
                                                命令相同 (<code class="vim">译者注</code>: 区别在于本函
                                                数并不会修改  <a href="change.html#@%2F">@/</a>  的值)
<code class="example">                                                  let @/ = pattern</code>
                                                (缺省:  <a href="change.html#@%2F">@/</a> )
                  timeout        <a href="eval.html#Number">Number</a>         0 或负数代表无超时。否则，在给
                                                定的毫秒数后重计算会超时
                                                (缺省: 0)
                  maxcount       <a href="eval.html#Number">Number</a>         0 或负数代表无限制。否则，指定
                                                重计算时的最大匹配数。如果搜索
                                                超过此数，"total" 值会成为
                                                `maxcount + 1`
                                                (缺省: <a href="options.html#'maxsearchcount'">'maxsearchcount'</a>)
                  pos            <a href="eval.html#List">List</a>           重计算时设定的位置，形如
                                                `[lnum, col, off]`。
                                                改变此值会相应改变 "current"
                                                的返回位置。见  <a href="builtin.html#cursor()">cursor()</a> 、
                                                 <a href="builtin.html#getpos()">getpos()</a> 
                                                (缺省: 光标所在位置)

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetSearchOpts()-&gt;searchcount()</code>

                返回类型: dict<code class="special">&lt;number&gt;</code>


searchdecl(<code class="special">{name}</code> [, <code class="special">{global}</code> [, <code class="special">{thisblock}</code>]])         <b class="vimtag"> <a name="searchdecl()">searchdecl()</a> </b>
                搜索名为 <code class="special">{name}</code> 的声明。

                <code class="special">{global}</code> 参数非零时，按照  <a href="pattern.html#gD">gD</a>  的方式工作，寻找文件中的首个匹
                配。否则按照  <a href="pattern.html#gd">gd</a>  的方式工作，寻找函数里的首个匹配。

                <code class="special">{thisblock}</code> 参数非零时，会忽略那些在光标之前结束的 <code class="special">{}</code> 代码块里
                的匹配。这可以避免匹配到只在其他作用域里有效的变量声明。

                光标会移动到找到的匹配位置上。
                成功时返回零，而失败时返回非零。
                例如:
<code class="example">                        if searchdecl('myvar') == 0</code>
<code class="example">                           echo getline('.')</code>
<code class="example">                        endif</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetName()-&gt;searchdecl()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 

                                                        <b class="vimtag"> <a name="searchpair()">searchpair()</a> </b>
searchpair(<code class="special">{start}</code>, <code class="special">{middle}</code>, <code class="special">{end}</code> [, <code class="special">{flags}</code> [, <code class="special">{skip}</code>
                                [, <code class="special">{stopline}</code> [, <code class="special">{timeout}</code>]]]])
                搜索嵌套的 start-end 组对匹配。可用来查找和一个 "if" 配对的
                "endif"，并跳过两者间其它嵌套的 if/endif 组对。
                搜索从光标开始。默认为正向搜索，<code class="special">{flags}</code> 里包含 'b' 时，则执行
                反向搜索。
                找到匹配时，光标移动到匹配位置，并返回匹配所在的行号。如果没有
                找到匹配，返回 0 或者 -1，光标不会移动。也不会给出错误信息。

                <code class="special">{start}</code>、<code class="special">{middle}</code> 和 <code class="special">{end}</code> 都是模式，见  <a href="pattern.html#pattern">pattern</a> 。这些模式里
                不能包含 \( \) 对，但可以使用 \%( \)。<code class="special">{middle}</code> 非空时，在指定
                的搜索方向上如果找到了该模式，就停留在该位置，但会跳过位于嵌套
                的 start-end 组对里面的匹配。一个典型的应用是:
<code class="example">                        searchpair('\&lt;if\&gt;', '\&lt;else\&gt;', '\&lt;endif\&gt;')</code>
                如果 <code class="special">{middle}</code> 为空，"else" 会被跳过。

                <code class="special">{flags}</code> 里，'b'、'c'、'n'、's'、'w' 和 'W' 标志位的使用方式和
                 <a href="builtin.html#search()">search()</a>  中相同。此外，还可用:
                'r'     重复 (Repeat) 搜索，直到没有更多匹配为止；这样就会找到
                        最外层的组对。隐含使用 'W' 标志位。
                'm'     返回找到的匹配 (Match) 个数，而非匹配位置的行号；使用
                        'r' 时匹配个数可能会 &gt; 1。
                <code class="note">备注</code>: 最好使用 'W' 标志位，以避免搜索在文件末尾处回绕。

                找到 <code class="special">{start}</code>、<code class="special">{middle}</code> 或 <code class="special">{end}</code> 的匹配时，在光标位于匹配开始位
                置时，会计算 <code class="special">{skip}</code> 表达式。计算结果非零时，会跳过该匹配。例
                如，可用于跳过注释内部的匹配。
                <code class="special">{skip}</code> 省略或为空时，接受所有匹配。
                计算 <code class="special">{skip}</code> 时如果出错，搜索会中断并返回 -1。
                <code class="special">{skip}</code> 可以是字符串、匿名函数、函数引用或偏函数。其它类型会报
                错。
                 <a href="vim9.html#:def">:def</a>  函数里，如果 <code class="special">{skip}</code> 参数为字符串常量，它会被编译为指令
                的一部分。

                <code class="special">{stopline}</code> 和 <code class="special">{timeout}</code> 见  <a href="builtin.html#search()">search()</a> 。

                适用 <a href="options.html#'ignorecase'">'ignorecase'</a> 选项，但忽略 <a href="options.html#'magic'">'magic'</a>，模式使用时假设它总是打
                开。

                从当前光标位置的下一个 (取决于搜索方向) 字符开始，搜索
                <code class="special">{start}</code>、<code class="special">{middle}</code> 或 <code class="special">{end}</code> 的匹配。比如:
<code class="example">                        if 1</code>
<code class="example">                          if 2</code>
<code class="example">                          endif 2</code>
<code class="example">                        endif 1</code>
                假定当光标在 "if 2" 的 "i" 上时，开始正向搜索，会找到
                "endif 2"。而如果光标在 "if 2" 之前的一个字符上，那么会找到的
                是 "endif 1"。虽然先找到的是 "if 2"，但它被认为是从 "if 2" 开
                始到 "endif 2" 结束的嵌套 if/endif 组对的一部分，因而会被跳
                过。
                反向搜索且 <code class="special">{end}</code> 匹配多于一个字符时，可以考虑在模式末尾加上
                "\zs"，这样在光标位于 <code class="special">{end}</code> 匹配中间某位置时，仍然可以找到匹配
                的 <code class="special">{start}</code> 匹配 (<code class="vim">译者注</code>: 可以理解为当光标位于 <code class="special">{end}</code> 匹配的中间
                位置时，被视为已超出了组对范围，而加入 "\zs" 后，<code class="special">{end}</code> 的匹配
                位置变成了实际结束模式之后零宽度位置，因此光标仍被视为留在组对
                的内部)。

                例如，要找到 Vim 脚本里的 "endif" 命令:
<code class="example"></code>
<code class="example">        :echo searchpair('\&lt;if\&gt;', '\&lt;el\%[seif]\&gt;', '\&lt;en\%[dif]\&gt;', 'W',</code>
<code class="example">                        \ 'getline(".") =~ "^\\s*\""')</code>
<code class="example"></code>
                光标必须位于待匹配的 "if" 之上或之后。<code class="note">注意</code> 这里使用了单引号字
                符串以避免反斜杠加倍。skip 表达式只会跳过从行首开始的注释，但
                无法识别命令之后的注释。另外，一行中间出现的单词 "en" 或 "if"
                也被当作匹配。
                另一个例子，搜索和 "}" 配对的 "{":
<code class="example"></code>
<code class="example">        :echo searchpair('{', '', '}', 'bW')</code>
<code class="example"></code>
                光标必须位于待匹配的 "}" 之上或之前。如果要额外跳过被语法高亮
                识别为字符串常量中的匹配:
<code class="example"></code>
<code class="example">        :echo searchpair('{', '', '}', 'bW',</code>
<code class="example">             \ 'synIDattr(synID(line("."), col("."), 0), "name") =~? "string"')</code>

                返回类型:  <a href="eval.html#Number">Number</a> 

                                                        <b class="vimtag"> <a name="searchpairpos()">searchpairpos()</a> </b>
searchpairpos(<code class="special">{start}</code>, <code class="special">{middle}</code>, <code class="special">{end}</code> [, <code class="special">{flags}</code> [, <code class="special">{skip}</code>
                                [, <code class="special">{stopline}</code> [, <code class="special">{timeout}</code>]]]])
                和  <a href="builtin.html#searchpair()">searchpair()</a>  类同，但返回匹配位置构成的  <a href="eval.html#List">List</a>  而不仅仅是
                行号。 <a href="eval.html#List">List</a>  的首项是匹配位置的行号，第二项是匹配位置以字节索
                引计算的列号。如果没有找到匹配，返回 [0, 0]。
<code class="example"></code>
<code class="example">                        :let [lnum,col] = searchpairpos('{', '', '}', 'n')</code>

                 <a href="tips.html#match-parens">match-parens</a>  提供一个更复杂更有用的例子。

                返回类型: list<code class="special">&lt;number&gt;</code>

                                                        <b class="vimtag"> <a name="searchpos()">searchpos()</a> </b>
searchpos(<code class="special">{pattern}</code> [, <code class="special">{flags}</code> [, <code class="special">{stopline}</code> [, <code class="special">{timeout}</code> [, <code class="special">{skip}</code>]]]])
                和  <a href="builtin.html#search()">search()</a>  类同，但返回匹配位置构成的  <a href="eval.html#List">List</a>  而不仅仅是行
                号。 <a href="eval.html#List">List</a>  的首项是匹配位置的行号，第二项是匹配位置以字节索引
                计算的列号。如果没有找到匹配，返回 [0, 0]。
                例如:
<code class="example">        :let [lnum, col] = searchpos('mypattern', 'n')</code>
<code class="example"></code>
                'p' 标志位给出时，返回列表里会有一个附加项目，包含匹配的子模式
                号加一，见  <a href="builtin.html#search()-sub-match">search()-sub-match</a> 。例如:
<code class="example">        :let [lnum, col, submatch] = searchpos('\(\l\)\|\(\u\)', 'np')</code>
                此例中，如果找到了小写字母  <a href="pattern.html#%2F\l">/\l</a> ，"submatch" 会等于 2，而如果
                找到了大写字母  <a href="pattern.html#%2F\u">/\u</a> ，会等于 3。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetPattern()-&gt;searchpos()</code>

                返回类型: list<code class="special">&lt;number&gt;</code>


server2client(<code class="special">{clientid}</code>, <code class="special">{string}</code>)                     <b class="vimtag"> <a name="server2client()">server2client()</a> </b>
                向指定的 <code class="special">{clientid}</code> 发送应答字符串。最近刚发送过请求字符串的
                <code class="special">{clientid}</code> 可以通过 expand("<code class="special">&lt;client&gt;</code>") 获取。
                <code class="notvi">{仅当在编译时加入  <a href="various.html#+clientserver">+clientserver</a>  特性才有效}</code>
                成功时返回零，而失败时返回 -1。
                <code class="note">备注</code>:
                应当在接收下一个命令前先保存此客户端 id。换而言之，必须在当前
                接收到的客户端命令返回之前，以及在调用任何会等待用户输入的命令
                之前先保存好此 id。
                另见  <a href="remote.html#clientserver">clientserver</a> 。
                示例:
<code class="example">                        :echo server2client(expand("&lt;client&gt;"), "HELLO")</code>
<code class="example"></code>
                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetClientId()-&gt;server2client(string)</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


serverlist()                                            <b class="vimtag"> <a name="serverlist()">serverlist()</a> </b>
                返回以换行符分隔的字符串，包含所有的可用服务器名。
                如果没有服务器可用或者该信息无法取得，返回空串。另见
                 <a href="remote.html#clientserver">clientserver</a> 。
                <code class="notvi">{仅当编译时加入  <a href="various.html#+clientserver">+clientserver</a>  特性才有效}</code>
                示例:
<code class="example">                        :echo serverlist()</code>

                返回类型:  <a href="eval.html#String">String</a> 


setbufline(<code class="special">{buf}</code>, <code class="special">{lnum}</code>, <code class="special">{text}</code>)                       <b class="vimtag"> <a name="setbufline()">setbufline()</a> </b>
                设置缓冲区 <code class="special">{buf}</code> 的第 <code class="special">{lnum}</code> 行文本为 <code class="special">{text}</code>。相当于为指定缓冲
                区调用  <a href="builtin.html#setline()">setline()</a> 。

                本函数只能用于已加载的缓冲区。如有必要，可先调用  <a href="builtin.html#bufload()">bufload()</a> 。

                要插入行，可用  <a href="builtin.html#appendbufline()">appendbufline()</a> 。
                <code class="special">{lnum}</code> 中现有的文本属性都会被消除。

                <code class="special">{text}</code> 可以是字符串，用来设置单行文本，也可以是字符串列表，用
                来设置多行文本。如果列表范围超出缓冲区的末行，超出部分会自动作
                为新行添加。如果列表为空，不会对缓冲区作任何修改，并返回零。

                <code class="special">{buf}</code> 的用法见上述  <a href="builtin.html#bufname()">bufname()</a> 。

                <code class="special">{lnum}</code> 的用法可见  <a href="builtin.html#setline()">setline()</a> 。"$" 指定 <code class="special">{buf}</code> 缓冲区的末行。
                如果 <code class="special">{lnum}</code> 正好位于末行的下一行，<code class="special">{text}</code> 会被添加在末行之后。

                如果 <code class="special">{buf}</code> 不是合法缓冲区、缓冲区未加载或 <code class="special">{lnum}</code> 不合法，返回
                1。 <a href="vim9.html#Vim9">Vim9</a>  脚本里会报错。
                成功时返回 0。

                也可用作  <a href="eval.html#method">method</a> ，基是作为第三个参数传递的:
<code class="example">                        GetText()-&gt;setbufline(buf, lnum)</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


setbufvar(<code class="special">{buf}</code>, <code class="special">{varname}</code>, <code class="special">{val}</code>)                      <b class="vimtag"> <a name="setbufvar()">setbufvar()</a> </b>
                将名为 <code class="special">{varname}</code> 的选项或缓冲区 <code class="special">{buf}</code> 的局部变量设置为 <code class="special">{val}</code>。
                也可用于全局或者窗口局部选项，但不能用于全局或者窗口局部变量。
                如果设置了窗口局部选项，其全局值不会被修改。
                <code class="special">{buf}</code> 的用法见上述  <a href="builtin.html#bufname()">bufname()</a> 。
                <code class="special">{varname}</code> 参数是字符串。<code class="note">注意</code> 这里不能使用 "b:" 前缀 (<code class="vim">译者注</code>:
                选项须以 "&amp;" 开头)。
                示例:
<code class="example">                        :call setbufvar(1, "&amp;mod", 1)</code>
<code class="example">                        :call setbufvar("todo", "myvar", "foobar")</code>
                该命令在沙盘里不可用  <a href="eval.html#sandbox">sandbox</a> 。

                也可用作  <a href="eval.html#method">method</a> ，基是作为第三个参数传递的:
<code class="example">                        GetValue()-&gt;setbufvar(buf, varname)</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


setcellwidths(<code class="special">{list}</code>)                                   <b class="vimtag"> <a name="setcellwidths()">setcellwidths()</a> </b>
                指定不同字符范围的显示宽度覆盖值。用于在终端显示时告知 Vim 宽
                字符以屏幕单元计的显示宽度。此设置会覆盖 <a href="options.html#'ambiwidth'">'ambiwidth'</a> 的效果。
                示例:
<code class="example">                   call setcellwidths([</code>
<code class="example">                                \ [0x111, 0x111, 1],</code>
<code class="example">                                \ [0x2194, 0x2199, 2],</code>
<code class="example">                                \ ])</code>
<code class="example"></code>
                <code class="special">{list}</code> 参数为列表，每个列表项是由三个数值组成的子列表:
                [<code class="special">{low}</code>, <code class="special">{high}</code>, <code class="special">{width}</code>]。              <b class="vimtag"> <a name="E1109">E1109</a> </b> <b class="vimtag"> <a name="E1110">E1110</a> </b>
                "low" 和 "high" 可以相同，此时表示单个字符。否则，则表示从
                "low" 到 "high" (闭区间) 的字符范围。   <b class="vimtag"> <a name="E1111">E1111</a> </b> <b class="vimtag"> <a name="E1114">E1114</a> </b>
                只能指定值为 0x80 和更高的字符。

                "width" 只能是 1 或 2，指定字符以屏幕单元计的显示宽度。
                                                        <b class="vimtag"> <a name="E1112">E1112</a> </b>
                如果参数不合法或范围相互有重叠，报错。  <b class="vimtag"> <a name="E1113">E1113</a> </b>

                如果新值导致 <a href="options.html#'fillchars'">'fillchars'</a> 或 <a href="options.html#'listchars'">'listchars'</a> 非法 (<code class="vim">译者注</code>: 这些选项
                只接受单宽字符)，拒绝新值并报错。

                要清除现有的覆盖值，可传递空 <code class="special">{list}</code>:
<code class="example">                   setcellwidths([]);</code>
<code class="example"></code>
                用 $VIMRUNTIME/tools/emoji_list.vim 脚本可查看已知表情符号的显
                示效果。移动光标穿过文本，检查一下每个表情符号，确认终端实际显
                示的单元宽度是否与 Vim 记录的宽度一致。如果显示不正确，请相应
                调整 <code class="special">{list}</code> 参数。

                返回类型:  <a href="eval.html#Number">Number</a> 


setcharpos(<code class="special">{expr}</code>, <code class="special">{list}</code>)                              <b class="vimtag"> <a name="setcharpos()">setcharpos()</a> </b>
                和  <a href="builtin.html#setpos()">setpos()</a>  类同，但使用字符索引而非字节索引来指定行内的列
                号。

                示例:
                假定第 8 行的文本是 "여보세요"，执行:
<code class="example">                        call setcharpos('.', [0, 8, 4, 0])</code>
                会定位光标在第四个字符 '요' 上。
<code class="example">                        call setpos('.', [0, 8, 4, 0])</code>
                会定位光标在第二个字符 '보' 上。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetPosition()-&gt;setcharpos('.')</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


setcharsearch(<code class="special">{dict}</code>)                                   <b class="vimtag"> <a name="setcharsearch()">setcharsearch()</a> </b>
                用 <code class="special">{dict}</code> 设置当前字符搜索相关信息，该字典包含以下条目:

                    char        下次执行  <a href="motion.html#,">,</a>  或  <a href="motion.html#;">;</a>  命令使用的字符；空串会清除
                                字符搜索
                    forward     字符搜索的方向；1 表示正向搜索，0 表示反向搜索
                    until       字符搜索的类型；1 表示使用了  <a href="motion.html#t">t</a>  为  <a href="motion.html#T">T</a>  字符搜
                                索，0 表示使用了  <a href="motion.html#f">f</a>  或  <a href="motion.html#F">F</a>  字符搜索

                可用于在脚本中保存/恢复用户的字符搜索相关信息:
<code class="example">                        :let prevsearch = getcharsearch()</code>
<code class="example">                        :" 执行会改写用户搜索上下文的命令</code>
<code class="example">                        :call setcharsearch(prevsearch)</code>
                另见  <a href="builtin.html#getcharsearch()">getcharsearch()</a> 。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        SavedSearch()-&gt;setcharsearch()</code>

                返回类型: dict<code class="special">&lt;any&gt;</code>


setcmdline(<code class="special">{str}</code> [, <code class="special">{pos}</code>])                             <b class="vimtag"> <a name="setcmdline()">setcmdline()</a> </b>
                将命令行设置为 <code class="special">{str}</code>，并设置光标位置为 <code class="special">{pos}</code>。
                <code class="special">{pos}</code> 省略时，光标会定位于文本之后。
                成功时返回 0，如果当前不在编辑命令行，返回 1。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetText()-&gt;setcmdline()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


setcmdpos(<code class="special">{pos}</code>)                                        <b class="vimtag"> <a name="setcmdpos()">setcmdpos()</a> </b>
                将命令行中的光标设置到字节位置 <code class="special">{pos}</code>。首列位置为 1。
                 <a href="builtin.html#getcmdpos()">getcmdpos()</a>  可获取当前的光标位置。
                只有在编辑命令行时有效，所以必须在  <a href="cmdline.html#c_CTRL-\_e">c_CTRL-\_e</a> 、 <a href="cmdline.html#c_CTRL-R_%20">c_CTRL-R_=</a> 
                或带 '=' 的  <a href="cmdline.html#c_CTRL-R_CTRL-R">c_CTRL-R_CTRL-R</a>  里使用。对于  <a href="cmdline.html#c_CTRL-\_e">c_CTRL-\_e</a>  和带
                '=' 的  <a href="cmdline.html#c_CTRL-R_CTRL-R">c_CTRL-R_CTRL-R</a> ，先把命令行设为表达式的内容之后，再设
                置光标位置。而对于  <a href="cmdline.html#c_CTRL-R_%20">c_CTRL-R_=</a> ，在计算表达式之后，先设置光标
                位置，再插入表达式返回的文本。
                如果指定的数值非常大，光标会移动到行尾。如果小于 1，则结果没有
                定义。
                成功时返回 0，如果当前不在编辑命令行，返回 1。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetPos()-&gt;setcmdpos()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


setcursorcharpos(<code class="special">{lnum}</code>, <code class="special">{col}</code> [, <code class="special">{off}</code>])               <b class="vimtag"> <a name="setcursorcharpos()">setcursorcharpos()</a> </b>
setcursorcharpos(<code class="special">{list}</code>)
                和  <a href="builtin.html#cursor()">cursor()</a>  类同，但使用字符索引而非字节索引来指定行内的列
                号。

                示例:
                假定第 4 行的文本是 "여보세요"，执行:
<code class="example">                        call setcursorcharpos(4, 3)</code>
                会定位光标在第三个字符 '세' 上。
<code class="example">                        call cursor(4, 3)</code>
                会定位光标在第一个字符 '여' 上。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetCursorPos()-&gt;setcursorcharpos()</code>

                成功设置指定位置时返回 0，否则返回 -1。
                返回类型:  <a href="eval.html#Number">Number</a> 


setenv(<code class="special">{name}</code>, <code class="special">{val}</code>)                                   <b class="vimtag"> <a name="setenv()">setenv()</a> </b>
                将名为 <code class="special">{name}</code> 的环境变量设置为 <code class="special">{val}</code>。例如:
<code class="example">                        call setenv('HOME', '/home/myhome')</code>
<code class="example"></code>
                <code class="special">{val}</code> 为  <a href="eval.html#v:null">v:null</a>  时，删除该环境变量。
                另见  <a href="eval.html#expr-env">expr-env</a> 。

                也可用作  <a href="eval.html#method">method</a> ，基是作为第二个参数传递的:
<code class="example">                        GetPath()-&gt;setenv('PATH')</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


setfperm(<code class="special">{fname}</code>, <code class="special">{mode}</code>)                               <b class="vimtag"> <a name="setfperm()">setfperm()</a> </b> <b class="vimtag"> <a name="chmod">chmod</a> </b>
                设置 <code class="special">{fname}</code> 的文件权限为 <code class="special">{mode}</code>。
                <code class="special">{mode}</code> 必须是包含 9 个字符的字符串。形如 "rwxrwxrwx"，每组
                "rwx" 标志位分别代表文件所有者、文件所属组和其它用户的权限。
                '-' 字符代表关闭指定权限，其他字符代表开启权限。不支持多字节字
                符。

                例如，"rw-r-----" 意味着用户可读写，组成员只读，其他用户不可访
                问。"xx-x-----" 的作用相同。

                成功时返回非零，失败时返回零。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetFilename()-&gt;setfperm(mode)</code>

                要读取权限，可见  <a href="builtin.html#getfperm()">getfperm()</a> 。

                返回类型:  <a href="eval.html#Number">Number</a> 


setline(<code class="special">{lnum}</code>, <code class="special">{text}</code>)                                 <b class="vimtag"> <a name="setline()">setline()</a> </b>
                设置当前缓冲区第 <code class="special">{lnum}</code> 行的内容为 <code class="special">{text}</code>。要插入新行，可用
                 <a href="builtin.html#append()">append()</a> 。要设置其它缓冲区里的行，可用  <a href="builtin.html#setbufline()">setbufline()</a> 。
                <code class="special">{lnum}</code> 中现有的文本属性都会被消除。见  <a href="textprop.html#text-prop-cleared">text-prop-cleared</a> 

                <code class="special">{lnum}</code> 的用法可见  <a href="builtin.html#getline()">getline()</a> 。
                如果 <code class="special">{lnum}</code> 正好位于末行的下一行，<code class="special">{text}</code> 会被添加在末行之后。
                <code class="special">{text}</code> 可以是任何类型或任何类型的列表，每个项目都会被转换为字
                符串。如果 <code class="special">{text}</code> 为空列表，不会对缓冲区作任何修改，并返回
                FALSE。

                成功时返回 FALSE。失败时 (多数是因为 <code class="special">{lnum}</code> 非法) 返回 TRUE。
                 <a href="vim9.html#Vim9">Vim9</a>  脚本里如果 <code class="special">{lnum}</code> 非法，会报错。

                例如:
<code class="example">                        :call setline(5, strftime("%c"))</code>
<code class="example"></code>
                <code class="special">{text}</code> 为  <a href="eval.html#List">List</a>  时，用其中的列表项来设置从第 <code class="special">{lnum}</code> 行开始的
                多行文本。例如:
<code class="example">                        :call setline(5, ['aaa', 'bbb', 'ccc'])</code>
                等价于:
<code class="example">                        :for [n, l] in [[5, 'aaa'], [6, 'bbb'], [7, 'ccc']]</code>
<code class="example">                        :  call setline(n, l)</code>
<code class="example">                        :endfor</code>
<code class="example"></code>
                <code class="note">注意</code>: 本函数不设置 '[ 和 '] 位置标记。

                也可用作  <a href="eval.html#method">method</a> ，基是作为第二个参数传递的:
<code class="example">                        GetText()-&gt;setline(lnum)</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


setloclist(<code class="special">{nr}</code>, <code class="special">{list}</code> [, <code class="special">{action}</code> [, <code class="special">{what}</code>]])        <b class="vimtag"> <a name="setloclist()">setloclist()</a> </b>
                创建、替代或新增项目到窗口 <code class="special">{nr}</code> 的位置列表。
                <code class="special">{nr}</code> 可以是窗口号或  <a href="windows.html#window-ID">window-ID</a> 。<code class="special">{nr}</code> 为零时，使用当前窗口。

                如果指定的是位置列表窗口，会修改在该窗口中显示的位置列表。如
                果窗口号 <code class="special">{nr}</code> 非法，返回 -1。
                其它同  <a href="builtin.html#setqflist()">setqflist()</a> 。
                另见  <a href="quickfix.html#location-list">location-list</a> 。

                <code class="special">{action}</code> 的用法可见  <a href="builtin.html#setqflist-action">setqflist-action</a> 。

                可选的 <code class="special">{what}</code> 字典参数给出时，只设置 <code class="special">{what}</code> 中列出的项目。关于
                <code class="special">{what}</code> 支持的键列表，参见  <a href="builtin.html#setqflist()">setqflist()</a> 。

                也可用作  <a href="eval.html#method">method</a> ，基是作为第二个参数传递的:
<code class="example">                        GetLoclist()-&gt;setloclist(winnr)</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


setmatches(<code class="special">{list}</code> [, <code class="special">{win}</code>])                            <b class="vimtag"> <a name="setmatches()">setmatches()</a> </b>
                恢复  <a href="builtin.html#getmatches()">getmatches()</a>  为当前窗口保存的匹配列表。成功时返回 0，否
                则返回 -1。恢复匹配列表前，先清除所有的现有匹配。示例见
                 <a href="builtin.html#getmatches()">getmatches()</a> 。
                <code class="special">{win}</code> 给出时，使用带此编号或 ID 的窗口，而非当前窗口。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetMatches()-&gt;setmatches()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


setpos(<code class="special">{expr}</code>, <code class="special">{list}</code>)                                  <b class="vimtag"> <a name="setpos()">setpos()</a> </b>
                根据字符串 <code class="special">{expr}</code> 的内容，设置光标或位置标记位置。可选值有:
                        .       光标
                        'x      位置标记 x

                <code class="special">{list}</code> 必须是带四个或五个数值的  <a href="eval.html#List">List</a> :
                    [bufnum, lnum, col, off]
                    [bufnum, lnum, col, off, curswant]

                "bufnum" 是缓冲区号。零代表当前缓冲区。设置大写位置标记时，
                "bufnum" 会是位置标记的一部分。对其它的位置标记，它会用于指定
                设置位置标记的缓冲区。 <a href="builtin.html#bufnr()">bufnr()</a>  函数可用来把文件名转化为缓冲区
                号。
                设置光标和 ' 位置标记时，忽略 "bufnum"，因为它们和窗口相关，而
                不是和缓冲区相关。
                不修改跳转表。

                "lnum" 和 "col" 给出缓冲区里的行列位置。首列列号为 1。"lnum"
                为零时，会删除位置标记。如果  "col" 小于 1，会以 1 代替。列号
                要使用字符计数而不是字节计数，用  <a href="builtin.html#setcharpos()">setcharpos()</a> 。

                "off" 值仅在激活 <a href="options.html#'virtualedit'">'virtualedit'</a> 时才使用。这是从对应字符的起始
                位置算起以屏幕列为单位的偏移量。例如，在制表符的内部或在一行文
                本末尾之后的某个位置。

                "curswant" 值只在设置光标位置时才使用。它指定垂直移动光标时的
                首选列。"curswant" 省略时，不设置首选列。如果给出此值但用于设
                置位置标记，不会有任何效果。

                <code class="note">备注</code> 对于 '&lt; 和 '&gt; (即可视选择的起止位置)，改变它们的行号可能
                会使两者在实际中被调换，以保证 '&lt; 始终在 '&gt; 之前。

                成功设置指定位置时返回 0，否则返回 -1。
                如果 <code class="special">{expr}</code> 不合法，报错。

                另见  <a href="builtin.html#setcharpos()">setcharpos()</a> 、 <a href="builtin.html#getpos()">getpos()</a>  和  <a href="builtin.html#getcurpos()">getcurpos()</a> 。

                本函数并不能恢复垂直移动使用的首选列 (<code class="vim">译者注</code>: 似已过时且和前述
                的 "curswant" 参数的描述不一致)；如果用它设置了光标位置， <a href="motion.html#j">j</a> 
                和  <a href="motion.html#k">k</a>  动作会跳转到上次的列上！ <a href="builtin.html#cursor()">cursor()</a>  可用来同时设置光标位
                置和首选列。另见  <a href="builtin.html#winrestview()">winrestview()</a>  里的 "curswant" 键。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetPosition()-&gt;setpos('.')</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


setqflist(<code class="special">{list}</code> [, <code class="special">{action}</code> [, <code class="special">{what}</code>]])               <b class="vimtag"> <a name="setqflist()">setqflist()</a> </b>
                创建、替代或新增项目到快速修复表。

                可选的 <code class="special">{what}</code> 字典参数给出时，只设置 <code class="special">{what}</code> 中列出的项目而忽略
                首个参数 <code class="special">{list}</code>。<code class="special">{what}</code> 支持的项目见下。
                                                        <b class="vimtag"> <a name="setqflist-what">setqflist-what</a> </b>
                <code class="special">{what}</code> 省略时，使用 <code class="special">{list}</code> 里的项目。每个列表项是一个字典。忽
                略 <code class="special">{list}</code> 里非字典的项目。字典可以包含以下条目:

                    bufnr       缓冲区号；必须为合法缓冲区的编号
                    filename    文件名；仅当 "bufnr" 不存在或者不合法时才使用
                    module      模块名；给出时，在快速修复错误窗口里用来取代文
                                件名
                    lnum        缓冲区里的行号
                    end_lnum    项目跨越多行时末行的行号
                    pattern     用于定位错误的搜索模式
                    col         列号
                    vcol        非零: "col" 代表显示单元
                                零: "col" 代表字节索引
                    end_col     项目跨越多列时末列的列号
                    nr          错误号
                    text        错误描述
                    type        错误类型，如 'E'、'W' 等。
                    valid       此错误信息已被识别
                    user_data   项目关联的定制数据，可为任意类型。

                "col"、"vcol"、"nr"、"type" 和 "text" 条目可选。"lnum" 或
                "pattern" 条目两者之一用来定位匹配的错误行。
                如果 "filename" 和 "bufnr" 条目都不存在，或者 "lnum" 和
                "pattern" 条目都不存在，那么此列表项不被当作错误行处理。
                "pattern" 和 "lnum" 同时给出时，优先使用 "pattern"。
                "valid" 条目省略时，当 "bufnr" 为合法缓冲区或 "filename" 存在
                时，自动置位 valid 标志位。
                <code class="special">{list}</code> 为空时，快速修复列表会被清除。
                <code class="note">注意</code> 此列表和  <a href="builtin.html#getqflist()">getqflist()</a>  的返回值不尽相同。

                <code class="special">{action}</code> 值:                            <b class="vimtag"> <a name="setqflist-action">setqflist-action</a> </b>
                                                        <b class="vimtag"> <a name="E927">E927</a> </b>
                'a'     将 <code class="special">{list}</code> 里的项目加入已有的快速修复列表。如果快速修复
                        列表尚不存在，会建立新表。

                'r'     用 <code class="special">{list}</code> 里的项目来替换当前快速修复列表里的项目。也可
                        用于清除快速修复列表:
<code class="example">                                :call setqflist([], 'r')</code>

                'u'     和 'r' 类似，但试图保留快速修复列表里的当前选择。
                'f'     释放快速修复堆栈上的所有快速修复列表。

                <code class="special">{action}</code> 省略或为 ' ' 时，建立新表。在栈上当前快速修复列表的位
                置之后加入新的快速修复列表，同时释放其后的所有列表。要在栈的尾
                部加入新快速修复列表，请将 <code class="special">{what}</code> 中的 "nr" 设为 "$"。

                <code class="special">{what}</code> 支持以下条目:
                    context     快速修复列表的上下文。见  <a href="quickfix.html#quickfix-context">quickfix-context</a> 
                    efm         解析 "lines" 时使用的 errorformat。缺省使用
                                <a href="options.html#'errorformat'">'errorformat'</a> 选项值。见  <a href="quickfix.html#quickfix-parse">quickfix-parse</a> 
                    id          快速修复列表的标识号  <a href="quickfix.html#quickfix-ID">quickfix-ID</a> 
                    idx         <code class="special">{id}</code> 或 <code class="special">{nr}</code> 指定的快速修复列表中，当前项的索
                                引。设为 '$' 时，将列表的末项设为当前项。见
                                 <a href="quickfix.html#quickfix-index">quickfix-index</a> 
                    items       快速修复项目的列表，同 <code class="special">{list}</code> 参数。
                    lines       文本行列表，此列表会用 <code class="special">{efm}</code> 条目 (<code class="vim">译者注</code>: 原
                                文作 <a href="options.html#'errorformat'">'errorformat'</a>，似不妥) 进行解析，并将其结
                                果项目加入快速修复列表 <code class="special">{nr}</code> 或 <code class="special">{id}</code>。此条目只
                                支持  <a href="eval.html#List">List</a>  类型。见  <a href="quickfix.html#quickfix-parse">quickfix-parse</a> 
                    nr          快速修复堆栈上的快速修复列表编号；零代表当前快
                                速修复列表，而 "$" 代表最后的快速修复列表。
                    quickfixtextfunc
                                获取在快速修复窗口中显示文本的函数。支持函数
                                名、函数引用或匿名函数。此函数的具体实现方法和
                                示例可参见  <a href="quickfix.html#quickfix-window-function">quickfix-window-function</a> 。
                    title       快速修复列表的标题。见  <a href="quickfix.html#quickfix-title">quickfix-title</a> 
                <code class="special">{what}</code> 中出现的尚不支持的条目会被忽略。
                "nr" 省略时，默认修改当前快速修复列表。要创建新的快速修复列
                表，可将 "nr" 设为比快速修复栈当前大小大一的值。
                在修改现有快速修复列表时，为了确保操作的是正确的列表，应该使用
                "id" 而不是 "nr" 来指定列表。

                示例 (另见  <a href="quickfix.html#setqflist-examples">setqflist-examples</a> ):
<code class="example">                   :call setqflist([], 'r', {'title': 'My search'})</code>
<code class="example">                   :call setqflist([], 'r', {'nr': 2, 'title': 'Errors'})</code>
<code class="example">                   :call setqflist([], 'a', {'id':qfid, 'lines':["F1:10:L10"]})</code>

                成功时返回零，而失败时返回 -1。

                本函数可用来独立于 <a href="options.html#'errorformat'">'errorformat'</a> 的设置创建快速修复列表。使用
                `:cc 1` 之类的命令可跳转到列表中第一个条目。

                也可用作  <a href="eval.html#method">method</a> ，基是作为第二个参数传递的:
<code class="example">                        GetErrorlist()-&gt;setqflist()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


setreg(<code class="special">{regname}</code>, <code class="special">{value}</code> [, <code class="special">{options}</code>])                <b class="vimtag"> <a name="setreg()">setreg()</a> </b>
                将寄存器 <code class="special">{regname}</code> 的值设为 <code class="special">{value}</code>。
                <code class="special">{regname}</code> 为 "" 或 "@" 时，使用无名寄存器 '"'。
                <code class="special">{regname}</code> 参数为字符串。 <a href="vim9.html#Vim9-script">Vim9-script</a>  里 <code class="special">{regname}</code> 必须为单个
                字符。

                <code class="special">{value}</code> 可以是  <a href="builtin.html#getreg()">getreg()</a>  或  <a href="builtin.html#getreginfo()">getreginfo()</a>  返回的任何类型，包
                括字符串、 <a href="eval.html#List">List</a>  或  <a href="eval.html#Dict">Dict</a> 。
                <code class="special">{options}</code> 包含 "a" 或者 <code class="special">{regname}</code> 为大写时，该值被附加于现有值
                之后，而非替代现有值。

                <code class="special">{options}</code> 还可以指定寄存器新的类型规格:
                    "c" 或 "v"         <a href="motion.html#characterwise">characterwise</a>  (面向字符) 模式
                    "l" 或 "V"         <a href="motion.html#linewise">linewise</a>  (面向行) 模式
                    "b" 或 "&lt;<code class="keystroke">CTRL-V</code>&gt;"  <a href="visual.html#blockwise-visual">blockwise-visual</a>  (面向列块) 模式
                如果在 "b" 或 "&lt;<code class="keystroke">CTRL-V</code>&gt;" 之后紧跟一个数值，该数值会用作选择区
                的宽度 - 如果省略数值，那么列块的宽度会自动设为选择区中最长行
                的字符数 (其中 <code class="special">&lt;Tab&gt;</code> 被视作单个字符)。

                <code class="special">{options}</code> 未指定寄存器类型规格时，如果 <code class="special">{value}</code> 为字符串，缺省
                使用字符模式，除非 <code class="special">{value}</code> 以 <code class="special">&lt;NL&gt;</code> 结尾，此时使用行模式。而如
                果 <code class="special">{value}</code> 为列表，缺省会使用行模式。不会自动选择列块模式。
                成功时返回零，而失败时返回非零。

                                                        <b class="vimtag"> <a name="E883">E883</a> </b>
                <code class="note">备注</code>: 在设置搜索和表达式寄存器 (<code class="vim">译者注</code>:  <code class="badlink">'/</code>  和  <code class="badlink">'=</code> ) 时，不能
                使用两个或更多项目的  <a href="eval.html#List">List</a> 。
                       <a href="eval.html#List">List</a> 。无项目的列表相当于空串。

                示例:
<code class="example">                        :call setreg(v:register, @*)</code>
<code class="example">                        :call setreg('*', @%, 'ac')</code>
<code class="example">                        :call setreg('a', "1\n2\n3", 'b5')</code>
<code class="example">                        :call setreg('"', { 'points_to': 'a'})</code>
<code class="example"></code>
                本例说明如何使用函数来保存和恢复寄存器:
<code class="example">                        :let var_a = getreginfo()</code>
<code class="example">                        :call setreg('a', var_a)</code>
                或:
<code class="example">                        :let var_a = getreg('a'， 1)</code>
<code class="example">                        :let var_amode = getregtype('a')</code>
<code class="example">                            ....</code>
<code class="example">                        :call setreg('a', var_a, var_amode)</code>
<code class="example"></code>
                <code class="note">备注</code>: 如果在调用  <a href="builtin.html#getreg()">getreg()</a>  时不给出第三个参数，就无法可靠地恢
                复寄存器的原始内容，因为此时，换行符和 Nul 字节都会用换行符表
                示，见  <a href="pattern.html#NL-used-for-Nul">NL-used-for-Nul</a> )。

                也可以通过向寄存器附加空串来改变寄存器类型，而不修改其原有内
                容:
<code class="example">                        :call setreg('a', '', 'al')</code>
<code class="example"></code>
                也可用作  <a href="eval.html#method">method</a> ，基是作为第二个参数传递的:
<code class="example">                        GetText()-&gt;setreg('a')</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


settabvar(<code class="special">{tabnr}</code>, <code class="special">{varname}</code>, <code class="special">{val}</code>)                    <b class="vimtag"> <a name="settabvar()">settabvar()</a> </b>
                将标签页 <code class="special">{tabnr}</code> 名为 <code class="special">{varname}</code> 的局部变量设置为 <code class="special">{val}</code>。
                 <a href="eval.html#t:var">t:var</a> 
                <code class="special">{varname}</code> 参数是字符串。
                <code class="note">注意</code> 自动命令会被阻塞，某些副作用可能不会触发，比如设置
                <a href="options.html#'filetype'">'filetype'</a> 的时候就不会触发相应的自动命令 (<code class="vim">译者注</code>: 本函数不能
                用于设置选项，所以此<code class="note">备注</code>并无意义)。
                <code class="note">注意</code> 这里不能使用 "t:" 前缀。
                标签页的编号从一开始。
                该命令在沙盘里不可用  <a href="eval.html#sandbox">sandbox</a> 。

                也可用作  <a href="eval.html#method">method</a> ，基是作为第三个参数传递的:
<code class="example">                        GetValue()-&gt;settabvar(tab, name)</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


settabwinvar(<code class="special">{tabnr}</code>, <code class="special">{winnr}</code>, <code class="special">{varname}</code>, <code class="special">{val}</code>)        <b class="vimtag"> <a name="settabwinvar()">settabwinvar()</a> </b>
                将名为 <code class="special">{varname}</code> 的选项或在标签页 <code class="special">{tabnr}</code> 中的窗口 <code class="special">{nr}</code> 的局部
                变量设置为 <code class="special">{val}</code>。
                标签页编号从一开始。对于当前标签页，可直接用  <a href="builtin.html#setwinvar()">setwinvar()</a> 。
                <code class="special">{winnr}</code> 可以是窗口号或  <a href="windows.html#window-ID">window-ID</a> 。<code class="special">{winnr}</code> 为零时，使用当前窗
                口。
                <code class="note">注意</code> 自动命令会被阻塞，某些副作用可能不会触发，比如设置
                <a href="options.html#'filetype'">'filetype'</a> 或 <a href="options.html#'syntax'">'syntax'</a> 的时候就不会触发相应的自动命令。
                也可用于全局或者缓冲区局部选项，但不能用于全局或者缓冲区局部变
                量。如果设置了缓冲区局部选项，其全局值不会被修改。
                <code class="note">注意</code> 这里不能使用 "w:" 前缀 (<code class="vim">译者注</code>: 选项须以 "&amp;" 开头)。
                示例:
<code class="example">                        :call settabwinvar(1, 1, "&amp;list", 0)</code>
<code class="example">                        :call settabwinvar(3, 2, "myvar", "foobar")</code>
                该命令在沙盘里不可用  <a href="eval.html#sandbox">sandbox</a> 。

                也可用作  <a href="eval.html#method">method</a> ，基是作为第四个参数传递的:
<code class="example">                        GetValue()-&gt;settabwinvar(tab, winnr, name)</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


settagstack(<code class="special">{nr}</code>, <code class="special">{dict}</code> [, <code class="special">{action}</code>])                  <b class="vimtag"> <a name="settagstack()">settagstack()</a> </b>
                用 <code class="special">{dict}</code> 来修改窗口 <code class="special">{nr}</code> 的标签栈。
                <code class="special">{nr}</code> 可为窗口号或  <a href="windows.html#window-ID">window-ID</a> 。

                要查阅 <code class="special">{dict}</code> 支持项目的列表，可参考  <a href="builtin.html#gettagstack()">gettagstack()</a>  的返回字
                典。"curidx" 的修改在标签栈项目修改之前生效。
                                                        <b class="vimtag"> <a name="E962">E962</a> </b>
                <code class="special">{action}</code> 参数决定如何修改标签栈:
                - <code class="special">{action}</code> 省略或为 'r' (Replace) 时，标签栈被整体替换。
                - <code class="special">{action}</code> 为 'a' (Append) 时，将 <code class="special">{dict}</code> 中的新项压进标签栈。
                - <code class="special">{action}</code> 是 't' (Truncate) 时，删除标签栈的当前项 (可被
                  <code class="special">{dict}</code> 中设置的 "curidx" 项覆盖) 及之后的所有项目，然后将
                  <code class="special">{dict}</code> 中的新项压进标签栈。

                修改完成后，当前索引被设为标签栈的新长度加一。

                成功时返回零，而失败则返回 -1。

                示例 (更多示例可见  <code class="badlink">tag-stack-examples</code> ):
                    清空窗口 3 的标签栈:
<code class="example">                        call settagstack(3, {'items' : []})</code>
<code class="example"></code>
                    保存并恢复标签栈:
<code class="example">                        let stack = gettagstack(1003)</code>
<code class="example">                        " 完成一些别的操作</code>
<code class="example">                        call settagstack(1003, stack)</code>
<code class="example">                        unlet stack</code>

                也可用作  <a href="eval.html#method">method</a> ，基是作为第二个参数传递的:
<code class="example">                        GetStack()-&gt;settagstack(winnr)</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


setwinvar(<code class="special">{winnr}</code>, <code class="special">{varname}</code>, <code class="special">{val}</code>)                    <b class="vimtag"> <a name="setwinvar()">setwinvar()</a> </b>
                和  <a href="builtin.html#settabwinvar()">settabwinvar()</a>  类同，但只用于当前标签页。
                示例:
<code class="example">                        :call setwinvar(1, "&amp;list", 0)</code>
<code class="example">                        :call setwinvar(2, "myvar", "foobar")</code>
<code class="example"></code>
                也可用作  <a href="eval.html#method">method</a> ，基是作为第三个参数传递的:
<code class="example">                        GetValue()-&gt;setwinvar(winnr, name)</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


sha256(<code class="special">{expr}</code>)                                          <b class="vimtag"> <a name="sha256()">sha256()</a> </b>
                返回  <code class="special">{expr}</code> 的 SHA256 校验码，类型为 64 位十六进制字符串。
                <code class="special">{expr}</code> 可以是字符串或 blob。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetText()-&gt;sha256()</code>
<code class="example">                        GetBlob()-&gt;sha256()</code>

                返回类型:  <a href="eval.html#String">String</a> 

                <code class="notvi">{仅当编译时加入  <a href="various.html#+cryptv">+cryptv</a>  特性才有效}</code>


shellescape(<code class="special">{string}</code> [, <code class="special">{special}</code>])                     <b class="vimtag"> <a name="shellescape()">shellescape()</a> </b>
                转义 <code class="special">{string}</code> 以便用作外壳命令的参数。
                当 <a href="options.html#'shell'">'shell'</a> 的值包含 powershell (MS-Windows) 或 pwsh
                (MS-Windows、Linux 和 macOS) 时，返回用单引号包围的 <code class="special">{string}</code>，
                并将其内部的单引号加倍。
                在 MS-Windows 上，如果未置位 <a href="options.html#'shellslash'">'shellslash'</a>，返回用双引号包围的
                <code class="special">{string}</code>，并将 <code class="special">{string}</code> 内的双引号加倍。
                否则，返回用单引号包围的 <code class="special">{string}</code>，并把其内部所有的 "'" 替换为
                "'\''"。

                <code class="special">{special}</code> 参数为 Vim 命令中使用的关键字进行额外转义。当它给出
                且不是零值或空串时 ( <a href="eval.html#non-zero-arg">non-zero-arg</a> )，特殊项目如 "!"、"%"、"#"
                和 "<code class="special">&lt;cword&gt;</code>" 等 (见  <a href="builtin.html#expand()">expand()</a>  中列出的项目) 会在前面加上反斜
                杠。 <a href="various.html#:!">:!</a>  命令在执行时，会把该反斜杠删除。

                同样在 <code class="special">{special}</code> 为  <a href="eval.html#non-zero-arg">non-zero-arg</a>  情况下，当 <a href="options.html#'shell'">'shell'</a> 以 "csh"
                结尾时，"!" 字符也会被转义。这是因为 csh 和 tcsh 即使在单引号
                内，仍然会使用 "!" 用于历史替换。

                同样在 <code class="special">{special}</code> 为  <a href="eval.html#non-zero-arg">non-zero-arg</a>  情况下，<code class="special">&lt;NL&gt;</code> 也会被转义。
                当 <a href="options.html#'shell'">'shell'</a> 以 "csh" 结尾时，<code class="special">&lt;NL&gt;</code> 会被转义两次。

                当 <a href="options.html#'shell'">'shell'</a> 以 "fish" 结尾时，"\" 字符会被转义。这是因为 fish
                把 "\" 用作单引号内的转义字符。

                 <a href="various.html#:!">:!</a>  命令的示例:
<code class="example">                    :exe '!dir ' .. shellescape(expand('&lt;cfile&gt;'), 1)</code>
                返回光标下目录名对应目录中的文件列表。 <a href="builtin.html#system()">system()</a>  的示例:
<code class="example">                    :call system("chmod +w -- " .. shellescape(expand("%")))</code>
                另见  <a href="cmdline.html#::S">::S</a> 。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetCommand()-&gt;shellescape()</code>

                返回类型:  <a href="eval.html#String">String</a> 


shiftwidth([<code class="special">{col}</code>])                                     <b class="vimtag"> <a name="shiftwidth()">shiftwidth()</a> </b>
                返回 <a href="options.html#'shiftwidth'">'shiftwidth'</a> 的有效值。通常直接返回 <a href="options.html#'shiftwidth'">'shiftwidth'</a> 的值，但
                如果其值为零，会返回 <a href="options.html#'tabstop'">'tabstop'</a> 的值。本函数最初是在 2012 年由
                7.3.694 补丁版本引入，因此现在基本所有版本都已支持 (不过可选的
                <code class="special">{col}</code> 参数是 8.1.542 版本以后才引入的)。

                参数 <code class="special">{col}</code> 给出时，指定列号，返回该列号所对应的 <a href="options.html#'shiftwidth'">'shiftwidth'</a>
                值。这与 <a href="options.html#'vartabstop'">'vartabstop'</a> 特性有关。如果打开了 <a href="options.html#'vartabstop'">'vartabstop'</a> 设置但
                <code class="special">{col}</code> 省略，默认列号为 1。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetColumn()-&gt;shiftwidth()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


sign_ 函数文档在这里:  <a href="sign.html#sign-functions-details">sign-functions-details</a> 。


simplify(<code class="special">{filename}</code>)                                    <b class="vimtag"> <a name="simplify()">simplify()</a> </b>
                在不改变含义的前提下，尽可能简化文件名。不会解析 (MS-Windows
                上) 快捷方式或者 (Unix 上) 符号链接。本函数会保留 <code class="special">{filename}</code>
                中指向当前目录的首个路径部分，也保留拖尾的的路径分隔符。在
                Unix 上，"//path" 会被原样保留，而 "///path" 会被简化为
                "/path" (这符合 posix 规范)。
                示例:
<code class="example">                        simplify("./dir/.././/file/") == "./file/"</code>
                <code class="note">注意</code>: "dir/.." 的组合仅在 "dir" 是可遍历目录或者不存在时才会被
                一起删除。Unix 上，如果 "dir" 是指向同一目录下的符号链接，该组
                合也会被删除。
                要在路径名简化前先解析所有牵涉到的符号链接，请用  <a href="builtin.html#resolve()">resolve()</a> 。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetName()-&gt;simplify()</code>

                返回类型:  <a href="eval.html#String">String</a> 


sin(<code class="special">{expr}</code>)                                             <b class="vimtag"> <a name="sin()">sin()</a> </b>
                返回以弧度测量的 <code class="special">{expr}</code> 的正弦值，类型为  <a href="eval.html#Float">Float</a> 。
                <code class="special">{expr}</code> 的计算结果必须是  <a href="eval.html#Float">Float</a>  或  <a href="eval.html#Number">Number</a> 。否则返回 0.0。
                示例:
<code class="example">                        :echo sin(100)</code>
                        -0.506366
<code class="example">                        :echo sin(-4.01)</code>
                        0.763301

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        Compute()-&gt;sin()</code>

                返回类型:  <a href="eval.html#Float">Float</a> 


sinh(<code class="special">{expr}</code>)                                            <b class="vimtag"> <a name="sinh()">sinh()</a> </b>
                返回 <code class="special">{expr}</code> 的双曲正弦值，类型为  <a href="eval.html#Float">Float</a> ，范围在 [-inf, inf]
                之间。
                <code class="special">{expr}</code> 的计算结果必须是  <a href="eval.html#Float">Float</a>  或  <a href="eval.html#Number">Number</a> 。否则返回 0.0。
                示例:
<code class="example">                        :echo sinh(0.5)</code>
                        0.521095
<code class="example">                        :echo sinh(-0.9)</code>
                        -1.026517

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        Compute()-&gt;sinh()</code>

                返回类型:  <a href="eval.html#Float">Float</a> 


slice(<code class="special">{expr}</code>, <code class="special">{start}</code> [, <code class="special">{end}</code>])                        <b class="vimtag"> <a name="slice()">slice()</a> </b>
                和  <a href="eval.html#slice">slice</a>  切片表达式 "expr[start : end]" 类同，但使用开区间
                ("end" 项不包含)。而且对于字符串，使用的总是字符索引而非字节索
                引，和  <a href="vim9.html#vim9script">vim9script</a>  里对切片的处理规则一致。另外，组合字符被视
                为前导的基准字符的一部分。
                <code class="special">{end}</code> 省略时，切片会继续到 <code class="special">{expr}</code> 结束。
                <code class="special">{end}</code> 为 -1 时，会排除末项。
                如果 <code class="special">{start}</code> 或 <code class="special">{end}</code> 非法，返回空值。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetList()-&gt;slice(offset)</code>

                返回类型: list&lt;<code class="special">{type}</code>&gt; 或 tuple&lt;<code class="special">{type}</code>&gt;


sort(<code class="special">{list}</code> [, <code class="special">{how}</code> [, <code class="special">{dict}</code>]])                       <b class="vimtag"> <a name="sort()">sort()</a> </b> <b class="vimtag"> <a name="E702">E702</a> </b>
                对 <code class="special">{list}</code> 中的项目进行排序，直接原位修改列表。返回 <code class="special">{list}</code>。

                如果不想更动原始输入，先创建备份:
<code class="example">                        :let sortedlist = sort(copy(mylist))</code>
<code class="example"></code>
                <code class="special">{how}</code> 省略或为字符串时，sort() 按照每个项目的字符串表示形式进
                行排序。数值排在字符串之后， <a href="eval.html#List">List</a>  排在数值之后。要给当前缓冲
                区中的文本排序，用  <a href="change.html#:sort">:sort</a> 。

                <code class="special">{how}</code> 给出且为 'i' 时，忽略大小写。老式脚本里，为了后向兼容，
                此值为一时也会忽略大小写。为零时不忽略大小写。

                <code class="special">{how}</code> 给出且为 'l' 时，按照当前排序规则 locale 来进行排序 (实
                现细节: 用 strcoll() 来进行字符串比较)。关于如何查看或设置排序
                规则 locale，见  <a href="mlang.html#:language">:language</a>  (<code class="vim">译者注</code>: 简体中文按中文拼音排序)。
                 <a href="eval.html#v:collate">v:collate</a>  也可用于检查当前 locale。按 locale 的排序通常忽略
                大小写。示例:
<code class="example">                        " 英语 locale 下，ö 的排位顺序与 o 相近。</code>
<code class="example">                        :language collate en_US.UTF8</code>
<code class="example">                        :echo sort(['n', 'o', 'O', 'ö', 'p', 'z'], 'l')</code>
<code class="section">                        ['n', 'o', 'O', 'ö', 'p', 'z'] </code>

<code class="example">                        " 而在瑞典 locale 下，ö 则排在 z 之后。</code>
<code class="example">                        :language collate sv_SE.UTF8</code>
<code class="example">                        :echo sort(['n', 'o', 'O', 'ö', 'p', 'z'], 'l')</code>
<code class="section">                        ['n', 'o', 'O', 'p', 'z', 'ö'] </code>
                Mac 上，此功能不能正常工作。

                <code class="special">{how}</code> 给出且为 'n' 时，按数值顺序排序 (实现细节: 用 strtod()
                函数来解析数值。因此，字符串、列表、字典和函数引用均会被视作
                0)。<code class="note">注意</code> 不能用来排序数位组成的字符串！

                <code class="special">{how}</code> 给出且为 'N' 时，按数值顺序排序。和 'n' 类似，但数位组成
                的字符串会被正确地解析为相应数值。

                <code class="special">{how}</code> 给出且为 'f' 时，按数值顺序排序。所有值的类型必须是数值
                或浮点数。

                <code class="special">{how}</code> 为  <a href="eval.html#Funcref">Funcref</a>  或函数名时，调用该函数来进行项目比较。调用
                函数时传递两个项目作为参数，函数返回 0 代表两项相等，返回 1 或
                更大的正值代表第一个项目应排在第二个项目之后，返回 -1 或更小的
                负值则代表第一个项目应排在第二个项目之前。

                <code class="special">{dict}</code> 用于带 "dict" 属性的函数，此字典在函数中会用作局部变量
                "self"。 <a href="eval.html#Dictionary-function">Dictionary-function</a> 

                此排序算法是稳定排序，具有相同值 (无论比较时是按数值或是按字符
                串) 的项目会保留原有顺序不变。例如，按数值顺序排序时，所有的文
                本字符串会紧挨在一起，按原列表中出现的顺序排列。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        mylist-&gt;sort()</code>
<code class="example"></code>
                另见  <a href="builtin.html#uniq()">uniq()</a> 。

                例如:
<code class="example">                        func MyCompare(i1, i2)</code>
<code class="example">                           return a:i1 == a:i2 ? 0 : a:i1 &gt; a:i2 ? 1 : -1</code>
<code class="example">                        endfunc</code>
<code class="example">                        eval mylist-&gt;sort("MyCompare")</code>
                如果不考虑溢出的情况，这个简单的例子可用更简洁的方式来进行比
                较:
<code class="example">                        func MyCompare(i1, i2)</code>
<code class="example">                           return a:i1 - a:i2</code>
<code class="example">                        endfunc</code>
                简单的表达式也可用匿名函数:
<code class="example">                        eval mylist-&gt;sort({i1, i2 -&gt; i1 - i2})</code>

                返回类型: list&lt;<code class="special">{type}</code>&gt;


sound_clear()                                           <b class="vimtag"> <a name="sound_clear()">sound_clear()</a> </b>
                停止播放所有声音。

                在有些 Linux 系统上，可能需要 libcanberra-pulse 包，否则声音不
                会停止。

                返回类型:  <a href="eval.html#Number">Number</a> 

                <code class="notvi">{仅当编译时加入  <a href="various.html#+sound">+sound</a>  特性才有效}</code>


sound_playevent(<code class="special">{name}</code> [, <code class="special">{callback}</code>])                  <b class="vimtag"> <a name="sound_playevent()">sound_playevent()</a> </b>
                播放由 <code class="special">{name}</code> 定义的声音。支持的事件名取决于系统。通常使用的是
                XDG 声音名。Ubuntu 上，可在
                /usr/share/sounds/freedesktop/stereo 中找到相应名字。例如:
<code class="example">                        call sound_playevent('bell')</code>
                MS-Windows 上，<code class="special">{name}</code> 可为 SystemAsterisk、SystemDefault、
                SystemExclamation、SystemExit、SystemHand、SystemQuestion、
                SystemStart、SystemWelcome 等等。
                macOS 上，<code class="special">{name}</code> 指向 /System/Library/Sounds 里的相应文件 (如
                "Tink")。也可使用如 ~/Library/Sounds 等目录中安装的用户自定义
                声音文件。

                <code class="special">{callback}</code> 给出时，在声音播放结束后调用。传递的首个参数是声音
                ID，第二个参数是播放状态:
                        0       声音播放到结束
                        1       声音被中断
                        2       声音启动后出错
                示例:
<code class="example">                   func Callback(id, status)</code>
<code class="example">                     echomsg "sound " .. a:id .. " finished with " .. a:status</code>
<code class="example">                   endfunc</code>
<code class="example">                   call sound_playevent('bell', 'Callback')</code>
<code class="example"></code>
                MS-Windows 上: 本函数不支持 <code class="special">{callback}</code>。

                返回声音 ID，该值可被传递给  <a href="builtin.html#sound_stop()">sound_stop()</a> 。
                如果声音播放失败，返回零。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetSoundName()-&gt;sound_playevent()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 

                <code class="notvi">{仅当编译时加入  <a href="various.html#+sound">+sound</a>  特性才有效}</code>


sound_playfile(<code class="special">{path}</code> [, <code class="special">{callback}</code>])                   <b class="vimtag"> <a name="sound_playfile()">sound_playfile()</a> </b>
                和  <a href="builtin.html#sound_playevent()">sound_playevent()</a>  类同，但播放指定的声音文件 <code class="special">{path}</code>。
                <code class="special">{path}</code> 必须是完整路径。Ubuntu 上可用下列命令来查找可播放的文
                件:
<code class="example">                    :!find /usr/share/sounds -type f | grep -v index.theme</code>
<code class="example"></code>
                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetSoundPath()-&gt;sound_playfile()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 

                <code class="notvi">{仅当编译时加入  <a href="various.html#+sound">+sound</a>  特性才有效}</code>


sound_stop(<code class="special">{id}</code>)                                        <b class="vimtag"> <a name="sound_stop()">sound_stop()</a> </b>
                停止播放声音 <code class="special">{id}</code>。<code class="special">{id}</code> 必须是先前由  <a href="builtin.html#sound_playevent()">sound_playevent()</a>  或
                 <a href="builtin.html#sound_playfile()">sound_playfile()</a>  返回的 id 值。

                在有些 Linux 系统上，可能需要 libcanberra-pulse 包，否则声音不
                会停止。

                MS-Windows 上，不能用本函数来停止  <a href="builtin.html#sound_playevent()">sound_playevent()</a>  启动的事
                件声音。为此，只能用  <a href="builtin.html#sound_clear()">sound_clear()</a> 。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        soundid-&gt;sound_stop()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 

                <code class="notvi">{仅当编译时加入  <a href="various.html#+sound">+sound</a>  特性才有效}</code>


soundfold(<code class="special">{word}</code>)                                       <b class="vimtag"> <a name="soundfold()">soundfold()</a> </b>
                返回 <code class="special">{word}</code> 的按发音折叠的等价形式。使用当前窗口的 <a href="options.html#'spelllang'">'spelllang'</a>
                中首个支持按发音折叠的语言。<a href="options.html#'spell'">'spell'</a> 必须置位。如果没有可用的支
                持按发音折叠的语言，会按原样返回 <code class="special">{word}</code>。
                可用来提供拼写建议。<code class="note">注意</code> 本函数可能会很慢。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetWord()-&gt;soundfold()</code>

                返回类型:  <a href="eval.html#String">String</a> 


spellbadword([<code class="special">{sentence}</code>])                              <b class="vimtag"> <a name="spellbadword()">spellbadword()</a> </b>
                参数省略时: 返回光标所在位置或其后的第一个有拼写错误的单词。光
                标会移动到这个坏词的起始处。如果当前光标行上没有坏词，返回空
                串，并且光标会不移动。

                参数给出时: 返回 <code class="special">{sentence}</code> 里第一个有拼写错误的单词。如果没有
                拼写错误，返回空串。

                返回值是包含两个项目的列表:
                - 有拼写错误的单词，如果没有则为空串。
                - 拼写错误的类型:
                        "bad"           拼写错误
                        "rare"          偏僻词
                        "local"         只在其它区域里合法的单词
                        "caps"          单词应该大写开头
                例如:
<code class="example">                        echo spellbadword("the quik brown fox")</code>
<code class="section">                        [<code class="badlink">'quik'</code>, <code class="badlink">'bad'</code>] </code>

                使用当前窗口的拼写信息和 <a href="options.html#'spelllang'">'spelllang'</a> 的值。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetText()-&gt;spellbadword()</code>

                返回类型: list<code class="special">&lt;string&gt;</code>


spellsuggest(<code class="special">{word}</code> [, <code class="special">{max}</code> [, <code class="special">{capital}</code>]])            <b class="vimtag"> <a name="spellsuggest()">spellsuggest()</a> </b>
                返回  <a href="eval.html#List">List</a> ，包含可作为 <code class="special">{word}</code> 替代的拼写建议。
                <code class="special">{max}</code> 给出时，设置返回建议的数目上限。默认不超过 25 个建议。

                <code class="special">{capital}</code> 参数给出且非零时，只给出大写开头的拼写建议。可在
                <a href="options.html#'spellcapcheck'">'spellcapcheck'</a> 匹配之后的单词上使用此功能。

                <code class="special">{word}</code> 可以是一个有拼写错误的单词，后跟其它文本。这样方便把错
                误分开的单词重新连接回来。返回的建议里同时会包含附加文本，以便
                对整行进行替换。

                <code class="special">{word}</code> 也可以是个好词。此时会返回和其类似的单词。建议里不会包
                含 <code class="special">{word}</code> 自身，但可能会出现其大写开头的形式。

                使用当前窗口的拼写信息、<a href="options.html#'spelllang'">'spelllang'</a> 和 <a href="options.html#'spellsuggest'">'spellsuggest'</a> 的值。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetWord()-&gt;spellsuggest()</code>

                返回类型: list<code class="special">&lt;string&gt;</code> 或 list<code class="special">&lt;any&gt;</code>


split(<code class="special">{string}</code> [, <code class="special">{pattern}</code> [, <code class="special">{keepempty}</code>]])           <b class="vimtag"> <a name="split()">split()</a> </b>
                将 <code class="special">{string}</code> 拆分并以构造一个  <a href="eval.html#List">List</a> 。
                <code class="special">{pattern}</code> 省略或为空时，每个空白分隔的字符序列会成为一个列表
                项。
                否则，在每个匹配 <code class="special">{pattern}</code> 的位置拆分字符串，匹配内容被删除。
                此处不适用 <a href="options.html#'ignorecase'">'ignorecase'</a>，要忽略大小写，须在模式里加上 \c。
                 <a href="pattern.html#%2F\c">/\c</a> 
                如果列表的首末项目为空，除非 <code class="special">{keepempty}</code> 参数给出且非零。删除
                这些空项目。
                其它空项目在 <code class="special">{pattern}</code> 匹配至少一个字符或者 <code class="special">{keepempty}</code> 非零时
                会被保留。
                例如:
<code class="example">                        :let words = split(getline('.'), '\W\+')</code>
                要将字符串拆分到每个字符:
<code class="example">                        :for c in split(mystring, '\zs')</code>
                如果想要保留分隔符，可以在模式尾部加上 '\zs':
<code class="example">                        :echo split('abc:def:ghi', ':\zs')</code>
<code class="section">                        ['abc:', 'def:', <code class="badlink">'ghi'</code>] </code>
                要拆分首项可能为空的表格行:
<code class="example">                        :let items = split(line, ':', 1)</code>
                逆函数是  <a href="builtin.html#join()">join()</a> 。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetString()-&gt;split()</code>

                返回类型: list<code class="special">&lt;string&gt;</code>


sqrt(<code class="special">{expr}</code>)                                            <b class="vimtag"> <a name="sqrt()">sqrt()</a> </b>
                返回 <code class="special">{expr}</code> 的非负平方根，类型为  <a href="eval.html#Float">Float</a> 。
                <code class="special">{expr}</code> 的计算结果必须是  <a href="eval.html#Float">Float</a>  或  <a href="eval.html#Number">Number</a> ，否则返回 0.0。
                如果 <code class="special">{expr}</code> 为负，返回 NaN (Not a Number，非数)。
                示例:
<code class="example">                        :echo sqrt(100)</code>
                        10.0
<code class="example">                        :echo sqrt(-4.01)</code>
                        nan
                显示的 "nan" 可能会随具体的系统库有所变化。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        Compute()-&gt;sqrt()</code>

                返回类型:  <a href="eval.html#Float">Float</a> 


srand([<code class="special">{expr}</code>])                                         <b class="vimtag"> <a name="srand()">srand()</a> </b>
                初始化  <a href="builtin.html#rand()">rand()</a>  使用的种子:
                - <code class="special">{expr}</code> 省略时，如果 /dev/urandom 可用，将其值用作种子，否
                  则，种子采用 time(NULL)，也就是 epoch 时间；后者只有秒级精确
                  度。
                - <code class="special">{expr}</code> 给出时，必须是数值。用作初始种子值。这可用于测试或需
                  要可预测序列的场合。

                示例:
<code class="example">                        :let seed = srand()</code>
<code class="example">                        :let seed = srand(userinput)</code>
<code class="example">                        :echo rand(seed)</code>

                返回类型: list<code class="special">&lt;number&gt;</code>


state([<code class="special">{what}</code>])                                         <b class="vimtag"> <a name="state()">state()</a> </b>
                返回包含当前状态的字符串。主要用于要进行一些不太安全的操作的回
                调。大致的工作流程是:
                - 回调先调用 state()，检查工作是否安全。
                  是:  马上开始进行工作。
                  否:  加入工作队列，新增  <a href="autocmd.html#SafeState">SafeState</a>  和/或  <a href="autocmd.html#SafeStateAgain">SafeStateAgain</a> 
                       自动命令 ( <a href="autocmd.html#SafeState">SafeState</a>  会在顶层触发，而  <a href="autocmd.html#SafeStateAgain">SafeStateAgain</a> 
                       会在处理完信息和回调后触发)。
                - SafeState 或 SafeStateAgain 触发时，会执行先前定义的自动命
                  令，那里可以调用  <a href="builtin.html#state()">state()</a>  来检查工作现在是否可以进行，如果
                  是，从队列中删除该工作项并开始执行。
                  队列为空时，删除自动命令。
                另见  <a href="builtin.html#mode()">mode()</a> 。

                <code class="special">{what}</code> 给出时，只加入该字符串中出现的字符。例如，下例会检查屏
                幕是否有过滚动:
<code class="example">                        if state('s') == ''</code>
<code class="example">                           " 屏幕还未滚动</code>

                以下字符指示当前状态，一般而言，每个字符代表一种不同的忙碌操作
                正在进行:
                    m   映射、 <a href="various.html#:normal">:normal</a>  命令、 <a href="builtin.html#feedkeys()">feedkeys()</a>  或其它庞大的命令在
                        进行中
                    o   操作符等待状态，如在  <a href="change.html#d">d</a>  之后
                    a   插入模式自动补全激活时
                    x   执行自动命令时
                    w   处于阻塞等待，如  <a href="channel.html#ch_evalexpr()">ch_evalexpr()</a> 、 <a href="channel.html#ch_read()">ch_read()</a>  或
                         <a href="channel.html#ch_readraw()">ch_readraw()</a>  读入 json 时
                    S   不触发  <a href="autocmd.html#SafeState">SafeState</a>  或  <a href="autocmd.html#SafeStateAgain">SafeStateAgain</a>  的情形，如在
                         <a href="motion.html#f">f</a>  命令或计数之后
                    c   执行回调时，也包括计时器 (递归调用时会重复此字符多次，
                        最多会是 "ccc")
                    s   屏幕已经为消息滚动过

                返回类型:  <a href="eval.html#String">String</a> 


str2blob(<code class="special">{list}</code> [, <code class="special">{options}</code>])                          <b class="vimtag"> <a name="str2blob()">str2blob()</a> </b>
                将字符串列表 <code class="special">{list}</code> 里的字符序列转换为字节序列，返回类型为
                blob。

                每个列表项在转换后会加上 <code class="special">&lt;NL&gt;</code> 字节。而字符串里的换行符会被转换
                为 <code class="special">&lt;NUL&gt;</code> 字节。

                参数 <code class="special">{options}</code> 是  <a href="eval.html#Dict">Dict</a> ，支持以下项目:
                    encoding    构造 blob 前，会先使用此编码进行字符转换。
                                类型为  <a href="eval.html#String">String</a> 。可用值见  <a href="mbyte.html#encoding-names">encoding-names</a> 。

                <code class="special">{options}</code> 省略时，根据当前 <a href="options.html#'encoding'">'encoding'</a> 设置，将字符序列转换为字
                节序列。

                如果字符编码失败，报错且返回空 blob。

                如果 <code class="special">{list}</code> 为空，返回空 blob。

                另见  <a href="builtin.html#blob2str()">blob2str()</a> 

                示例:
<code class="example">                    str2blob(["ab"])            返回 0z6162</code>
<code class="example">                    str2blob(["«»"])            返回 0zC2ABC2BB</code>
<code class="example">                    str2blob(["a\nb"])          返回 0z610062</code>
<code class="example">                    str2blob(["a","b"])         返回 0z610A62</code>
<code class="example">                    str2blob(["«»"], {'encoding': 'latin1'}) 返回 0zABBB</code>
<code class="example">                    str2blob(readfile('myfile.txt'))</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetListOfStrings()-&gt;str2blob()</code>

                返回类型:  <a href="eval.html#Blob">Blob</a> 


str2float(<code class="special">{string}</code> [, <code class="special">{quoted}</code>])                        <b class="vimtag"> <a name="str2float()">str2float()</a> </b>
                将字符串 <code class="special">{string}</code> 转换为浮点数。其规则与表达式中使用浮点数的解
                析方式大致相同，见  <a href="eval.html#floating-point-format">floating-point-format</a> ，但略微宽松一点。例
                如，接受 "1e40"，而表达式语法要求必须书写 "1.0e40"。也接受十六
                进制形式 "0x123"，但不支持其它进制的形式，如二进制或八进制。
                <code class="special">{quoted}</code> 给出且非零时，忽略小数点之前的内嵌单引号，举例来说，
                接受 "1'000.0"，也就是一千。
                忽略浮点数之后出现的文本，不报错。
                小数点始终是 '.'，与当前 locale 无关。遇到逗号会终止浮点数解
                析: 例如，"12,345.67" 会被解析为 12.0。要去除千分位分隔符， 可
                用  <a href="builtin.html#substitute()">substitute()</a> :
<code class="example">                        let f = str2float(substitute(text, ',', '', 'g'))</code>

                如果转换失败，返回 0.0。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        let f = text-&gt;substitute(',', '', 'g')-&gt;str2float()</code>

                返回类型:  <a href="eval.html#Float">Float</a> 


str2list(<code class="special">{string}</code> [, <code class="special">{utf8}</code>])                           <b class="vimtag"> <a name="str2list()">str2list()</a> </b>
                将字符串 <code class="special">{string}</code> 中的每个字符转换为对应的数值，返回包含这些数
                值的列表。例如:
<code class="example">                        str2list(" ")           返回 [32]</code>
<code class="example">                        str2list("ABC")         返回 [65, 66, 67]</code>
                 <a href="builtin.html#list2str()">list2str()</a>  是其逆操作。

                <code class="special">{utf8}</code> 省略或为零时，使用当前 <a href="options.html#'encoding'">'encoding'</a>。
                而 <code class="special">{utf8}</code> 为 TRUE 时，总是使用 UTF-8 编码。使用 UTF-8 时，组合
                字符就能正常工作:
<code class="example">                        str2list("á")         返回 [97, 769]</code>
<code class="example"></code>
                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetString()-&gt;str2list()</code>

                返回类型: list<code class="special">&lt;number&gt;</code>


str2nr(<code class="special">{string}</code> [, <code class="special">{base}</code> [, <code class="special">{quoted}</code>]])                <b class="vimtag"> <a name="str2nr()">str2nr()</a> </b>
                将字符串 <code class="special">{string}</code> 转换为数值。
                <code class="special">{base}</code> 是数值转换的基底，可以为 2、8、10 或 16。
                <code class="special">{quoted}</code> 给出且非零时，忽略内嵌的单引号，举例来说，接受
                "1'000'000"，也就是一百万。

                <code class="special">{base}</code> 省略时，使用基底 10。这也意味着开头的零不会触发八进制解
                析，此行为与 Vim 从字符串到数值的隐含转化不同。例如:
<code class="example">                        let nr = str2nr('0123')</code>

                <code class="special">{base}</code> 为 16 时，忽略开头的 "0x" 或 "0X"。如果使用别的基底，同
                样的情况会返回零。类似地，<code class="special">{base}</code> 为 8 时，忽略开头的 "0"、"0o"
                或 "0O"，<code class="special">{base}</code> 为 2 时，忽略开头的 "0b" 或 "0B"。
                忽略数值之后出现的文本，不出错。

                如果 <code class="special">{string}</code> 为空或出错，返回 0。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetText()-&gt;str2nr()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


strcharlen(<code class="special">{string}</code>)                                    <b class="vimtag"> <a name="strcharlen()">strcharlen()</a> </b>
                返回字符串 <code class="special">{string}</code> 的字符数量，类型为数值。组合字符不会单独计
                算。 <a href="builtin.html#strchars()">strchars()</a>  可计算将组合字符分别计算的字符数目。

                如果 <code class="special">{string}</code> 为空或出错，返回 0。

                另见  <a href="builtin.html#strlen()">strlen()</a> 、 <a href="builtin.html#strdisplaywidth()">strdisplaywidth()</a>  和  <a href="builtin.html#strwidth()">strwidth()</a> 。

                (<code class="vim">译者注</code>: 字符串长度相关函数简单对照可见下表:
                        函数            单位    组合字符        制表位相关
                 <a href="builtin.html#strcharlen()">strcharlen()</a>           字符    ✗              ✗
                 <a href="builtin.html#strchars()">strchars()</a>             字符    可选            ✗
                 <a href="builtin.html#strdisplaywidth()">strdisplaywidth()</a>      显示列  ✗              ✓
                 <a href="builtin.html#strlen()">strlen()</a>  ( <a href="builtin.html#len()">len()</a> )    字节    ✓              ✗
                 <a href="builtin.html#strutf16len()">strutf16len()</a>          UTF-16  可选            ✗
                 <a href="builtin.html#strwidth()">strwidth()</a>             显示列  ✗              ✗
                )

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetText()-&gt;strcharlen()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


strcharpart(<code class="special">{src}</code>, <code class="special">{start}</code> [, <code class="special">{len}</code> [, <code class="special">{skipcc}</code>]])      <b class="vimtag"> <a name="strcharpart()">strcharpart()</a> </b>
                和  <a href="builtin.html#strpart()">strpart()</a>  类同，但使用字符索引和字符长度，而非字节索引和
                字节长度。
                <code class="special">{skipcc}</code> 省略或为零时，组合字符会单独计算。
                <code class="special">{skipcc}</code> 设为 1 时，组合字符被视作其前导的基准字符的一部分，而
                不单独计算。这和  <a href="builtin.html#slice()">slice()</a>  类似。
                使用字符索引时，如果选择的字符不存在，返回值里会忽略该字符，但
                仍算作一个字符长度。例如:
<code class="example">                        strcharpart('abc', -1, 2)</code>
                会返回 'a'。

                如果出错，返回空串。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetText()-&gt;strcharpart(5)</code>

                返回类型:  <a href="eval.html#String">String</a> 


strchars(<code class="special">{string}</code> [, <code class="special">{skipcc}</code>])                         <b class="vimtag"> <a name="strchars()">strchars()</a> </b>
                返回字符串 <code class="special">{string}</code> 的字符数量，类型为数值。
                <code class="special">{skipcc}</code> 省略或为零时，组合字符会单独计算。
                <code class="special">{skipcc}</code> 设为 1 时，计算时会忽略组合字符。 <a href="builtin.html#strcharlen()">strcharlen()</a>  总是
                采用这种方式。

                如果出错，返回零。

                另见  <a href="builtin.html#strlen()">strlen()</a> 、 <a href="builtin.html#strdisplaywidth()">strdisplaywidth()</a>  和  <a href="builtin.html#strwidth()">strwidth()</a> 。

                <code class="special">{skipcc}</code> 只在 7.4.755 版本之后才出现。可定义如下后向兼容的包装
                函数:
<code class="example">                    if has("patch-7.4.755")</code>
<code class="example">                      function s:strchars(str, skipcc)</code>
<code class="example">                        return strchars(a:str, a:skipcc)</code>
<code class="example">                      endfunction</code>
<code class="example">                    else</code>
<code class="example">                      function s:strchars(str, skipcc)</code>
<code class="example">                        if a:skipcc</code>
<code class="example">                          return strlen(substitute(a:str, ".", "x", "g"))</code>
<code class="example">                        else</code>
<code class="example">                          return strchars(a:str)</code>
<code class="example">                        endif</code>
<code class="example">                      endfunction</code>
<code class="example">                    endif</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetText()-&gt;strchars()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


strdisplaywidth(<code class="special">{string}</code> [, <code class="special">{col}</code>])                     <b class="vimtag"> <a name="strdisplaywidth()">strdisplaywidth()</a> </b>
                返回字符串 <code class="special">{string}</code> 从屏幕列 <code class="special">{col}</code> 开始时 (首列的列号为零) 在
                屏幕上占据的显示单元的数目，类型为数值。<code class="special">{col}</code> 省略时默认为零。
                否则给出字符串起始位置的屏幕列号。这会影响制表符的计算方式。
                使用当前窗口里的选项设置。其中一些影响显示的选项会对返回值有影
                响，如 <a href="options.html#'tabstop'">'tabstop'</a> 和 <a href="options.html#'display'">'display'</a>。
                <code class="special">{string}</code> 包含东亚二义性宽度字符类时，<a href="options.html#'ambiwidth'">'ambiwidth'</a> 也会影响返回
                值。
                如果出错，返回零。
                另见  <a href="builtin.html#strlen()">strlen()</a> 、 <a href="builtin.html#strwidth()">strwidth()</a>  和  <a href="builtin.html#strchars()">strchars()</a> 。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetText()-&gt;strdisplaywidth()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


strftime(<code class="special">{format}</code> [, <code class="special">{time}</code>])                           <b class="vimtag"> <a name="strftime()">strftime()</a> </b>
                返回将指定的日期和时间按照 <code class="special">{format}</code> 字符串排版后的字符串。
                <code class="special">{time}</code> 给出时使用指定的时间，默认使用当前时间。可接受的
                <code class="special">{format}</code> 格式取决于系统。这意味着本函数不可移植！具体的格式请
                参见 C 函数 strftime() 的参考手册。返回结果的最大长度是 80 个
                字符。
                另见  <a href="builtin.html#localtime()">localtime()</a> 、 <a href="builtin.html#getftime()">getftime()</a>  和  <a href="builtin.html#strptime()">strptime()</a> 。
                可用  <a href="mlang.html#:language">:language</a>  命令来改变时间显示语言。
                示例:
<code class="example">                  :echo strftime("%c")             Sun Apr 27 11:49:23 1997</code>
<code class="example">                  :echo strftime("%Y %b %d %X")    1997 Apr 27 11:53:25</code>
<code class="example">                  :echo strftime("%y%m%d %T")      970427 11:53:55</code>
<code class="example">                  :echo strftime("%H:%M")          11:55</code>
<code class="example">                  :echo strftime("%c", getftime("file.c"))</code>
<code class="example">                                                   显示 file.c 的修改时间。</code>
                并非所有系统都支持本函数。要确认是否可用:
<code class="example">                        :if exists("*strftime")</code>
<code class="example"></code>
                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetFormat()-&gt;strftime()</code>

                返回类型:  <a href="eval.html#String">String</a> 


strgetchar(<code class="special">{str}</code>, <code class="special">{index}</code>)                              <b class="vimtag"> <a name="strgetchar()">strgetchar()</a> </b>
                获取 <code class="special">{str}</code> 中的第 <code class="special">{index}</code> 个字符对应的数值。索引以零为基底，采
                用字符索引而非字节索引。组合字符会单独计算。 <a href="builtin.html#nr2char()">nr2char()</a>  可用来
                将返回的数值转换为字符串。
                如果 <code class="special">{index}</code> 非法，返回 -1。
                另见  <a href="builtin.html#strcharpart()">strcharpart()</a>  和  <a href="builtin.html#strchars()">strchars()</a> 。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetText()-&gt;strgetchar(5)</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


stridx(<code class="special">{haystack}</code>, <code class="special">{needle}</code> [, <code class="special">{start}</code>])                <b class="vimtag"> <a name="stridx()">stridx()</a> </b>
                返回 <code class="special">{needle}</code> 字符串在 <code class="special">{haystack}</code> 字符串中首次出现的字节位置。
                <code class="special">{start}</code> 给出时，从指定的字节位置开始搜索。可用来寻找下一个匹
                配:
<code class="example">                        :let colon1 = stridx(line, ":")</code>
<code class="example">                        :let colon2 = stridx(line, ":", colon1 + 1)</code>
                搜索对大小写敏感。
                要使用模式搜索，可用  <a href="builtin.html#match()">match()</a> 。
                如果 <code class="special">{needle}</code> 在 <code class="special">{haystack}</code> 里没有出现过，返回 -1。
                另见  <a href="builtin.html#strridx()">strridx()</a> 。示例:
<code class="example">                  :echo stridx("An Example", "Example")      3</code>
<code class="example">                  :echo stridx("Starting point", "Start")    0</code>
<code class="example">                  :echo stridx("Starting point", "start")   -1</code>
                                                        <b class="vimtag"> <a name="strstr()">strstr()</a> </b> <b class="vimtag"> <a name="strchr()">strchr()</a> </b>
                stridx() 相当于 C 函数 strstr()。如果使用单个字符，则相当于
                strchr()。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetHaystack()-&gt;stridx(needle)</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


string(<code class="special">{expr}</code>)                                          <b class="vimtag"> <a name="string()">string()</a> </b>
                返回 <code class="special">{expr}</code> 转换后的字符串。<code class="special">{expr}</code> 为数值、浮点数、字符串、
                blob 或它们的复合形式时，使用  <a href="builtin.html#eval()">eval()</a>  可以将字符串转换回原来
                的值。
<code class="section">                        <code class="special">{expr}</code> 类型     返回值 </code>
                        字符串          <code class="badlink">'string'</code> (其中的单引号加倍)
                        数值            123
                        浮点数          123.123456 或 1.23456e8
                        函数引用        function(<code class="badlink">'name'</code>)
                        blob            0z00112233.44556677.8899
                        列表            [item, item]
                        元组            (item, item)
                        字典            {key: value, key: value}
                        类              class SomeName
                        对象            object of SomeName {lnum: 1, col: 3}
                        枚举            enum Enumname
                        枚举值          enum name.value {name: str,
                                        ordinal: nr}

                 <a href="eval.html#List">List</a> 、 <a href="eval.html#Tuple">Tuple</a>  或  <a href="eval.html#Dictionary">Dictionary</a>  中如有递归引用，该递归引用会被
                替换为 "[...]"、"(...)" 或 "<code class="special">{...}</code>"。在此返回值上运行  <a href="builtin.html#eval()">eval()</a> 
                会出错。

                <code class="special">{expr}</code> 为对象时，调用其 string() 方法以得到该对象的文本表示。
                如果对象中该方法未定义，返回对象的缺省表示。  <a href="vim9class.html#object-string()">object-string()</a> 

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        mylist-&gt;string()</code>
<code class="example"></code>
                另见  <a href="builtin.html#strtrans()">strtrans()</a> 。

                返回类型:  <a href="eval.html#String">String</a> 


strlen(<code class="special">{string}</code>)                                        <b class="vimtag"> <a name="strlen()">strlen()</a> </b>
                返回字符串 <code class="special">{string}</code> 的字节长度，类型为数值。
                参数为数值时，会先把它转化为字符串。其它类型会报错并返回零。
                要计算多字节字符的数目，可用  <a href="builtin.html#strchars()">strchars()</a> 。
                另见  <a href="builtin.html#len()">len()</a> 、 <a href="builtin.html#strdisplaywidth()">strdisplaywidth()</a>  和  <a href="builtin.html#strwidth()">strwidth()</a> 。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetString()-&gt;strlen()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


strpart(<code class="special">{src}</code>, <code class="special">{start}</code> [, <code class="special">{len}</code> [, <code class="special">{chars}</code>]])           <b class="vimtag"> <a name="strpart()">strpart()</a> </b>
                返回 <code class="special">{src}</code> 从第 <code class="special">{start}</code> 个字节开始，字节长度为 <code class="special">{len}</code> 的子字符
                串。
                <code class="special">{chars}</code> 给出且为 TRUE 时，<code class="special">{len}</code> 指定字符位置的数目 (组合字符不
                单独计算，因此 "1" 代表一个基本字符，可后跟任意多个的组合字
                符)，而非字节长度。
                对于 <code class="special">{start}</code> 而言，如果希望按字符数而非字节数来计算，请用
                 <a href="builtin.html#strcharpart()">strcharpart()</a> 。

                如果选择的字节并不存在，返回值里会简单忽略这些字节，不会报错。
                <code class="special">{len}</code> 省略时，子串会从 <code class="special">{start}</code> 开始，直到 <code class="special">{src}</code> 的结尾。
<code class="example">                        strpart("abcdefg", 3, 2)    == "de"</code>
<code class="example">                        strpart("abcdefg", -2, 4)   == "ab"</code>
<code class="example">                        strpart("abcdefg", 5, 4)    == "fg"</code>
<code class="example">                        strpart("abcdefg", 3)       == "defg"</code>
<code class="example"></code>
                <code class="note">注意</code>: 首个字符对应的 <code class="special">{start}</code> 为零。比如，要得到光标所在的字
                符:
<code class="example">                        strpart(getline("."), col(".") - 1, 1, v:true)</code>

                如果出错，返回空串。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetText()-&gt;strpart(5)</code>

                返回类型:  <a href="eval.html#String">String</a> 


strptime(<code class="special">{format}</code>, <code class="special">{timestring}</code>)                        <b class="vimtag"> <a name="strptime()">strptime()</a> </b>
                返回符合 <code class="special">{format}</code> 指定格式的 <code class="special">{timestring}</code> 解析后得到的日期和时
                间的 unix 时间戳，类型为数值。

                可接受的 <code class="special">{format}</code> 取决于系统，这意味着本函数不可移植！具体格式
                见 C 函数 strptime() 的手册页。特别要<code class="note">注意</code>避免 "%c"。$TZ 的值也
                相关。

                如果 <code class="special">{timestring}</code> 不能用 <code class="special">{format}</code> 格式解析，返回零。如果无法确
                定 <code class="special">{timestring}</code> 的具体格式，可以尝试使用不同的 <code class="special">{format}</code> 值直到
                返回非零值为止。

                另见  <a href="builtin.html#strftime()">strftime()</a> 。
                示例:
<code class="example">                  :echo strptime("%Y %b %d %X", "1997 Apr 27 11:49:23")</code>
                  862156163
<code class="example">                  :echo strftime("%c", strptime("%y%m%d %T", "970427 11:53:55"))</code>
                  Sun Apr 27 11:53:55 1997
<code class="example">                  :echo strftime("%c", strptime("%Y%m%d%H%M%S", "19970427115355") + 3600)</code>
                  Sun Apr 27 12:53:55 1997

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetFormat()-&gt;strptime(timestring)</code>

                并非所有系统都支持本函数。要确认是否可用:
<code class="example">                        :if exists("*strptime")</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


strridx(<code class="special">{haystack}</code>, <code class="special">{needle}</code> [, <code class="special">{start}</code>])               <b class="vimtag"> <a name="strridx()">strridx()</a> </b>
                返回 <code class="special">{needle}</code> 字符串在 <code class="special">{haystack}</code> 字符串中最后一次出现的字节位
                置。
                <code class="special">{start}</code> 给出时，超出指定的字节位置之外的匹配被忽略。可用来寻找
                上一个匹配:
<code class="example">                        :let lastcomma = strridx(line, ",")</code>
<code class="example">                        :let comma2 = strridx(line, ",", lastcomma - 1)</code>
                搜索对大小写敏感。
                要使用模式搜索，可用  <a href="builtin.html#match()">match()</a> 。
                如果 <code class="special">{needle}</code> 在 <code class="special">{haystack}</code> 里没有出现过，返回 -1。
                如果 <code class="special">{needle}</code> 为空，返回 <code class="special">{haystack}</code> 的长度。
                另见  <a href="builtin.html#stridx()">stridx()</a> 。示例:
<code class="example">                  :echo strridx("an angry armadillo", "an")          3</code>
                                                        <b class="vimtag"> <a name="strrchr()">strrchr()</a> </b>
                如果使用单个字符，相当于 C 函数 strrchr()。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetHaystack()-&gt;strridx(needle)</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


strtrans(<code class="special">{string}</code>)                                      <b class="vimtag"> <a name="strtrans()">strtrans()</a> </b>
                返回将 <code class="special">{string}</code> 里所有的不可显示字符翻译成可显示 <a href="options.html#'isprint'">'isprint'</a> 形
                式的字符串，翻译方式和这些字符在窗口里的显示形式一致。例如:
<code class="example">                        echo strtrans(@a)</code>
                会显示 'a' 寄存器值，其中的换行符显示为 "^@" 而非开启新行。

                如果出错，返回空串。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetString()-&gt;strtrans()</code>

                返回类型:  <a href="eval.html#String">String</a> 


strutf16len(<code class="special">{string}</code> [, <code class="special">{countcc}</code>])                     <b class="vimtag"> <a name="strutf16len()">strutf16len()</a> </b>
                返回字符串 <code class="special">{string}</code> (转换为 utf-16 后) 的 utf-16 代码单元数，
                类型为数值。

                <code class="special">{countcc}</code> 为真时，组合字符会单独计算。
                <code class="special">{countcc}</code> 省略或为假时，计算时会忽略组合字符。

                如果出错，返回零。

                另见  <a href="builtin.html#strlen()">strlen()</a>  和  <a href="builtin.html#strcharlen()">strcharlen()</a> 。
                示例:
<code class="example">                    echo strutf16len('a')               返回 1</code>
<code class="example">                    echo strutf16len('©')               返回 1</code>
<code class="example">                    echo strutf16len('😊')              返回 2</code>
<code class="example">                    echo strutf16len('ą́')           返回 1</code>
<code class="example">                    echo strutf16len('ą́', v:true)   返回 3</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        gettext()-&gt;strutf16len()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


strwidth(<code class="special">{string}</code>)                                      <b class="vimtag"> <a name="strwidth()">strwidth()</a> </b>
                返回字符串 <code class="special">{string}</code> 在屏幕上占据的显示单元的数目，类型为数值。
                制表符算作一个单元。如果不想如此，可用  <a href="builtin.html#strdisplaywidth()">strdisplaywidth()</a> 。
                <code class="special">{string}</code> 包含东亚二义性宽度字符类时，<a href="options.html#'ambiwidth'">'ambiwidth'</a> 也会影响返回
                值。
                如果出错，返回零。
                另见  <a href="builtin.html#strlen()">strlen()</a> 、 <a href="builtin.html#strdisplaywidth()">strdisplaywidth()</a>  和  <a href="builtin.html#strchars()">strchars()</a> 。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetString()-&gt;strwidth()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


submatch(<code class="special">{nr}</code> [, <code class="special">{list}</code>])                               <b class="vimtag"> <a name="submatch()">submatch()</a> </b> <b class="vimtag"> <a name="E935">E935</a> </b>
                只能在  <a href="change.html#:substitute">:substitute</a>  命令或  <a href="builtin.html#substitute()">substitute()</a>  函数中使用的替代表
                达式内使用。
                返回匹配文本的第 <code class="special">{nr}</code> 个子匹配。<code class="special">{nr}</code> 为 0 时，返回整个匹配文
                本。
                <code class="note">注意</code> 字符串中的 NL 既可以代表多行匹配里的换行符，也可以代表实
                际文件中的 NUL 字符。
                另见  <a href="change.html#sub-replace-expression">sub-replace-expression</a> 。

                <code class="special">{list}</code> 给出且非零时，submatch() 返回字符串列表，和带两个参数的
                 <a href="builtin.html#getline()">getline()</a>  类似 (<code class="vim">译者注</code>: 带三个参数的  <a href="builtin.html#getreg()">getreg()</a>  可能是更合适
                的例子。带此选项时，多行文本会被拆分为不同的列表项)。文本中的
                NL 只会代表文件中的 NUL 字符。
                只有在  <a href="change.html#:substitute">:substitute</a>  的情况下，才会返回多于一个项目，
                 <a href="builtin.html#substitute()">substitute()</a>  中，此列表总是包含一或零个项目，因为那里不会有
                真正的换行符。

                 <a href="builtin.html#substitute()">substitute()</a>  被递归调用时，只能得到当前 (最深一层) 调用的子
                匹配。

                如果出错，返回空串或空列表。

                例如:
<code class="example">                        :s/\d\+/\=submatch(0) + 1/</code>
<code class="example">                        :echo substitute(text, '\d\+', '\=submatch(0) + 1', '')</code>
                找到行内第一个数值，返回时加上 1。
                换行符会用 <code class="special">&lt;NL&gt;</code> 表示。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetNr()-&gt;submatch()</code>

                返回类型:  <a href="eval.html#String">String</a>  或 list<code class="special">&lt;string&gt;</code>，取决于 <code class="special">{list}</code>


substitute(<code class="special">{string}</code>, <code class="special">{pat}</code>, <code class="special">{sub}</code>, <code class="special">{flags}</code>)             <b class="vimtag"> <a name="substitute()">substitute()</a> </b>
                返回将 <code class="special">{string}</code> 中 <code class="special">{pat}</code> 的首个匹配替代为 <code class="special">{sub}</code> 的新字符串。
                <code class="special">{flags}</code> 为 "g" 时，<code class="special">{string}</code> 里的所有 <code class="special">{pat}</code> 匹配都会被替代。
                否则，<code class="special">{flags}</code> 必须为 ""。

                本函数的行为和不带任何标志位的  <a href="change.html#:substitute">:substitute</a>  命令类似。但此处
                <code class="special">{pat}</code> 的匹配总假定 <a href="options.html#'magic'">'magic'</a> 选项已置位且 <a href="options.html#'cpoptions'">'cpoptions'</a> 为空 (为了
                确保脚本的可移植性)。
                <a href="options.html#'ignorecase'">'ignorecase'</a> 仍然适用，但  <a href="pattern.html#%2F\c">/\c</a>  或  <a href="pattern.html#%2F\C">/\C</a>  可用来直接指定是否忽
                略或匹配大小写并忽略 <a href="options.html#'ignorecase'">'ignorecase'</a> 的设置。<a href="options.html#'smartcase'">'smartcase'</a> 不适用。
                <code class="special">{pat}</code> 的用法可见  <a href="builtin.html#string-match">string-match</a> 。

                <code class="note">注意</code> <code class="special">{sub}</code> 里字符有特殊含义  <a href="change.html#sub-replace-special">sub-replace-special</a> 。比如，要将
                文本替代为 "\n" (两个字符)，要用 "\\\\n" 或 '\\n'。那里也说明
                了 <code class="special">{sub}</code> 和  <a href="change.html#:substitute">:substitute</a>  行为的若干差异，包括 <code class="special">{sub}</code> 里的 '~'
                不会被换成前一个 <code class="special">{sub}</code>。

                如果 <code class="special">{pat}</code> 在 <code class="special">{string}</code> 里找不到匹配，返回未经修改的 <code class="special">{string}</code>。

                示例:
<code class="example">                   :let &amp;path = substitute(&amp;path, ",\\=[^,]*$", "", "")</code>
                会删除 <a href="options.html#'path'">'path'</a> 选项里的最后一个目录名。
<code class="example">                   :echo substitute("testing", ".*", "\\U\\0", "")</code>
                会返回 "TESTING"。

                <code class="special">{sub}</code> 参数以 \= 开始时，其余部分被视为一个表达式，见
                 <a href="change.html#sub-replace-expression">sub-replace-expression</a> 。示例:
<code class="example">                   :echo substitute(s, '%\(\x\x\)',</code>
<code class="example">                           \ '\=nr2char("0x" .. submatch(1))', 'g')</code>
<code class="example"></code>
                <code class="special">{sub}</code> 为函数引用时，会调用该函数，传递一个可选参数，返回作为替
                代结果的字符串。示例:
<code class="example">                   :echo substitute(s, '%\(\x\x\)', SubNr, 'g')</code>
                传递的可选参数是包含完整匹配及多达九个子匹配的列表，就像
                 <a href="builtin.html#submatch()">submatch()</a>  的那些返回值那样。示例:
<code class="example">                   :echo substitute(s, '%\(\x\x\)', {m -&gt; '0x' .. m[1]}, 'g')</code>
<code class="example"></code>
                如果出错，返回空串。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetString()-&gt;substitute(pat, sub, flags)</code>

                返回类型:  <a href="eval.html#String">String</a> 


swapfilelist()                                          <b class="vimtag"> <a name="swapfilelist()">swapfilelist()</a> </b>
                返回指定目录下能找到的交换文件名的列表，其内容和 "vim -r" 的输
                出相同。参见  <a href="starting.html#-r">-r</a>  命令参数。<a href="options.html#'directory'">'directory'</a> 选项决定要检视的目录。
                如果只想看到当前目录下的交换文件，可临时设置 <a href="options.html#'directory'">'directory'</a> 为句
                号 (当前目录):
<code class="example">                        let save_dir = &amp;directory</code>
<code class="example">                        let &amp;directory = '.'</code>
<code class="example">                        let swapfiles = swapfilelist()</code>
<code class="example">                        let &amp;directory = save_dir</code>

                返回类型: list<code class="special">&lt;string&gt;</code>


swapinfo(<code class="special">{fname}</code>)                                       <b class="vimtag"> <a name="swapinfo()">swapinfo()</a> </b>
                返回关于交换文件 <code class="special">{fname}</code> 的信息字典。可用的条目是:
                        version Vim 版本
                        user    用户名
                        host    主机名
                        fname   原始文件名
                        pid     创建交换文件的 Vim 进程的 PID
                        mtime   以秒为单位的文件最近修改时间
                        inode   可选: 文件的 INODE 值
                        dirty   文件被修改过则为 1，否则为 0
                <code class="note">注意</code> "user" 和 "host" 被缩短为最多 39 个字节。
                如果失败，加入 "error" 条目，说明相关原因:
                        Cannot open file: 文件找不到或不能访问
                        Cannot read file: 不能读入首块
                        Not a swap file: 没有包含正确的块 ID
                        Magic number mismatch: 首块包含的信息不正确

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetFilename()-&gt;swapinfo()</code>

                返回类型: dict<code class="special">&lt;any&gt;</code> 或 dict<code class="special">&lt;string&gt;</code>


swapname(<code class="special">{buf}</code>)                                         <b class="vimtag"> <a name="swapname()">swapname()</a> </b>
                返回缓冲区 <code class="special">{buf}</code> 所用的交换文件路径。
                <code class="special">{buf}</code> 的用法见上述  <a href="builtin.html#bufname()">bufname()</a> 。
                缓冲区 <code class="special">{buf}</code> 是当前缓冲区时，结果相当于  <a href="recover.html#:swapname">:swapname</a>  (除非没
                有交换文件)。
                如果缓冲区 <code class="special">{buf}</code> 没有交换文件，返回空串。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetBufname()-&gt;swapname()</code>

                返回类型:  <a href="eval.html#String">String</a> 


synID(<code class="special">{lnum}</code>, <code class="special">{col}</code>, <code class="special">{trans}</code>)                           <b class="vimtag"> <a name="synID()">synID()</a> </b>
                返回当前窗口第 <code class="special">{lnum}</code> 行第 <code class="special">{col}</code> 列所在的语法 ID，类型为数值。
                语法 ID 可用于  <a href="builtin.html#synIDattr()">synIDattr()</a>  和  <a href="builtin.html#synIDtrans()">synIDtrans()</a> ，用以得到文本的
                语法信息。

                最左列的列号 <code class="special">{col}</code> 为 1。首行的行号 <code class="special">{lnum}</code> 为 1。适用
                <a href="options.html#'synmaxcol'">'synmaxcol'</a> 选项，如果指定行超出该设置，返回零。
                <code class="note">注意</code> 如果指定位置在行末最后一个字符之后 (插入模式下这是一个合
                法的光标位置)，synID() 会返回零。<code class="special">{lnum}</code> 的用法见  <a href="builtin.html#getline()">getline()</a> 。

                <code class="special">{trans}</code> 为  <a href="eval.html#TRUE">TRUE</a>  时，透明项目  <a href="syntax.html#:syn-transparent">:syn-transparent</a>  被简约为它们
                实际显露的项目。可用于获取实际使用的颜色。<code class="special">{trans}</code> 为  <a href="eval.html#FALSE">FALSE</a> 
                时，则返回透明项目本身。可用于获取实际有效的语法项目 (比如，在
                括号内部)。
                <code class="note">警告</code>: 本函数可能很慢。要获得最佳性能，建议按顺序从前往后遍历文
                件。

                如果出错，返回零。

                例如 (回显光标所在的语法项目名):
<code class="example">                        :echo synIDattr(synID(line("."), col("."), 1), "name")</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


synIDattr(<code class="special">{synID}</code>, <code class="special">{what}</code> [, <code class="special">{mode}</code>])                   <b class="vimtag"> <a name="synIDattr()">synIDattr()</a> </b>
                返回语法 ID <code class="special">{synID}</code> 的 <code class="special">{what}</code> 属性，类型为字符串。可用于得到语
                法项目的相关信息。
                <code class="special">{mode}</code> 可为 "gui"、"cterm" 或 "term"，返回所选显示模式下的属性。
                <code class="special">{mode}</code> 省略或者为非法值时，使用当前激活的显示模式 (GUI、cterm
                或 term)。
                 <a href="builtin.html#synIDtrans()">synIDtrans()</a>  可用来跟随链接的高亮组 (<code class="vim">译者注</code>: 建议始终跟随，
                不然对于有链接的高亮组，除了 "name" 外，其他项目值均为空)。
<code class="section">                <code class="special">{what}</code>          结果 </code>
                "name"          语法项目名
                "fg"            前景色 (GUI: 颜色设置时使用的色彩名，cterm: 字
                                符串形式的色彩号，term: 空串)
                "bg"            背景色 (用法同 "fg")
                "font"          用于 GUI 的字体名  <a href="syntax.html#highlight-font">highlight-font</a> 
                "sp"            用于 GUI 的特殊颜色 (用法同 "fg")
                                 <a href="syntax.html#highlight-guisp">highlight-guisp</a> 
                "ul"            用于 cterm 的下划线颜色: 字符串形式的数值
                "fg#"           用于 GUI，和 "fg" 类似，但返回 "#RRGGBB" 形式
                "bg#"           和 "bg" 类同，用法同 "fg#"
                "sp#"           和 "sp" 类同，用法同 "fg#"
                "bold"          粗体则为 "1"
                "italic"        斜体则为 "1"
                "reverse"       反显则为 "1"
                "inverse"       反显则为 "1" (= reverse)
                "standout"      突出则为 "1"
                "underline"     下划线则为 "1"
                "undercurl"     下曲线则为 "1"
                "strike"        删除线则为 "1"
                "nocombine"     指定了 nocombine 则为 "1"

                如果出错，返回空串。

                示例 (回显光标所在的语法项目的颜色):
<code class="example">        :echo synIDattr(synIDtrans(synID(line("."), col("."), 1)), "fg")</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">        :echo synID(line("."), col("."), 1)-&gt;synIDtrans()-&gt;synIDattr("fg")</code>

                返回类型:  <a href="eval.html#String">String</a> 


synIDtrans(<code class="special">{synID}</code>)                                     <b class="vimtag"> <a name="synIDtrans()">synIDtrans()</a> </b>
                返回 <code class="special">{synID}</code> 翻译后的语法 ID，类型为数值。这是用于实际高亮字符
                的语法组 ID。本函数会跟随 ":highlight link" 的目标高亮组，必要
                时递归进行，直到找到最终实际使用的组为止。
                (<code class="vim">译者注</code>: 对未链接到其他语法组的语法组，会直接返回它自身)。

                如果出错，返回零。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">        :echo synID(line("."), col("."), 1)-&gt;synIDtrans()-&gt;synIDattr("fg")</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


synconcealed(<code class="special">{lnum}</code>, <code class="special">{col}</code>)                             <b class="vimtag"> <a name="synconcealed()">synconcealed()</a> </b>
                返回指定位置的可隐藏区域信息，类型为目前包含三个值的  <a href="eval.html#List">List</a> :
                1. 首个项目当 <code class="special">{lnum}</code> 和 <code class="special">{col}</code> 指定位置上的字符不在可隐藏区域时
                   为 0，否则为 1。<code class="special">{lnum}</code> 的用法可见  <a href="builtin.html#getline()">getline()</a> 。
                2. 第二个项目为字符串。当首项为 1 时，第二项包含用于替代被隐藏
                   文本的实际显示文本，其显示效果视乎 <a href="options.html#'conceallevel'">'conceallevel'</a> 和
                   <a href="options.html#'listchars'">'listchars'</a> 的当前值而定。
                3. 第三个也即最后一个项目是在指定行内，代表不同语法区域的序列
                   号。如果出现了两个连续的使用相同替代字符的可隐藏区域，此序
                   列号可用于检测指定列是否是一个新的可隐藏区域的开始。例如，
                   假定一行文本是 "123456"，"23" 和 "45" 分别被隐藏，而替代字
                   符都是 "X"，则:
<code class="section">                        调用                    返回值 </code>
                        synconcealed(lnum, 1)   [0, '', 0]
                        synconcealed(lnum, 2)   [1, 'X', 1]
                        synconcealed(lnum, 3)   [1, 'X', 1]
                        synconcealed(lnum, 4)   [1, 'X', 2]
                        synconcealed(lnum, 5)   [1, 'X', 2]
                        synconcealed(lnum, 6)   [0, '', 0]

                <code class="note">注意</code>: 本函数不考虑  <a href="builtin.html#matchadd()">matchadd()</a>  高亮项目，因为语法和匹配高亮是
                两种不同的机制  <a href="pattern.html#syntax-vs-match">syntax-vs-match</a> 。

                返回类型: list<code class="special">&lt;any&gt;</code>


synstack(<code class="special">{lnum}</code>, <code class="special">{col}</code>)                                 <b class="vimtag"> <a name="synstack()">synstack()</a> </b>
                返回当前窗口在 <code class="special">{lnum}</code> 和 <code class="special">{col}</code> 指定位置上的语法项目的堆栈，类
                型为  <a href="eval.html#List">List</a> 。
                <code class="special">{lnum}</code> 的用法可见  <a href="builtin.html#getline()">getline()</a> 。每个列表项是一个语法 ID，类型和
                 <a href="builtin.html#synID()">synID()</a>  返回的相同。
                列表的第一项对应最外层区域，其后每项依次是被前一项包含的语法项
                目。列表最后一项通常就是  <a href="builtin.html#synID()">synID()</a>  返回的语法 ID，除非该位置不
                是完整被高亮 (<code class="vim">译者注</code>: 例如，在行末字符之后的位置上，本函数会返
                回该行结束时所在的语法项目，而  <a href="builtin.html#synID()">synID()</a>  会返回 0)，或者它是一
                个透明项目。
                本函数可用于调试语法文件。
                显示光标所在的语法项目栈的示例:
<code class="example">                        for id in synstack(line("."), col("."))</code>
<code class="example">                           echo synIDattr(id, "name")</code>
<code class="example">                        endfor</code>
                如果 <code class="special">{lnum}</code> 和 <code class="special">{col}</code> 指定的位置非法，返回空列表。不过，行末字
                符之后的位置以及空行的首列都被认为是合法的位置。

                返回类型: list<code class="special">&lt;number&gt;</code> 或 list<code class="special">&lt;any&gt;</code>


system(<code class="special">{expr}</code> [, <code class="special">{input}</code>])                              <b class="vimtag"> <a name="system()">system()</a> </b> <b class="vimtag"> <a name="E677">E677</a> </b>
                返回外壳命令 <code class="special">{expr}</code> 的输出结果，类型为  <a href="eval.html#String">String</a> 。要得到  <a href="eval.html#List">List</a> 
                形式的输出结果，见  <a href="builtin.html#systemlist()">systemlist()</a> 。

                <code class="special">{input}</code> 给出且为  <a href="eval.html#String">String</a>  时，该字符串会写入一个临时文件，并作
                为标准输入传给外壳命令。字符串会照原样写入，因此需要自行确保
                使用合适的换行符。
                <code class="special">{input}</code> 给出且为  <a href="eval.html#List">List</a>  时，同样会写入临时文件，其行为类似于
                 <a href="builtin.html#writefile()">writefile()</a>  使用 <code class="special">{binary}</code> 设为 "b" 的方式 (也就是，列表项之
                间写入换行符，而列表项内部的换行符会被改写为 NUL)。
                <code class="special">{input}</code> 给出且为数值时，该数值为对应已存在的缓冲区的合法缓冲区
                号。该缓冲区的内容会被逐行写入临时文件，每行以 NL 结尾，文本内
                的 NL 会被改写为 NUL 字符。

                不使用管道，也不使用 <a href="options.html#'shelltemp'">'shelltemp'</a> 选项。

                如果加上了前缀  <a href="various.html#:silent">:silent</a> ，终端不设为加工 (cooked) 模式。这里假
                定命令不需要用户输入，从而避免屏幕上显示多余的字符，也就无需使
                用  <a href="various.html#CTRL-L">CTRL-L</a>  来清屏。
<code class="example">                        :silent let f = system('ls *.vim')</code>

                <code class="note">注意</code>:  <a href="builtin.html#shellescape()">shellescape()</a> 、 <a href="builtin.html#expand()">expand()</a>  里使用  <a href="cmdline.html#::S">::S</a>  或
                 <a href="builtin.html#fnamemodify()">fnamemodify()</a>  都可以转义命令参数里的特殊字符。<code class="special">{expr}</code> 里的换
                行可能会使命令失败。<a href="options.html#'shellquote'">'shellquote'</a> 和 <a href="options.html#'shellxquote'">'shellxquote'</a> 里列出的字符
                也可能会引起麻烦。
                本函数不用于执行交互命令。

                返回字符串。示例:
<code class="example">                    :let files = system('ls ' .. shellescape(expand('%:h')))</code>
<code class="example">                    :let files = system('ls ' .. expand('%:h:S'))</code>
<code class="example"></code>
                为了使返回结果更独立于所用的系统，外壳输出的结果会被过滤，在
                Macintosh 上，<code class="special">&lt;CR&gt;</code> 会被替换成 <code class="special">&lt;NL&gt;</code>，而在 DOS 系列的系统上，
                <code class="special">&lt;CR&gt;</code><code class="special">&lt;NL&gt;</code> 会被替换成 <code class="special">&lt;NL&gt;</code>。
                为了避免返回字符串在 NUL 处被截断，输出结果里所有的 NUL 的字符
                都会被替换为 SOH (0x01)。

                执行的命令是根据多个选项以下述方法构造的:
                <a href="options.html#'shell'">'shell'</a> <a href="options.html#'shellcmdflag'">'shellcmdflag'</a> <a href="options.html#'shellxquote'">'shellxquote'</a> <code class="special">{expr}</code> <a href="options.html#'shellredir'">'shellredir'</a>
                        \ <code class="special">{tmp}</code> <a href="options.html#'shellxquote'">'shellxquote'</a>
                (<code class="special">{tmp}</code> 是自动生成的一个临时文件名)。
                (<code class="vim">译者注</code>: 实际为一行，这里分为两行只是为了排版方便)
                Unix 上，<code class="special">{expr}</code> 会用小括号包围，用于支持连接的多条命令。

                以加工 ("cooked") 模式执行命令，这样可用 <code class="keystroke">CTRL-C</code> 来中止命令 (至
                少在 Unix 上是如此)。

                返回的错误代码可以在  <a href="eval.html#v:shell_error">v:shell_error</a>  里找到。
                该函数不能在  <a href="starting.html#restricted-mode">restricted-mode</a>  里运行。

                <code class="note">注意</code> 如果上面提到的选项包含错误值，本函数可能会执行失败。此
                外，使用某些安全代理应用时，也有报告显示本函数可能会失败。
                和 ":!cmd" 不同，不会自动检查文件有否被外部应用改变。要强制该
                检查，可用  <a href="editing.html#:checktime">:checktime</a> 。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        :echo GetCmd()-&gt;system()</code>

                返回类型:  <a href="eval.html#String">String</a> 


systemlist(<code class="special">{expr}</code> [, <code class="special">{input}</code>])                          <b class="vimtag"> <a name="systemlist()">systemlist()</a> </b>
                和  <a href="builtin.html#system()">system()</a>  类同，但返回由行组成的  <a href="eval.html#List">List</a>  (通过将命令的输出
                结果用 NL 字符拆分得到)，输出结果里的 NUL 会被转换为 NL。其行
                为和  <a href="builtin.html#readfile()">readfile()</a>  使用 <code class="special">{binary}</code> 参数设为 "b" 的方式基本相同，
                区别在于如果结果以 NL 结尾，不会产生额外的空列表项。
                <code class="note">注意</code> MS-Windows 上，可能会产生拖尾的 CR 字符。

                如果要看到 "echo hello" 和 "echo -n hello" 的区别，不能用本函
                数，但可用  <a href="builtin.html#system()">system()</a>  和  <a href="builtin.html#split()">split()</a> :
<code class="example">                        echo system('echo hello')-&gt;split('\n', 1)</code>

                如果出错，返回空串。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        :echo GetCmd()-&gt;systemlist()</code>

                返回类型: list<code class="special">&lt;string&gt;</code>


tabpagebuflist([<code class="special">{arg}</code>])                                 <b class="vimtag"> <a name="tabpagebuflist()">tabpagebuflist()</a> </b>
                返回当前标签页里和每个窗口相关联的缓冲区编号组成的  <a href="eval.html#List">List</a> 。
                <code class="special">{arg}</code> 给出所使用的标签页编号。默认使用当前标签页。
                如果 <code class="special">{arg}</code> 非法，返回数值零。
                要得到所有标签页里的所有缓冲区的列表，可用:
<code class="example">                        let buflist = []</code>
<code class="example">                        for i in range(tabpagenr('$'))</code>
<code class="example">                           call extend(buflist, tabpagebuflist(i + 1))</code>
<code class="example">                        endfor</code>
                <code class="note">注意</code> 相同缓冲区号可能重复出现，因为同一缓冲区可能会在多个窗口
                里可见。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetTabpage()-&gt;tabpagebuflist()</code>

                返回类型: list<code class="special">&lt;number&gt;</code>


tabpagenr([<code class="special">{arg}</code>])                                      <b class="vimtag"> <a name="tabpagenr()">tabpagenr()</a> </b>
                返回当前标签页号，类型为数值。首个标签页的编号为 1。

                可选参数 <code class="special">{arg}</code> 支持以下值:
                        $       最后一个标签页的编号 (即标签页总数)。
                        #       最近访问标签页的编号 ( <a href="tabpage.html#g%3CTab%3E">g&lt;Tab&gt;</a>  对应)。如果先前
                                没有访问过其他标签页，返回 0。
                标签页号可用于  <a href="tabpage.html#:tab">:tab</a>  命令。

                如果出错，返回零。

                返回类型:  <a href="eval.html#Number">Number</a> 


tabpagewinnr(<code class="special">{tabarg}</code> [, <code class="special">{arg}</code>])                        <b class="vimtag"> <a name="tabpagewinnr()">tabpagewinnr()</a> </b>
                和 <a href="builtin.html#winnr()">winnr()</a>  类同，但使用标签页 <code class="special">{tabarg}</code>。
                <code class="special">{tabarg}</code> 指定要使用的标签页号。
                <code class="special">{arg}</code> 的用法和  <a href="builtin.html#winnr()">winnr()</a>  相同:
                - 省略时，会返回当前窗口号，也就是转到该标签页时会转到的窗口。
                - 为 "$" 时，会返回窗口的总数。
                - 为 "#" 时，会返回上次访问的窗口编号  <a href="windows.html#CTRL-W_p">CTRL-W_p</a> 。
                有用的例子:
<code class="example">                    tabpagewinnr(1)         " 标签页 1 的当前窗口</code>
<code class="example">                    tabpagewinnr(4, '$')    " 标签页 4 的窗口总数</code>
                如果 <code class="special">{tabarg}</code> 非法，返回零。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetTabpage()-&gt;tabpagewinnr()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


tagfiles()                                              <b class="vimtag"> <a name="tagfiles()">tagfiles()</a> </b>
                返回当前缓冲区用于搜索标签的文件名  <a href="eval.html#List">List</a> 。这是 <a href="options.html#'tags'">'tags'</a> 选项经
                过扩展后的内容。

                返回类型: list<code class="special">&lt;string&gt;</code> 或 list<code class="special">&lt;any&gt;</code>


taglist(<code class="special">{expr}</code> [, <code class="special">{filename}</code>])                          <b class="vimtag"> <a name="taglist()">taglist()</a> </b>
                返回所有匹配正则表达式 <code class="special">{expr}</code> 的标签组成的  <a href="eval.html#List">List</a> 。

                <code class="special">{filename}</code> 给出时，指定当前文件，从而像  <a href="tagsrch.html#:tselect">:tselect</a>  一样，影响
                多个匹配间的优先顺序。见  <a href="tagsrch.html#tag-priority">tag-priority</a> 。<code class="special">{filename}</code> 必须是文件
                的完整路径。

                每个列表项是一个字典，包含至少以下条目:
                        name            标签名。
                        filename        标签定义所在的文件名。可能是相对于当前
                                        目录的相对路径，也可能是完整路径。
                        cmd             可用于在文件内定位标签的 Ex 命令。
                        kind            标签类型。该条目的可能值取决于特定于语
                                        言的类型值。只存在于
                                        Universal/Exuberant ctags 或 hdrtag 生
                                        成的标签文件。
                        static          标签特定于文件 (即静态标签) 则为
                                        TRUE。详见  <a href="tagsrch.html#static-tag">static-tag</a> 。
                可能还有一些额外条目，取决于标签文件的内容: access、
                implementation、inherits 和 signature。关于这些字段的信息参见
                ctags 文档。C 代码里还可能出现字段 "struct"、"class" 和 "enum"，
                它们给出标签所在实体的名字。

                ex 命令 "cmd" 可以是 ex 搜索模式、行号或者行号后跟字节位置 (译
                者注: 最后一种是 emacs 标签格式)。

                如果没有任何标签匹配，返回空列表。

                要得到标签的准确匹配，<code class="special">{expr}</code> 里必须使用锚点 '^' 和 '$'。这也可
                以加快函数的工作速度。
                关于标签搜索的正则表达式模式，详见  <a href="tagsrch.html#tag-regexp">tag-regexp</a> 。

                关于 Vim 如何定位标签文件，可见 <a href="options.html#'tags'">'tags'</a> 。
                关于不同的 ctags 工具生成的标签文件格式，可见
                 <a href="tagsrch.html#tags-file-format">tags-file-format</a> 。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetTagpattern()-&gt;taglist()</code>

                返回类型: list&lt;dict<code class="special">&lt;any&gt;</code>&gt; 或 list<code class="special">&lt;any&gt;</code>


tan(<code class="special">{expr}</code>)                                             <b class="vimtag"> <a name="tan()">tan()</a> </b>
                返回以弧度测量的 <code class="special">{expr}</code> 的正切值，类型为  <a href="eval.html#Float">Float</a> ，范围在
                [-inf, inf] 之间。
                <code class="special">{expr}</code> 的计算结果必须是  <a href="eval.html#Float">Float</a>  或  <a href="eval.html#Number">Number</a> 。否则返回 0.0。
                示例:
<code class="example">                        :echo tan(10)</code>
                        0.648361
<code class="example">                        :echo tan(-4.01)</code>
                        -1.181502

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        Compute()-&gt;tan()</code>

                返回类型:  <a href="eval.html#Float">Float</a> 


tanh(<code class="special">{expr}</code>)                                            <b class="vimtag"> <a name="tanh()">tanh()</a> </b>
                返回 <code class="special">{expr}</code> 的双曲正切值，类型为  <a href="eval.html#Float">Float</a> ，范围在 [-1, 1] 之
                间。
                <code class="special">{expr}</code> 的计算结果必须是  <a href="eval.html#Float">Float</a>  或  <a href="eval.html#Number">Number</a> 。否则返回 0.0。
                示例:
<code class="example">                        :echo tanh(0.5)</code>
                        0.462117
<code class="example">                        :echo tanh(-1)</code>
                        -0.761594

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        Compute()-&gt;tanh()</code>

                返回类型:  <a href="eval.html#Float">Float</a> 

                                                        <b class="vimtag"> <a name="tempname()">tempname()</a> </b>
tempname()                                              <b class="vimtag"> <a name="temp-file-name">temp-file-name</a> </b>
                返回一个当前不存在的文件名，类型是字符串。可用作临时文件。本函
                数会确保至少连续 26 次调用不会生成重复的文件名。例如:
<code class="example">                        :let tmpfile = tempname()</code>
<code class="example">                        :exe "redir &gt; " .. tmpfile</code>
                在 Unix 上，该文件会放置在用户个人的目录下  <a href="change.html#tempfile">tempfile</a> ，Vim 退
                出时会自动递归删除该文件，而在其他系统上，退出时不会自动清除临
                时文件。
                在 MS-Windows 上，<a href="options.html#'shellslash'">'shellslash'</a> 选项置位，或者 <a href="options.html#'shellcmdflag'">'shellcmdflag'</a>
                以 '-' 开头且 <a href="options.html#'shell'">'shell'</a> 不包含 powershell 或 pwsh 时，使用正斜
                杠。

                返回类型:  <a href="eval.html#String">String</a> 


term_ 函数文档在这里:  <code class="badlink">terminal-functions-details</code> 


terminalprops()                                         <b class="vimtag"> <a name="terminalprops()">terminalprops()</a> </b>
                返回由 Vim 根据  <a href="term.html#t_RV">t_RV</a>  请求的响应内容检测到的终端属性组成的
                 <a href="eval.html#Dictionary">Dictionary</a> 。原始响应可见  <a href="eval.html#v:termresponse">v:termresponse</a> 。如果
                 <a href="eval.html#v:termresponse">v:termresponse</a>  为空，多数条目的值会是 'u'，代表未知。
                   cursor_style         是否可发送  <a href="term.html#t_RS">t_RS</a>  **
                   cursor_blink_mode    是否可发送  <a href="term.html#t_RC">t_RC</a>  **
                   underline_rgb         <a href="term.html#t_8u">t_8u</a>  是否可用 **
                   mouse                支持的鼠标类型
                   kitty                是否检测到 Kitty 终端

                ** 值 'u' 代表未知，'y' 代表是，'n' 代表否

                如果没有  <a href="various.html#+termresponse">+termresponse</a>  特性，返回空字典。

                "cursor_style" 是 'y' 时，会发送  <a href="term.html#t_RS">t_RS</a>  以请求当前光标风格。
                "cursor_blink_mode" 是 'y' 时，会发送  <a href="term.html#t_RC">t_RC</a>  以请求当前光标闪
                烁状态。
                 <a href="term.html#t_u7">t_u7</a>  非空时，也会置位 "cursor_style" 和
                "cursor_blink_mode"，此时 Vim 会在启动时检测  <a href="term.html#t_RS">t_RS</a>  和  <a href="term.html#t_RC">t_RC</a> 
                是否可发送。

                "underline_rgb" 不是 'y' 时， <a href="term.html#t_8u">t_8u</a>  会设为空。这会避免把它发送
                到 xterm 以清除色彩。

                "mouse" 对应的值 'u' 代表鼠标类型未知。

                另见:
                - <a href="options.html#'ambiwidth'">'ambiwidth'</a> - 由  <a href="term.html#t_u7">t_u7</a>  自动检测。
                -  <a href="eval.html#v:termstyleresp">v:termstyleresp</a>  和  <a href="eval.html#v:termblinkresp">v:termblinkresp</a> ，对应  <a href="term.html#t_RS">t_RS</a>  和
                   <a href="term.html#t_RC">t_RC</a>  的响应。

                返回类型: dict<code class="special">&lt;string&gt;</code>


test_ 函数文档在这里:  <a href="testing.html#test-functions-details">test-functions-details</a> 


timer_info([<code class="special">{id}</code>])                                      <b class="vimtag"> <a name="timer_info()">timer_info()</a> </b>
                返回定时器信息组成的列表。
                <code class="special">{id}</code> 给出时，只返回指定定时器的信息。如果不存在编号为 <code class="special">{id}</code> 的
                定时器，会返回空列表。
                <code class="special">{id}</code> 省略时，返回所有定时器的信息。

                每个定时器的信息以  <a href="eval.html#Dictionary">Dictionary</a>  形式保存，包含以下条目:
                    "id"            定时器 ID
                    "time"          定时器开始时间
                    "remaining"     定时器剩余时间
                    "repeat"        定时器剩余激活的次数；-1 代表永远
                    "callback"      回调
                    "paused"        定时器暂停则为 1，否则为 0

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetTimer()-&gt;timer_info()</code>

                返回类型: list&lt;dict<code class="special">&lt;any&gt;</code>&gt; 或 list<code class="special">&lt;any&gt;</code>

                <code class="notvi">{仅当编译时加入  <a href="various.html#+timers">+timers</a>  特性才有效}</code>


timer_pause(<code class="special">{timer}</code>, <code class="special">{paused}</code>)                          <b class="vimtag"> <a name="timer_pause()">timer_pause()</a> </b>
                暂停或恢复定时器。暂停的定时器在到期时不会调用回调。恢复定时器
                时，只要已经过足够的时间，回调几乎会立即被调用。

                暂停定时器可用于短期跳过它的回调调用。

                <code class="special">{paused}</code> 计算为非零数值或非空字符串时，定时器会被暂停，否则定
                时器会被恢复。见  <a href="eval.html#non-zero-arg">non-zero-arg</a> 。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetTimer()-&gt;timer_pause(1)</code>

                返回类型:  <a href="eval.html#Number">Number</a> 

                <code class="notvi">{仅当编译时加入  <a href="various.html#+timers">+timers</a>  特性才有效}</code>

                                                        <b class="vimtag"> <a name="timer_start()">timer_start()</a> </b>
timer_start(<code class="special">{time}</code>, <code class="special">{callback}</code> [, <code class="special">{options}</code>])            <b class="vimtag"> <a name="timer">timer</a> </b> <b class="vimtag"> <a name="timers">timers</a> </b>
                新建定时器，并返回定时器 ID。

                <code class="special">{time}</code> 是以毫秒为单位的等待时间。表示回调被调用的最短间隔。如
                果系统繁忙或 Vim 当前不在等待输入，实际等待时间可能会更长。可
                用零值，此时回调会在 Vim 回到主循环时立即执行。

                <code class="special">{callback}</code> 是要调用的函数。可以是函数名或  <a href="eval.html#Funcref">Funcref</a> 。调用时会
                传递一个参数，定时器 ID。只有在 Vim 等待输入时，回调才会调用。
                如果回调想显示信息，可以查看  <a href="popup.html#popup_notification()">popup_notification()</a> ，可用于避
                免信息显示干扰用户正在进行的操作。

                <code class="special">{options}</code> 是字典。支持的条目有:
                   "repeat"     重复调用回调的次数。-1 代表永远。此项省略时，
                                默认调用回调一次。
                                如果回调函数连续三次出错，取消重复。这可以避免
                                错误信息累积过多，从而导致 Vim 无法正常使用。

                如果出错，返回 -1。

                示例:
<code class="example">                        func MyHandler(timer)</code>
<code class="example">                          echo 'Handler called'</code>
<code class="example">                        endfunc</code>
<code class="example">                        let timer = timer_start(500, 'MyHandler',</code>
<code class="example">                                \ {'repeat': 3})</code>
                会使用 500 毫秒间隔，调用 MyHandle() 三次。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetMsec()-&gt;timer_start(callback)</code>
<code class="example"></code>
                该命令在沙盘里不可用  <a href="eval.html#sandbox">sandbox</a> 。

                返回类型:  <a href="eval.html#Number">Number</a> 

                <code class="notvi">{仅当编译时加入  <a href="various.html#+timers">+timers</a>  特性才有效}</code>


timer_stop(<code class="special">{timer}</code>)                                     <b class="vimtag"> <a name="timer_stop()">timer_stop()</a> </b>
                停止定时器。不再调用定时器回调。
                <code class="special">{timer}</code> 是  <a href="builtin.html#timer_start()">timer_start()</a>  返回的定时器 ID，所以必须是数值。如
                果 <code class="special">{timer}</code> 不存在，不报错。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetTimer()-&gt;timer_stop()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 

                <code class="notvi">{仅当编译时加入  <a href="various.html#+timers">+timers</a>  特性才有效}</code>


timer_stopall()                                         <b class="vimtag"> <a name="timer_stopall()">timer_stopall()</a> </b>
                停止所有定时器。不再调用所有的定时器回调。用于定时器工作不正常
                的场合。如果没有任何定时器，不报错。

                返回类型:  <a href="eval.html#Number">Number</a> 

                <code class="notvi">{仅当编译时加入  <a href="various.html#+timers">+timers</a>  特性才有效}</code>


tolower(<code class="special">{expr}</code>)                                         <b class="vimtag"> <a name="tolower()">tolower()</a> </b>
                将 <code class="special">{expr}</code> 字符串中的所有的大写字符变为小写，返回转换后的新字符
                串 (和在字符串上应用  <a href="change.html#gu">gu</a>  的效果相同)。如果出错，返回空串。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetText()-&gt;tolower()</code>

                返回类型:  <a href="eval.html#String">String</a> 


toupper(<code class="special">{expr}</code>)                                         <b class="vimtag"> <a name="toupper()">toupper()</a> </b>
                将 <code class="special">{expr}</code> 字符串中的所有的小写字符变为大写，返回转换后的新字符
                串 (和在字符串上应用了  <a href="change.html#gU">gU</a>  的效果相同)。如果出错，返回空串。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetText()-&gt;toupper()</code>

                返回类型:  <a href="eval.html#String">String</a> 


tr(<code class="special">{src}</code>, <code class="special">{fromstr}</code>, <code class="special">{tostr}</code>)                           <b class="vimtag"> <a name="tr()">tr()</a> </b>
                将 <code class="special">{src}</code> 字符串中的所有 <code class="special">{fromstr}</code> 字符替换为 <code class="special">{tostr}</code> 字符串里
                相同位置的字符，返回转换后的新字符串。也就是说，<code class="special">{fromstr}</code> 的第
                一个字符被翻译成 <code class="special">{tostr}</code> 的第一个字符，依此类推。和 unix 命令
                "tr" 的效果完全相同。
                本函数能正确处理多字节字符。

                如果出错，返回空串。

                例如:
<code class="example">                        echo tr("hello there", "ht", "HT")</code>
                返回 "Hello THere"
<code class="example">                        echo tr("&lt;blob&gt;", "&lt;&gt;", "{}")</code>
                返回 "<code class="special">{blob}</code>"

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetText()-&gt;tr(from, to)</code>

                返回类型:  <a href="eval.html#String">String</a> 


trim(<code class="special">{text}</code> [, <code class="special">{mask}</code> [, <code class="special">{dir}</code>]])                       <b class="vimtag"> <a name="trim()">trim()</a> </b>
                从 <code class="special">{text}</code> 的开头和/或结尾删除 <code class="special">{mask}</code> 里出现的字符，返回新字符
                串。

                <code class="special">{mask}</code> 省略或为空串时，默认是从 0x00 到 0x20 为止的所有字符
                (包括 Tab、空格、NL 和 CR)，加上不换行空格 0xa0。

                可选的 <code class="special">{dir}</code> 参数指定删除字符的位置:
                        0       同时从 <code class="special">{text}</code> 的开头和结尾删除
                        1       只从 <code class="special">{text}</code> 的开头删除
                        2       只从 <code class="special">{text}</code> 的结尾删除
                省略时，同时从两端删除。

                本函数能正确处理多字节字符。
                如果出错，返回空串。

                示例:
<code class="example">                        echo trim("   some text ")</code>
                返回 "some text"
<code class="example">                        echo trim("  \r\t\t\r RESERVE \t\n\x0B\xA0") .. "_TAIL"</code>
                返回 "RESERVE_TAIL"
<code class="example">                        echo trim("rm&lt;Xrm&lt;&gt;X&gt;rrm", "rm&lt;&gt;")</code>
                返回 "Xrm<code class="special">&lt;&gt;</code>X" (不删除中间部分的字符)
<code class="example">                        echo trim("  vim  ", " ", 2)</code>
                返回 "  vim"

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetText()-&gt;trim()</code>

                返回类型:  <a href="eval.html#String">String</a> 


trunc(<code class="special">{expr}</code>)                                           <b class="vimtag"> <a name="trunc()">trunc()</a> </b>
                返回绝对值小于等于 <code class="special">{expr}</code> 的最大整数 (向零取整)，类型为
                 <a href="eval.html#Float">Float</a> 。
                <code class="special">{expr}</code> 的计算结果必须是  <a href="eval.html#Float">Float</a>  或  <a href="eval.html#Number">Number</a> 。否则返回 0.0。
                示例:
<code class="example">                        echo trunc(1.456)</code>
                        1.0 
<code class="example">                        echo trunc(-5.456)</code>
                        -5.0 
<code class="example">                        echo trunc(4.0)</code>
                        4.0

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        Compute()-&gt;trunc()</code>

                返回类型:  <a href="eval.html#Float">Float</a> 


tuple2list(<code class="special">{tuple}</code>)                                     <b class="vimtag"> <a name="tuple2list()">tuple2list()</a> </b>
                根据元组项目的浅备份创建一个新的列表。示例:
<code class="example">                        tuple2list((1, 2, 3))           返回 [1, 2, 3]</code>
                 <a href="builtin.html#list2tuple()">list2tuple()</a>  是其逆操作。

                本函数不会递归地将 <code class="special">{tuple}</code> 内部的元组项目转换为列表。<code class="note">注意</code> 列表
                和元组共享相同的项目引用，如果任何一个项目被修改，元组和列表都
                会受到影响。

                如果出错，返回空列表。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetTuple()-&gt;tuple2list()</code>

                返回类型: list&lt;<code class="special">{type}</code>&gt; (取决于给出的  <a href="eval.html#Tuple">Tuple</a> )


type(<code class="special">{expr}</code>)                                            <b class="vimtag"> <a name="type()">type()</a> </b>
                返回 <code class="special">{expr}</code> 的类型值，类型为数值。
                不要直接使用数值，建议使用包含此值的等价 v:t_ 变量:
                        数值:       0   <a href="eval.html#v:t_number">v:t_number</a> 
                        字符串:     1   <a href="eval.html#v:t_string">v:t_string</a> 
                        函数引用:   2   <a href="eval.html#v:t_func">v:t_func</a> 
                        列表:       3   <a href="eval.html#v:t_list">v:t_list</a> 
                        字典:       4   <a href="eval.html#v:t_dict">v:t_dict</a> 
                        浮点数:     5   <a href="eval.html#v:t_float">v:t_float</a> 
                        布尔值:     6   <a href="eval.html#v:t_bool">v:t_bool</a>  (v:false 和 v:true)
                        None:       7   <a href="eval.html#v:t_none">v:t_none</a>  (v:null 和 v:none)
                        作业:       8   <a href="eval.html#v:t_job">v:t_job</a> 
                        通道:       9   <a href="eval.html#v:t_channel">v:t_channel</a> 
                        blob:      10   <a href="eval.html#v:t_blob">v:t_blob</a> 
                        类:        12   <a href="eval.html#v:t_class">v:t_class</a> 
                        对象:      13   <a href="eval.html#v:t_object">v:t_object</a> 
                        类型别名:  14   <a href="eval.html#v:t_typealias">v:t_typealias</a> 
                        枚举:      15   <a href="eval.html#v:t_enum">v:t_enum</a> 
                        枚举值:    16   <a href="eval.html#v:t_enumvalue">v:t_enumvalue</a> 
                        元组:      17   <a href="eval.html#v:t_tuple">v:t_tuple</a> 
                为了后向兼容，本函数可以这样用:
<code class="example">                        :if type(myvar) == type(0)</code>
<code class="example">                        :if type(myvar) == type("")</code>
<code class="example">                        :if type(myvar) == type(function("tr"))</code>
<code class="example">                        :if type(myvar) == type([])</code>
<code class="example">                        :if type(myvar) == type({})</code>
<code class="example">                        :if type(myvar) == type(0.0)</code>
<code class="example">                        :if type(myvar) == type(v:false)</code>
<code class="example">                        :if type(myvar) == type(v:none)</code>
                要检查 v:t_ 诸变量是否存在，可用:
<code class="example">                        :if exists('v:t_number')</code>
<code class="example"></code>
                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        mylist-&gt;type()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


typename(<code class="special">{expr}</code>)                                        <b class="vimtag"> <a name="typename()">typename()</a> </b>
                返回 <code class="special">{expr}</code> 的类型字符串描述。
                例如:
<code class="example">                        echo typename([1, 2, 3])</code>
<code class="section">                        list<code class="special">&lt;number&gt;</code> </code>

                返回类型:  <a href="eval.html#String">String</a> 


undofile(<code class="special">{name}</code>)                                        <b class="vimtag"> <a name="undofile()">undofile()</a> </b>
                返回用于名为 <code class="special">{name}</code> 的文件的撤销文件名。本函数会使用 <a href="options.html#'undodir'">'undodir'</a>
                选项，并在其中寻找实际存在的目录。它不检查该撤销文件是否实际存
                在。
                <code class="special">{name}</code> 总会被扩展为完整路径，因为内部就是这么使用的。
                如果 <code class="special">{name}</code> 为空，返回空串，因为无名缓冲区不写入任何撤销文件。
                可用于  <a href="undo.html#:wundo">:wundo</a>  和  <a href="undo.html#:rundo">:rundo</a> 。
                如果编译时没有  <a href="various.html#+persistent_undo">+persistent_undo</a>  选项，总是返回空串。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetFilename()-&gt;undofile()</code>

                返回类型:  <a href="eval.html#String">String</a> 


undotree([<code class="special">{buf}</code>])                                       <b class="vimtag"> <a name="undotree()">undotree()</a> </b>
                返回 <code class="special">{buf}</code> 指定的缓冲区 (省略时默认为当前缓冲区) 的撤销树的当
                前状态。
                返回值是包含以下条目的  <a href="eval.html#Dictionary">Dictionary</a> :
                  "seq_last"    已使用过的最大撤销序列号。
                  "seq_cur"     撤销树中当前位置的序列号。如果有改变被撤销过，
                                此值会和 "seq_last" 不同。
                  "time_cur"    用于  <a href="undo.html#:earlier">:earlier</a>  和相关命令的最近时间。
                                用  <a href="builtin.html#strftime()">strftime()</a>  可以转换成可读的格式。
                  "save_last"   最后的文件写入编号。如果没有写入过则为零。
                  "save_cur"    撤销树当前位置的编号。
                  "synced"      最后的撤销块已经同步则为非零值。这在等待用户输
                                入时会发生。见  <a href="undo.html#undo-blocks">undo-blocks</a> 。
                  "entries"     关于撤销块的信息的字典的列表。

                "entries" 列表的首值是最老的撤销项目，依次类推。每个列表项是包
                含以下条目的字典:
                  "seq"         撤销序列号。和  <a href="undo.html#:undolist">:undolist</a>  显示的相同。
                  "time"        改变发生的时间。用  <a href="builtin.html#strftime()">strftime()</a>  可以转换成可读
                                的格式。
                  "newhead"     只出现在最后加入的项目里。为 1 时标识这里是最
                                后的改变位置，也是未来改变要加入的开始位置。
                  "curhead"     只出现在最后撤销的项目里。为 1 时标识这里是撤
                                销树当前的位置，该块将用于 redo 命令。如果在最
                                后改变之后没有撤销动作，此条目不出现。
                  "save"        只出现在文件写入前最后的块里。表示写入计数。首
                                次写入的编号为 1，最后一次是上面提及的
                                "save_last"。
                  "alt"         替代项。这又是一个撤销块的列表。每个项目又可以
                                有自己的 "alt" 项目。

                返回类型: dict<code class="special">&lt;any&gt;</code>


uniq(<code class="special">{list}</code> [, <code class="special">{func}</code> [, <code class="special">{dict}</code>]])                      <b class="vimtag"> <a name="uniq()">uniq()</a> </b> <b class="vimtag"> <a name="E882">E882</a> </b>
                删除 <code class="special">{list}</code> 里相邻重复项的第二个及之后的重复项，直接原位修改列
                表。返回 <code class="special">{list}</code>。如果不想更动原始输入，先创建备份:
<code class="example">                        :let newlist = uniq(copy(mylist))</code>
                缺省的比较函数使用每个项目的字符串表示形式。<code class="special">{func}</code> 和 <code class="special">{dict}</code>
                的用法可见  <a href="builtin.html#sort()">sort()</a> 。
                要删除当前缓冲区里的重复文本，可见  <a href="change.html#:uniq">:uniq</a> 。

                如果 <code class="special">{list}</code> 不是  <a href="eval.html#List">List</a> ，返回零。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        mylist-&gt;uniq()</code>

                返回类型: list&lt;<code class="special">{type}</code>&gt;


uri_decode(<code class="special">{string}</code>)                                    <b class="vimtag"> <a name="uri_decode()">uri_decode()</a> </b>
                返回 <code class="special">{string}</code> 的 URI 解码形式。逆转百分号编码 (把 "%3D" 这样的
                序列还原为其对应的字符)。

                解码遵循如下标准的百分符解码规则:
                    - "%HH" 会被替换为十六进制 HH 对应的字符。
                    - 解码的字节序列构成合法的 UTF-8 时，会合并为对应的字符。
                      否则，保留原先的字节序列不变。
                    - 非法或不完整的编码 (如 "%GZ"、"%3" 或拖尾的 "%") 保持不
                      变。

                <code class="special">{string}</code> 为空时返回空串。

                示例:
<code class="example">                        :echo uri_decode('c%3A%5Cmy%5Cdir%5Cfoo%20bar')</code>
<code class="example">                        c:\my\dir\foo bar</code>
<code class="example">                        :echo uri_decode('%CE%B1%CE%B2%CE%B3')</code>
<code class="example">                        αβγ</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        mystr-&gt;uri_decode()</code>

                Return type:  <a href="eval.html#String">String</a> 

uri_encode(<code class="special">{string}</code>)                                    <b class="vimtag"> <a name="uri_encode()">uri_encode()</a> </b>
                返回 <code class="special">{string}</code> 的 URI 编码形式。URI 编码会把不安全或保留的字符
                替换为百分号编码的序列。

                编码遵循如下标准的百分符编码规则:
                    - 字母数字字符 [0-9A-Za-z] 保持不变。
                    - "-"、"_"、"." 和 "~" 也保持不变。
                    - 所有其它字符会被替换为 "%HH"，其中的 HH 是两位十六进制大
                      写数字。
                    - 已有的百分符编码序列不作修改。

                <code class="special">{string}</code> 为空时返回空串。

                示例:
<code class="example">                        :echo uri_encode('c:\my\dir\foo bar')</code>
<code class="example">                        c%3A%5Cmy%5Cdir%5Cfoo%20bar</code>
<code class="example">                        :echo uri_encode('key=value&amp;name=αβγ')</code>
<code class="example">                        key%3Dvalue%26name%3D%CE%B1%CE%B2%CE%B3</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        mystr-&gt;uri_encode()</code>

                返回类型:  <a href="eval.html#String">String</a> 


utf16idx(<code class="special">{string}</code>, <code class="special">{idx}</code> [, <code class="special">{countcc}</code> [, <code class="special">{charidx}</code>]])   <b class="vimtag"> <a name="utf16idx()">utf16idx()</a> </b>
                和  <a href="builtin.html#charidx()">charidx()</a>  类同，但返回 <code class="special">{string}</code> 里第 <code class="special">{idx}</code> 个字节对应的
                (转换为 UTF-16 后) UTF-16 代码单元索引。

                <code class="special">{charidx}</code> 给出且为 TRUE 时，<code class="special">{idx}</code> 用于给出字符串 <code class="special">{string}</code> 里的
                字符索引而非字节索引。
                出现在 UTF-8 序列中间位置的 <code class="special">{idx}</code> 会向下取整，到该序列的开始位
                置。

                如果参数非法或者 <code class="special">{string}</code> 不足 <code class="special">{idx}</code> 个字节，返回 -1。如果正好
                有 <code class="special">{idx}</code> 个字节，返回整个字符串以 UTF-16 代码单元计的长度。

                想了解如何从 UTF-16 索引得到字节索引，可参见  <a href="builtin.html#byteidx()">byteidx()</a>  和
                 <a href="builtin.html#byteidxcomp()">byteidxcomp()</a> ，而要从 UTF-16 索引得到字符索引，可见
                 <code class="badlink">charidx</code> 。
                详见  <a href="eval.html#string-offset-encoding">string-offset-encoding</a> 。
                示例:
<code class="example">                        echo utf16idx('a😊😊', 3)       返回 2</code>
<code class="example">                        echo utf16idx('a😊😊', 7)       返回 4</code>
<code class="example">                        echo utf16idx('a😊😊', 1, 0, 1) 返回 2</code>
<code class="example">                        echo utf16idx('a😊😊', 2, 0, 1) 返回 4</code>
<code class="example">                        echo utf16idx('aą́c', 6)             返回 2</code>
<code class="example">                        echo utf16idx('aą́c', 6, 1)  返回 4</code>
<code class="example">                        echo utf16idx('a😊😊', 9)       返回 -1</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetName()-&gt;utf16idx(idx)</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


values(<code class="special">{dict}</code>)                                          <b class="vimtag"> <a name="values()">values()</a> </b>
                返回 <code class="special">{dict}</code> 中所有值组成的  <a href="eval.html#List">List</a> 。 <a href="eval.html#List">List</a>  项目的顺序不固定。另
                见  <a href="builtin.html#items()">items()</a>  和  <a href="builtin.html#keys()">keys()</a> 。
                如果 <code class="special">{dict}</code> 不是  <a href="eval.html#Dict">Dict</a> ，返回零。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        mydict-&gt;values()</code>

                返回类型: list<code class="special">&lt;any&gt;</code>


virtcol(<code class="special">{expr}</code> [, <code class="special">{list}</code> [, <code class="special">{winid}</code>]])                  <b class="vimtag"> <a name="virtcol()">virtcol()</a> </b>
                返回 <code class="special">{expr}</code> 给定的文件位置里的屏幕列号，类型为数值。也就是说，
                此行从开头到该位置所在字符的结束位置为止占据的屏幕单元总数。如
                果该位置是一个 <code class="special">&lt;Tab&gt;</code>，返回值会是 <code class="special">&lt;Tab&gt;</code> 占据的最后一个屏幕列。
                例如在第 1 列 <code class="special">&lt;Tab&gt;</code> 当 <a href="options.html#'ts'">'ts'</a> 设为 8 时，会返回 8。这里忽略
                 <code class="badlink">conceal()</code>  的影响。
                关于字节位置，见  <a href="builtin.html#col()">col()</a> 。

                <code class="special">{expr}</code> 的用法见  <a href="builtin.html#getpos()">getpos()</a>  和  <a href="builtin.html#col()">col()</a> 。
                <code class="special">{expr}</code> 为 "$" 时，代表光标行的行尾，所以返回值会是光标行的总屏
                幕单元数加一。

                使用 <a href="options.html#'virtualedit'">'virtualedit'</a> 时，<code class="special">{expr}</code> 可以用 [lnum, col, off] 形式，其
                中 "off" 为从对应字符的起始位置算起以屏幕列为单位的偏移量。例
                如，在制表符的内部或在一行文本末尾之后的某个位置。"off" 省略
                时，默认为零。当前模式下使用了虚拟编辑时，也可能返回行尾之后的
                位置。另见 <a href="options.html#'virtualedit'">'virtualedit'</a>

                <code class="special">{list}</code> 给出且非零时，返回由字符占据的首末两个屏幕位置组成的列
                表。

                可选的 <code class="special">{winid}</code> 参数给出时，从该窗口取值而不是默认的当前窗口。

                <code class="note">注意</code> <code class="special">{expr}</code> 中如果使用位置标记，只能使用当前文件里的位置标记。

                示例:
<code class="example">                        " 假定文本为 "foo^Lbar"，光标在 "^L" 上:</code>
<code class="example"></code>
<code class="example">                        virtcol(".")    " 返回 5</code>
<code class="example">                        virtcol(".", 1) " 返回 [4, 5]</code>
<code class="example">                        virtcol("$")    " 返回 9</code>
<code class="example"></code>
<code class="example">                        " 假定文本为 "    there"，'t 位置标记在 'h' 上:</code>
<code class="example"></code>
<code class="example">                        virtcol("'t")   " 返回 6</code>

                首屏幕列的列号为 1。如果出错，返回 0 或 [0,0]。

                下面给出一个更高级的示例，用于计算并显示所有行中的最大行长:
<code class="example">                    echo max(map(range(1, line('$')), "virtcol([v:val, '$'])"))</code>
<code class="example"></code>
                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetPos()-&gt;virtcol()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


virtcol2col(<code class="special">{winid}</code>, <code class="special">{lnum}</code>, <code class="special">{col}</code>)                     <b class="vimtag"> <a name="virtcol2col()">virtcol2col()</a> </b>
                返回窗口 <code class="special">{winid}</code> 在缓冲区行 <code class="special">{lnum}</code> 和虚拟列 <code class="special">{col}</code> 所在的字符的
                字节索引，类型为数值。

                缓冲区行 <code class="special">{lnum}</code> 为空行时，返回 0。

                <code class="special">{col}</code> 超过 <code class="special">{lnum}</code> 行上最后的虚拟列时，返回最后虚拟列所在字符的
                字节索引。

                对于多字节字符，返回该字符首个字节的字节索引。

                <code class="special">{winid}</code> 参数可以是窗口号或  <a href="windows.html#window-ID">window-ID</a> 。如果为零，使用当前窗
                口。

                如果窗口 <code class="special">{winid}</code> 不存在，或者缓冲区行 <code class="special">{lnum}</code> 或虚拟列 <code class="special">{col}</code> 非
                法，返回 -1。

                另见  <a href="builtin.html#screenpos()">screenpos()</a> 、 <a href="builtin.html#virtcol()">virtcol()</a>  和  <a href="builtin.html#col()">col()</a> 。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetWinid()-&gt;virtcol2col(lnum, col)</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


visualmode([<code class="special">{expr}</code>])                                    <b class="vimtag"> <a name="visualmode()">visualmode()</a> </b>
                返回当前缓冲区最近使用的可视模式的描述字符串。尚未进入过可视模
                式时，会返回空串，一旦使用过可视模式，会返回 "v"、"V" 或
                "&lt;<code class="keystroke">CTRL-V</code>&gt;" (单个 <code class="keystroke">CTRL-V</code> 字符)，分别代表面向字符、面向行、和面
                向列块的可视模式。
                例如:
<code class="example">                        :exe "normal " .. visualmode()</code>
                会进入和上次相同的可视模式。在脚本里也可用本函数来根据最近的可
                视模式采取不同的行动。
                如果当前正处于可视模式中，用  <a href="builtin.html#mode()">mode()</a>  才能得到当前的可视模式
                (例如可在  <a href="map.html#:vmap">:vmap</a>  中应用)。
                <code class="special">{expr}</code> 给出并且计算结果是非零数值或非空字符串时，将会清除先前
                记录的最近可视模式，并返回被清除的旧值。见  <a href="eval.html#non-zero-arg">non-zero-arg</a> 。

                返回类型:  <a href="eval.html#String">String</a> 


wildmenumode()                                          <b class="vimtag"> <a name="wildmenumode()">wildmenumode()</a> </b>
                wildmenu 打开则返回  <a href="eval.html#TRUE">TRUE</a> ，否则返回  <a href="eval.html#FALSE">FALSE</a> 。参见 <a href="options.html#'wildmenu'">'wildmenu'</a>
                和 <a href="options.html#'wildmode'">'wildmode'</a>。
                可用在映射中，以便优雅地处理 <a href="options.html#'wildcharm'">'wildcharm'</a> 选项 (只对
                 <a href="map.html#mapmode-c">mapmode-c</a>  映射有意义)。

                例如要使 <code class="special">&lt;C-J&gt;</code> 在 wildmode 下的行为像 <code class="special">&lt;Down&gt;</code> 一样，可用:
<code class="example">    :cnoremap &lt;expr&gt; &lt;C-j&gt; wildmenumode() ? "\&lt;Down&gt;\&lt;Tab&gt;" : "\&lt;c-j&gt;"</code>

                (<code class="note">备注</code>: 需要 <a href="options.html#'wildcharm'">'wildcharm'</a> 先设置为合适的值，此例中设为 <code class="special">&lt;Tab&gt;</code>)。

                返回类型:  <a href="eval.html#Number">Number</a> 


wildtrigger()                                           <b class="vimtag"> <a name="wildtrigger()">wildtrigger()</a> </b>
                启动命令行上的通配扩展，采用 <a href="options.html#'wildmode'">'wildmode'</a> 和 <a href="options.html#'wildoptions'">'wildoptions'</a> 设置
                所定义的行为。

                本函数也会在搜索模式下打开补全，如  <a href="pattern.html#%2F">/</a> 、 <a href="pattern.html#?">?</a> 、 <a href="change.html#:s">:s</a> 、 <a href="repeat.html#:g">:g</a> 、 <a href="repeat.html#:v">:v</a> 
                和  <a href="quickfix.html#:vimgrep">:vimgrep</a> 。

                和手动按下 <a href="options.html#'wildchar'">'wildchar'</a> 不同的是，本函数在找不到匹配时不会响铃，
                一般操作会更安静。这样更适合自动触发补全。

                <code class="note">注意</code>: 在浏览命令行历史后，wildtrigger() 的首个调用会是空操作；
                需要第二次调用才会启动扩展。这是为了支持命令行自动补全中的历史
                浏览。

                见  <a href="cmdline.html#cmdline-completion">cmdline-completion</a> 。

                返回值永远是 0。

                返回类型: <a href="eval.html#Number">Number</a> 


win_execute(<code class="special">{id}</code>, <code class="special">{command}</code> [, <code class="special">{silent}</code>])               <b class="vimtag"> <a name="win_execute()">win_execute()</a> </b>
                和  <a href="builtin.html#execute()">execute()</a>  类同，但在指定 <code class="special">{id}</code> 的窗口上下文中执行。该窗口
                会被临时设为当前窗口，但不触发窗口改变的自动命令，也不会改变目
                录。执行 <code class="special">{command}</code> 时，自动命令会触发，这里可能有意想不到的副
                作用。如有必要，可用  <a href="autocmd.html#:noautocmd">:noautocmd</a> 。
                示例:
<code class="example">                        call win_execute(winid, 'set syntax=python')</code>
                这和  <a href="builtin.html#setwinvar()">setwinvar()</a>  类似，但后者不触发自动命令也不实际显示语法
                高亮。
                                                        <b class="vimtag"> <a name="E994">E994</a> </b>
                在弹出窗口中，有些命令无法使用。
                如果指定窗口 <code class="special">{id}</code> 不存在，不报错且返回空串。

                也可用作  <a href="eval.html#method">method</a> ，基是作为第二个参数传递的:
<code class="example">                        GetCommand()-&gt;win_execute(winid)</code>

                返回类型:  <a href="eval.html#String">String</a> 


win_findbuf(<code class="special">{bufnr}</code>)                                    <b class="vimtag"> <a name="win_findbuf()">win_findbuf()</a> </b>
                返回显示缓冲区 <code class="special">{bufnr}</code> 的所有窗口的  <a href="windows.html#window-ID">window-ID</a>  组成的
                 <a href="eval.html#List">List</a> 。
                如果没有这样的窗口，返回空列表。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetBufnr()-&gt;win_findbuf()</code>

                返回类型: list<code class="special">&lt;number&gt;</code> 或 list<code class="special">&lt;any&gt;</code>


win_getid([<code class="special">{win}</code> [, <code class="special">{tab}</code>]])                            <b class="vimtag"> <a name="win_getid()">win_getid()</a> </b>
                返回指定窗口的  <a href="windows.html#window-ID">window-ID</a> 。
                <code class="special">{win}</code> 省略时，默认使用当前窗口。否则使用指定编号的窗口。顶部窗
                口的窗口号为 1。
                <code class="special">{tab}</code> 省略时，默认使用当前标签页，否则使用指定编号为 <code class="special">{tab}</code> 的
                标签页。首个标签页的标签页号为一。
                如果指定窗口不存在，返回零。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetWinnr()-&gt;win_getid()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


win_gettype([<code class="special">{nr}</code>])                                     <b class="vimtag"> <a name="win_gettype()">win_gettype()</a> </b>
                返回窗口类型:
                        "autocmd"       自动命令窗口。用于执行自动命令的临时窗
                                        口。
                        "command"       命令行窗口  <a href="cmdline.html#cmdwin">cmdwin</a> 
                        (空)            正常窗口
                        "loclist"        <a href="quickfix.html#location-list-window">location-list-window</a> 
                        "popup"         弹出窗口  <a href="popup.html#popup">popup</a> 
                        "preview"       预览窗口  <a href="windows.html#preview-window">preview-window</a> 
                        "quickfix"       <a href="quickfix.html#quickfix-window">quickfix-window</a> 
                        "unknown"       窗口 <code class="special">{nr}</code> 不存在

                <code class="special">{nr}</code> 省略时，默认返回当前窗口的类型。
                <code class="special">{nr}</code> 给出时，给出窗口号或  <a href="windows.html#window-ID">window-ID</a> ，返回指定窗口的类型。

                另见 <a href="options.html#'buftype'">'buftype'</a> 选项。例如，在弹出窗口中运行终端时，<a href="options.html#'buftype'">'buftype'</a>
                会是 "terminal"，而 win_gettype() 会返回 "popup"。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetWinid()-&gt;win_gettype()</code>

                返回类型:  <a href="eval.html#String">String</a> 


win_gotoid(<code class="special">{expr}</code>)                                      <b class="vimtag"> <a name="win_gotoid()">win_gotoid()</a> </b>
                切换到 ID 为 <code class="special">{expr}</code> 的窗口。可能会同时切换当前标签页。
                成功时返回 TRUE，如果指定窗口不存在，返回 FALSE。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetWinid()-&gt;win_gotoid()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


win_id2tabwin(<code class="special">{expr}</code>)                                   <b class="vimtag"> <a name="win_id2tabwin()">win_id2tabwin()</a> </b>
                对 ID 为 <code class="special">{expr}</code> 的窗口，返回其标签页号和窗口号组成的列表:
                [tabnr, winnr]。
                如果指定窗口不存在，返回 [0, 0]。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetWinid()-&gt;win_id2tabwin()</code>

                返回类型: list<code class="special">&lt;number&gt;</code>


win_id2win(<code class="special">{expr}</code>)                                      <b class="vimtag"> <a name="win_id2win()">win_id2win()</a> </b>
                返回 ID 为 <code class="special">{expr}</code> 的窗口的窗口号。
                如果在当前标签页下找不到指定窗口，返回零。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetWinid()-&gt;win_id2win()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


win_move_separator(<code class="special">{nr}</code>, <code class="special">{offset}</code>)                      <b class="vimtag"> <a name="win_move_separator()">win_move_separator()</a> </b>
                将窗口 <code class="special">{nr}</code> 的垂直分割线 (也就是其右边界) 移动 <code class="special">{offset}</code> 列，就
                像用鼠标拖动的效果一样。<code class="special">{nr}</code> 可为窗口号或  <a href="windows.html#window-ID">window-ID</a> 。正值的
                <code class="special">{offset}</code> 会向右移动，而负值的 <code class="special">{offset}</code> 会向左移动。移动窗口的
                垂直分割线会改变指定窗口的宽度，也会改变和它紧贴着同一分割线的
                相邻窗口的宽度。实际移动幅度可能小于指定的位移 (如因为维持
                <a href="options.html#'winminwidth'">'winminwidth'</a> 的需要)。
                指定窗口存在时，返回 TRUE，否则返回 FALSE。
                指定最右侧的窗口或者全宽窗口会失败，因为此时其右侧没有分割线。
                只适用于当前标签页。 <b class="vimtag"> <a name="E1308">E1308</a> </b>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetWinnr()-&gt;win_move_separator(offset)</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


win_move_statusline(<code class="special">{nr}</code>, <code class="special">{offset}</code>)                     <b class="vimtag"> <a name="win_move_statusline()">win_move_statusline()</a> </b>
                将窗口 <code class="special">{nr}</code> 的状态行 (也就是其下边界) 移动 <code class="special">{offset}</code> 行，就像用
                鼠标拖动的效果一样。<code class="special">{nr}</code> 可为窗口号或  <a href="windows.html#window-ID">window-ID</a> 。正值的
                <code class="special">{offset}</code> 会向下移动，而负值的 <code class="special">{offset}</code> 会向上移动。移动窗口的
                状态行会改变指定窗口的高度，也会改变紧贴着该状态行的相邻窗口的
                高度。实际移动幅度可能小于指定的位移 (如因为维持
                <a href="options.html#'winminheight'">'winminheight'</a> 的需要)。
                指定窗口存在时，返回 TRUE，否则返回 FALSE。
                只适用于当前标签页。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetWinnr()-&gt;win_move_statusline(offset)</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


win_screenpos(<code class="special">{nr}</code>)                                     <b class="vimtag"> <a name="win_screenpos()">win_screenpos()</a> </b>
                返回窗口 <code class="special">{nr}</code> 的屏幕位置: [row, col]，类型为两个数值的列表。首
                个窗口的位置一般总是 [1, 1]，除非有 (<code class="vim">译者注</code>: 非 GUI) 标签页
                行，此时会是 [2, 1]。
                <code class="special">{nr}</code> 可为窗口号或  <a href="windows.html#window-ID">window-ID</a> 。零代表当前窗口。
                如果指定窗口不存在，返回 [0, 0]。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetWinid()-&gt;win_screenpos()</code>

                返回类型: list<code class="special">&lt;number&gt;</code>


win_splitmove(<code class="special">{nr}</code>, <code class="special">{target}</code> [, <code class="special">{options}</code>])             <b class="vimtag"> <a name="win_splitmove()">win_splitmove()</a> </b>
                暂时切换到窗口 <code class="special">{target}</code>，然后移动窗口 <code class="special">{nr}</code>，使其成为紧贴
                <code class="special">{target}</code> 的新分割窗口。
                和  <a href="windows.html#:split">:split</a>  之类的命令不同，不会创建新窗口 (移动后窗口 <code class="special">{nr}</code> 保
                持其窗口 ID 不变)。

                <code class="special">{nr}</code> 和 <code class="special">{target}</code> 都可以是窗口号或  <a href="windows.html#window-ID">window-ID</a> 。而且两者都必须
                位于当前标签页中。

                成功时返回零，而失败时返回非零。

                <code class="special">{options}</code> 是包含以下可选条目的  <a href="eval.html#Dictionary">Dictionary</a> :
                  "vertical"    为 TRUE 时垂直分割，类似于  <a href="windows.html#:vsplit">:vsplit</a> 。
                  "rightbelow"  为 TRUE 时，新分割窗口会出现在下方或右方 (垂直
                                分割)。为 FALSE 时，新分割窗口会出现在上方或左
                                方 (垂直分割)。省略时，默认使用 <a href="options.html#'splitbelow'">'splitbelow'</a>
                                和 <a href="options.html#'splitright'">'splitright'</a> 的值。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetWinid()-&gt;win_splitmove(target)</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


winbufnr(<code class="special">{nr}</code>)                                          <b class="vimtag"> <a name="winbufnr()">winbufnr()</a> </b>
                返回窗口 <code class="special">{nr}</code> 中当前显示的缓冲区的编号。<code class="special">{nr}</code> 可以是窗口号或
                 <a href="windows.html#window-ID">window-ID</a> 。
                <code class="special">{nr}</code> 为零时，返回当前窗口显示的缓冲区号。
                如果窗口 <code class="special">{nr}</code> 不存在，返回 -1。
                示例:
<code class="example">  :echo "当前窗口的文件是 " .. bufname(winbufnr(0))</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        FindWindow()-&gt;winbufnr()-&gt;bufname()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


wincol()                                                <b class="vimtag"> <a name="wincol()">wincol()</a> </b>
                返回窗口光标所在的虚拟列，类型为数值。也就是从窗口左侧算起的屏
                幕列数。最左列为第一列。

                返回类型:  <a href="eval.html#Number">Number</a> 


windowsversion()                                        <b class="vimtag"> <a name="windowsversion()">windowsversion()</a> </b>
                MS-Windows 上，返回当前 OS 版本，类型为字符串。例如，Windows
                10 会返回 "10.0"，Windows 8 会返回 "6.2"，而 Windows XP 会返回
                "5.1"。非 MS-Windows 系统上，返回空串。

                返回类型:  <a href="eval.html#String">String</a> 


winheight(<code class="special">{nr}</code>)                                         <b class="vimtag"> <a name="winheight()">winheight()</a> </b>
                返回窗口 <code class="special">{nr}</code> 的高度，类型为数值。
                <code class="special">{nr}</code> 可为窗口号或  <a href="windows.html#window-ID">window-ID</a> 。
                <code class="special">{nr}</code> 为零时，返回当前窗口的高度。如果窗口 <code class="special">{nr}</code> 不存在，返回
                -1。
                已存在的窗口的高度最小为零。
                窗口工具条行的高度不计算在内。
                示例:
<code class="example">  :echo "当前窗口有 " .. winheight(0) .. " 行。"</code>
<code class="example"></code>
                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetWinid()-&gt;winheight()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


winlayout([<code class="special">{tabnr}</code>])                                    <b class="vimtag"> <a name="winlayout()">winlayout()</a> </b>
                返回标签页中的窗口布局，类型为嵌套列表。

                <code class="special">{tabnr}</code> 省略时，使用当前标签页，否则使用编号为 <code class="special">{tabnr}</code> 的标签
                页。如果标签页 <code class="special">{tabnr}</code> 不存在，返回空列表。

                对于叶窗口，返回:
                        [<code class="badlink">'leaf'</code>, <code class="special">{winid}</code>]
                对于水平分割形成的窗口列，返回:
                        [<code class="badlink">'col'</code>, [<code class="special">{窗口的嵌套列表}</code>]]
                对于垂直分割形成的窗口行，返回:
                        [<code class="badlink">'row'</code>, [<code class="special">{窗口的嵌套列表}</code>]]

                示例:
<code class="example">                        " 当前标签页中只有一个窗口</code>
<code class="example">                        :echo winlayout()</code>
<code class="example">                        ['leaf', 1000]</code>
<code class="example">                        " 当前标签页中有两个水平分割的窗口</code>
<code class="example">                        :echo winlayout()</code>
<code class="example">                        ['col', [['leaf', 1000], ['leaf', 1001]]]</code>
<code class="example">                        " 第二个标签页中有三个水平分割的窗口，中间窗口有两个垂</code>
<code class="example">                        " 直分割的窗口</code>
<code class="example">                        :echo winlayout(2)</code>
<code class="example">                        ['col', [['leaf', 1002], ['row', [['leaf', 1003],</code>
<code class="example">                                            ['leaf', 1001]]], ['leaf', 1000]]]</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetTabnr()-&gt;winlayout()</code>

                返回类型: list<code class="special">&lt;any&gt;</code>


winline()                                               <b class="vimtag"> <a name="winline()">winline()</a> </b>
                返回当前窗口中，光标所在的屏幕行的行号，类型为数值。亦就是从窗
                口顶部算起的屏幕行数。首行为第 1 行。
                光标移动时，会先更新文件视图，这可能会导致滚动。

                返回类型:  <a href="eval.html#Number">Number</a> 


winnr([<code class="special">{arg}</code>])                                          <b class="vimtag"> <a name="winnr()">winnr()</a> </b>
                返回当前窗口的编号，类型为数值。顶部窗口的编号为 1。
                弹出窗口返回零。

                可选参数 <code class="special">{arg}</code> 支持以下值:
                        $       返回最后一个窗口的编号 (即窗口的总数)。
                        #       返回上次访问窗口的编号 (即  <a href="windows.html#CTRL-W_p">CTRL-W_p</a>  转至的窗
                                口)。如果没有上次窗口，或者它位于另一个标签页
                                中，返回 0。有些情况下，它可能指回当前窗口 (如
                                计算 <a href="options.html#'statusline'">'statusline'</a> 表达式时)。
                        <code class="special">{N}</code>j    返回当前窗口之下第 N 个窗口的编号 (即
                                 <a href="windows.html#CTRL-W_j">CTRL-W_j</a>  转至的窗口)。
                        <code class="special">{N}</code>k    返回当前窗口之上第 N 个窗口的编号 (即
                                 <a href="windows.html#CTRL-W_k">CTRL-W_k</a>  转至的窗口)。
                        <code class="special">{N}</code>h    返回当前窗口之左第 N 个窗口的编号 (即
                                 <a href="windows.html#CTRL-W_h">CTRL-W_h</a>  转至的窗口)。
                        <code class="special">{N}</code>l    返回当前窗口之右第 N 个窗口的编号 (即
                                 <a href="windows.html#CTRL-W_l">CTRL-W_l</a>  转至的窗口)。
                窗口编号可用于  <a href="windows.html#CTRL-W_w">CTRL-W_w</a>  和 ":wincmd w"  <a href="windows.html#:wincmd">:wincmd</a> 。
                如果 <code class="special">{arg}</code> 非法，报错并返回零。
                另见  <a href="builtin.html#tabpagewinnr()">tabpagewinnr()</a>  和  <a href="builtin.html#win_getid()">win_getid()</a> 。
                示例:
<code class="example">                        let window_count = winnr('$')</code>
<code class="example">                        let prev_window = winnr('#')</code>
<code class="example">                        let wnum = winnr('3k')</code>
<code class="example"></code>
                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetWinval()-&gt;winnr()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


winrestcmd()                                            <b class="vimtag"> <a name="winrestcmd()">winrestcmd()</a> </b>
                返回  <a href="windows.html#:resize">:resize</a>  命令序列，该序列应该能够用来恢复当前窗口的大
                小。只有在没有窗口被打开或关闭过，而且当前窗口和标签页都没有发
                生改变的时候，才能正确工作。
                示例:
<code class="example">                        :let cmd = winrestcmd()</code>
<code class="example">                        :call MessWithWindowSizes()</code>
<code class="example">                        :exe cmd</code>

                返回类型:  <a href="eval.html#String">String</a> 


winrestview(<code class="special">{dict}</code>)                                     <b class="vimtag"> <a name="winrestview()">winrestview()</a> </b>
                使用  <a href="builtin.html#winsaveview()">winsaveview()</a>  返回的  <a href="eval.html#Dictionary">Dictionary</a>  来恢复当前窗口的视
                图。
                <code class="note">注意</code> <code class="special">{dict}</code> 不需要包含  <a href="builtin.html#winsaveview()">winsaveview()</a>  返回的所有的值。某值省
                略时，就不会恢复相应的设置。所以可以用:
<code class="example">                    :call winrestview({'curswant': 4})</code>

                来只设置光标的 curswant 值 (光标垂直移动时会移动到的列) 到第
                5 列 (是的，第 5 列)，而其它设置保持不变。这可用于手动设置光标
                位置。

                如果你手动修改了  <a href="builtin.html#winsaveview()">winsaveview()</a>  的返回值，结果无法预测。如果
                窗口大小发生了改变，结果也不会完全可靠。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetView()-&gt;winrestview()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


winsaveview()                                           <b class="vimtag"> <a name="winsaveview()">winsaveview()</a> </b>
                返回用来恢复当前窗口视图的信息构成的  <a href="eval.html#Dictionary">Dictionary</a> 。
                 <a href="builtin.html#winrestview()">winrestview()</a>  可用此信息字典来恢复视图。
                可用于在映射中保存视图，在缓冲区内跳转后，再恢复回原来视图。
                这里不保存折叠的信息。可用 <a href="options.html#'foldenable'">'foldenable'</a> 选项来暂时关闭折叠功
                能，这样移动时就不会打开折叠。这可能有副作用。
                返回值包括:
                        lnum            光标行号
                        col             光标列号 (<code class="note">注意</code>: 首列为零，和
                                         <a href="builtin.html#getcurpos()">getcurpos()</a>  不同)
                        coladd          <a href="options.html#'virtualedit'">'virtualedit'</a> 使用的光标列偏移量
                        curswant        垂直移动时会移动到的列 (<code class="note">注意</code>: 首列为零，
                                        和  <a href="builtin.html#getcurpos()">getcurpos()</a>  不同)。 <a href="motion.html#$">$</a>  命令后，设
                                        为等于  <a href="eval.html#v:maxcol">v:maxcol</a>  的极大值。
                        topline         窗口中显示的首行行号
                        topfill         填充行行数，只用于比较模式
                        leftcol         窗口中显示的首列列号；只在 <a href="options.html#'wrap'">'wrap'</a> 关闭
                                        时使用
                        skipcol         窗口顶行开头跳过的列数，只在 <a href="options.html#'wrap'">'wrap'</a> 开
                                        启时使用
                <code class="note">注意</code> 这里不保存任何选项值。

                返回类型: dict<code class="special">&lt;number&gt;</code>


winwidth(<code class="special">{nr}</code>)                                          <b class="vimtag"> <a name="winwidth()">winwidth()</a> </b>
                返回窗口 <code class="special">{nr}</code> 的宽度，类型为数值。
                <code class="special">{nr}</code> 可为窗口号或  <a href="windows.html#window-ID">window-ID</a> 。
                <code class="special">{nr}</code> 为零时，返回当前窗口的宽度。如果窗口 <code class="special">{nr}</code> 不存在，返回
                -1。
                已存在的窗口的宽度最小为零。
                示例:
<code class="example">  :echo "当前窗口有 " .. winwidth(0) .. " 列。"</code>
<code class="example">  :if winwidth(0) &lt;= 50</code>
<code class="example">  :  50 wincmd |</code>
<code class="example">  :endif</code>
                要得到终端或屏幕大小，可见 <a href="options.html#'columns'">'columns'</a> 选项。

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetWinid()-&gt;winwidth()</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


wordcount()                                             <b class="vimtag"> <a name="wordcount()">wordcount()</a> </b>
                返回当前缓冲区中，字节/字符/单词的统计值构成的字典。和
                 <a href="editing.html#g_CTRL-G">g_CTRL-G</a>  包含的信息相同。
                返回值包括:
                        bytes           缓冲区的字节数
                        chars           缓冲区的字符数
                        words           缓冲区的单词数
                        cursor_bytes    光标前的字节数 (不在可视模式下)
                        cursor_chars    光标前的字符数 (不在可视模式下)
                        cursor_words    光标前的单词数 (不在可视模式下)
                        visual_bytes    可视选择的字节数 (只在可视模式下)
                        visual_chars    可视选择的字符数 (只在可视模式下)
                        visual_words    可视选择的单词数 (只在可视模式下)

                返回类型: dict<code class="special">&lt;number&gt;</code>


writefile(<code class="special">{object}</code>, <code class="special">{fname}</code> [, <code class="special">{flags}</code>])                <b class="vimtag"> <a name="writefile()">writefile()</a> </b>
                <code class="special">{object}</code> 为  <a href="eval.html#List">List</a>  时，将列表写入文件 <code class="special">{fname}</code>。列表项之间以 NL
                分隔。每个列表项必须是字符串或数值。
                列表项内的所有 NL 字符会转换为 NUL 字符。
                要插入 CR 字符，需要在把 <code class="special">{list}</code> 传递给 writefile() 之前先准备
                好。

                <code class="special">{object}</code> 为  <a href="eval.html#Blob">Blob</a>  时，其中字节序列会按原样写入文件 <code class="special">{fname}</code>，
                即使不指定二进制模式也是如此。

                <code class="special">{flags}</code> 必须为字符串。识别以下字符 (可组合使用):

                'b'  使用二进制 (Binary) 模式: 最后一个列表项之后不会自动写入
                     NL。如果需要结尾保留换行，可在列表最后追加一个空串项目。

                'a'  使用追加 (Append) 模式，写入的行会附加到现有文件之后:
<code class="example">                        :call writefile(["foo"], "event.log", "a")</code>
<code class="example">                        :call writefile(["bar"], "event.log", "a")</code>

                'D'  当前函数结束时会自动删除 (Delete) 文件。相当于:
<code class="example">                        :defer delete({fname})</code>
                     如果不在函数体内使用，会失败。另见  <a href="userfunc.html#:defer">:defer</a> 。

                's'  写入文件后总会调用 fsync()。尽力确保文件被真正写入磁盘。
                     这会多花些时间，但避免了系统崩溃导致丢失文件内容的风险。

                'S'  写入文件后总不调用 fsync()，忽略 <a href="options.html#'fsync'">'fsync'</a> 的选项设置。

                     如果 <code class="special">{flags}</code> 既不包含 "S" 也不包含 "s"，仅当置位 <a href="options.html#'fsync'">'fsync'</a>
                     选项时才会调用 fsync()。

                只要系统允许，会覆盖已有的文件。

                如果写入失败，返回 -1，否则返回 0。如果文件创建或写入失败，会
                报错。

                另见  <a href="builtin.html#readfile()">readfile()</a> 。
                要按字节复制文件:
<code class="example">                        :let fl = readfile("foo", "b")</code>
<code class="example">                        :call writefile(fl, "foocopy", "b")</code>
<code class="example"></code>
                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        GetText()-&gt;writefile("thefile")</code>

                返回类型:  <a href="eval.html#Number">Number</a> 


xor(<code class="special">{expr}</code>, <code class="special">{expr}</code>)                                     <b class="vimtag"> <a name="xor()">xor()</a> </b>
                对两个参数进行按位异或。参数会被转换为数值。参数如果是列表、字
                典或浮点数会报错。
                另见  <a href="builtin.html#and()">and()</a>  和  <a href="builtin.html#or()">or()</a> 。
                示例:
<code class="example">                        :let bits = xor(bits, 0x80)</code>

                也可用作  <a href="eval.html#method">method</a> :
<code class="example">                        :let bits = bits-&gt;xor(0x80)</code>

                返回类型:  <a href="eval.html#Number">Number</a> 

</section><hr class="doubleline" /><section class=inner>
<h4>3. 特性列表                                             <b class="vimtag"> <a name="feature-list">feature-list</a> </b></h4>
有三种类型的特性:
1.  只有在 Vim 编译时加入才会支持的特性  <a href="various.html#+feature-list">+feature-list</a> 。例如:
<code class="example">        :if has("cindent")</code>
                                                        <b class="vimtag"> <a name="gui_running">gui_running</a> </b>
2.  只有特定条件满足才会支持的特性。例如:
<code class="example">        :if has("gui_running")</code>
                                                        <b class="vimtag"> <a name="has-patch">has-patch</a> </b>
3.  只有在特定版本之后或在特定版本上并包含了特定补丁才会支持的特性。
    "patch-7.4.248" 特性意味着只有 Vim 7.5 或之后版本，或 7.4 版本并包含补丁
    248 时才会支持。例如:
<code class="example">        :if has("patch-7.4.248")</code>
    <code class="note">注意</code> 包含补丁 249 但没有包含补丁 248 是有可能的，只适用于 cherrypick 补丁
    的情况。
    <code class="note">注意</code> 此形式只可用于 7.4.237 补丁或之后版本，在这之前，你需要检查补丁号和
    v:version。例如 (要确定是 version 6.2.148 或更新的版本):
<code class="example">        :if v:version &gt; 602 || v:version == 602 &amp;&amp; has("patch148")</code>
<code class="example"></code>
揭示: 要知道 Vim 是否支持文件名中的反斜杠 (MS-Windows)，
可用: `if exists('+shellslash')`


acl                     编译时加入了  <a href="editing.html#ACL">ACL</a>  支持。
all_builtin_terms       编译时打开了所有的内建终端。(总为真)
amiga                   Vim 的 Amiga 版本。
arabic                  编译时加入了阿拉伯语的支持  <a href="arabic.html#Arabic">Arabic</a> 。
arp                     编译时加入了 ARP 的支持 (Amiga)。
autocmd                 编译时加入了自动命令的支持。(总为真)
autochdir               编译时加入了 <a href="options.html#'autochdir'">'autochdir'</a> 的支持。
autoservername          自动打开  <a href="remote.html#clientserver">clientserver</a> 。
balloon_eval            编译时加入了  <a href="debugger.html#balloon-eval">balloon-eval</a>  的支持。
balloon_multiline       GUI 支持多行气泡。
beos                    Vim 的 BeOS 版本。
browse                  编译时加入了  <a href="editing.html#:browse">:browse</a>  的支持，使  <a href="builtin.html#browse()">browse()</a>  可用。
browsefilter            编译时加入了  <a href="editing.html#browsefilter">browsefilter</a>  的支持。
bsd                     编译时使用了 BSD 家族的 OS (除了 macOS)。
builtin_terms           编译时打开了若干内建终端的支持。(总为真)
byte_offset             编译时加入了 <a href="options.html#'statusline'">'statusline'</a> 中对 'o' 的支持。
channel                 编译时加入了  <a href="channel.html#channel">channel</a>  和  <a href="channel.html#job">job</a>  的支持
cindent                 编译时加入了 <a href="options.html#'cindent'">'cindent'</a> 的支持。(总为真)
clientserver            编译时加入了远程调用的支持  <a href="remote.html#clientserver">clientserver</a> 。
clipboard               编译时加入了 <a href="options.html#'clipboard'">'clipboard'</a> 的支持。
clipboard_working       编译时加入了 <a href="options.html#'clipboard'">'clipboard'</a> 的支持且可用。
cmdline_compl           编译时加入了  <a href="cmdline.html#cmdline-completion">cmdline-completion</a>  的支持。
cmdline_hist            编译时加入了  <a href="cmdline.html#cmdline-history">cmdline-history</a>  的支持。
cmdline_info            编译时加入了 <a href="options.html#'showcmd'">'showcmd'</a> 和 <a href="options.html#'ruler'">'ruler'</a> 的支持。
comments                编译时加入了 <a href="options.html#'comments'">'comments'</a> 的支持。
compatible              编译时确保和 Vi 非常兼容。
conpty                   <a href="terminal.html#ConPTY">ConPTY</a>  可用的平台。
cryptv                  编译时加入了加密的支持  <a href="editing.html#encryption">encryption</a> 。
cscope                  编译时加入了  <a href="if_cscop.html#cscope">cscope</a>  的支持。
cursorbind              编译时加入了 <a href="options.html#'cursorbind'">'cursorbind'</a> 的支持。(总为真)
debug                   编译时定义了 "DEBUG"。
dialog_con              编译时加入了控制台对话框的支持。
dialog_con_gui          编译时加入了控制台和 GUI 对话框的支持。
dialog_gui              编译时加入了 GUI 对话框的支持。
diff                    编译时加入了  <a href="diff.html#vimdiff">vimdiff</a>  和 <a href="options.html#'diff'">'diff'</a> 的支持。
digraphs                编译时加入了二合字母的支持。
directx                 编译时加入了 DirectX 和 <a href="options.html#'renderoptions'">'renderoptions'</a> 的支持。
dnd                     编译时加入了 "~ 寄存器的支持  <a href="change.html#quote_%7E">quote_~</a> 。
drop_file               编译时加入了  <a href="gui.html#drop_file">drop_file</a>  的支持。
ebcdic                  在使用 ebcdic 字符集的机器上编译。
emacs_tags              编译时加入了 Emcac 标签的支持。
eval                    编译时加入了表达式计算的支持。当然总要打开啦！
ex_extra                 <a href="various.html#+ex_extra">+ex_extra</a>  (总为真)
extra_search            编译时加入了 <a href="options.html#'incsearch'">'incsearch'</a> 和 <a href="options.html#'hlsearch'">'hlsearch'</a> 的支持。
farsi                   删除了波斯语的支持  <a href="farsi.html#farsi">farsi</a> 。
file_in_path            编译时加入了  <a href="editing.html#gf">gf</a>  和  <a href="cmdline.html#%3Ccfile%3E">&lt;cfile&gt;</a>  的支持。(总为真)
filterpipe              <a href="options.html#'shelltemp'">'shelltemp'</a> 关闭时，外壳读/写/过滤命令使用管道。
find_in_path            编译时加入了头文件搜索  <a href="various.html#+find_in_path">+find_in_path</a>  的支持。
float                   编译时加入了  <a href="eval.html#Float">Float</a>  的支持。
fname_case              文件名大小写敏感 (在 Amiga 和 Windows 本特性不存在)。
folding                 编译时加入了  <a href="fold.html#folding">folding</a>  的支持。
footer                  编译时加入了 GUI 信息页脚的支持  <a href="debugger.html#gui-footer">gui-footer</a> 。
fork                    编译时决定使用 fork()/exec() 而不是 system()。
gettext                 编译时加入了信息翻译  <a href="mlang.html#multi-lang">multi-lang</a> 。
gui                     编译时加入了 GUI 的支持。
gui_athena              编译时加入了 Athena GUI。(总为假)
gui_gnome               编译时加入了 Gnome 支持 (同时也定义了 gui_gtk)。
gui_gtk                 编译时加入了 GTK+ GUI (任何版本)。
gui_gtk2                编译时加入了 GTK+ 2 GUI (同时也定义了 gui_gtk)。
gui_gtk3                编译时加入了 GTK+ 3 GUI (同时也定义了 gui_gtk)。
gui_haiku               编译时加入了 Haiku GUI。
gui_mac                 编译时加入了 Macintosh GUI。
gui_motif               编译时加入了 Motif GUI。
gui_photon              编译时加入了 Photon GUI。
gui_running             Vim 在 GUI 上运行，或者 GUI 将很快启动。
gui_win32               编译时加入了 MS-Windows Win32 GUI。
gui_win32s              同上，使用了 Win32s 系统 (Windows 3.1)。
haiku                   Vim 的 Haiku 版本。
hangul_input            编译时加入了韩语输入的支持  <a href="hangulin.html#hangul">hangul</a> 。
hpux                    Vim 的 HP-UX 版本。
hurd                    Vim 的 GNU/Hurd 版本。
iconv                   可以使用 iconv() 进行转换。
insert_expand           编译时加入了插入模式中 <code class="keystroke">CTRL-X</code> 扩展命令的支持。(总为真)
job                     编译时加入了  <a href="channel.html#channel">channel</a>  和  <a href="channel.html#job">job</a>  的支持。
ipv6                    编译时加入了  <a href="channel.html#channel">channel</a>  的 IPv6 网络支持。
jumplist                编译时加入了  <a href="motion.html#jumplist">jumplist</a>  的支持。(总为真)
keymap                  编译时加入了 <a href="options.html#'keymap'">'keymap'</a> 的支持。
lambda                  编译时加入了  <a href="eval.html#lambda">lambda</a>  的支持。
langmap                 编译时加入了 <a href="options.html#'langmap'">'langmap'</a> 的支持。
libcall                 编译时加入了  <a href="builtin.html#libcall()">libcall()</a>  的支持。
linebreak               编译时加入了 <a href="options.html#'linebreak'">'linebreak'</a>、<a href="options.html#'breakat'">'breakat'</a>、<a href="options.html#'showbreak'">'showbreak'</a> 和
                        <a href="options.html#'breakindent'">'breakindent'</a> 的支持。
linux                   Vim 的 Linux 版本。
lispindent              编译时加入了 lisp 缩进的支持。(总为真)
listcmds                编译时加入了缓冲区列表  <a href="windows.html#:files">:files</a>  和参数列表  <a href="editing.html#arglist">arglist</a> 
                        的命令。
localmap                编译时加入了局部映射和缩写  <a href="map.html#:map-local">:map-local</a> 。
lua                     编译时加入了 Lua 接口  <a href="if_lua.html#Lua">Lua</a> 。
mac                     Vim 的 Macintosh 版本，参照 osx。
macunix                 同 osxdarwin。
menu                    编译时加入了  <a href="gui.html#:menu">:menu</a>  的支持。
mksession               编译时加入了  <a href="starting.html#:mksession">:mksession</a>  的支持。
modify_fname            编译时加入了文件名的修饰符支持  <a href="cmdline.html#filename-modifiers">filename-modifiers</a> 。
                        (总为真)
mouse                   编译时加入了鼠标的支持。
mouse_dec               编译时加入了 Dec 终端的鼠标支持。
mouse_gpm               编译时加入了 gpm (Linux 控制台鼠标) 的支持。
mouse_gpm_enabled       GPM 鼠标可用。
mouse_netterm           编译时加入了 netterm 的鼠标支持。
mouse_pterm             编译时加入了 qnx 的鼠标支持。
mouse_sysmouse          编译时加入了 sysmouse 支持 (*BSD 控制台鼠标)。
mouse_sgr               编译时加入了 sgr 的鼠标支持。
mouse_urxvt             编译时加入了 urxvt 的鼠标支持。
mouse_xterm             编译时加入了 xterm 的鼠标支持。
mouseshape              编译时加入了 <a href="options.html#'mouseshape'">'mouseshape'</a> 的支持。
multi_byte              编译时加入了 <a href="options.html#'encoding'">'encoding'</a> 的支持。(总为真)
multi_byte_encoding     <a href="options.html#'encoding'">'encoding'</a> 设为某个多字节的编码。
multi_byte_ime          编译时加入了 IME 输入方法的支持。
multi_lang              编译时加入了多语言的支持。
mzscheme                编译时加入了 MzScheme 接口支持  <a href="if_mzsch.html#mzscheme">mzscheme</a> 。
nanotime                编译时加入了次秒级的时间戳检查。
netbeans_enabled        编译时加入了  <a href="netbeans.html#netbeans">netbeans</a>  的支持并且已连接上。
netbeans_intg           编译时加入了  <a href="netbeans.html#netbeans">netbeans</a>  的支持。
num64                   编译时加入了 64 位  <a href="eval.html#Number">Number</a>  的支持。(总为真)
ole                     编译时加入了 Win32 OLE automation 的支持。
osx                     为 macOS 编译，参照 mac。
osxdarwin               为 macOS 编译，带有  <a href="os_mac.html#mac-darwin-feature">mac-darwin-feature</a> 。
packages                编译时加入了  <a href="repeat.html#packages">packages</a>  的支持。
path_extra              编译时加入了 <a href="options.html#'path'">'path'</a> 和 <a href="options.html#'tags'">'tags'</a> 上下搜索的支持。
perl                    编译时加入了 Perl 接口。
persistent_undo         编译时加入了持久化撤销历史的支持。
postscript              编译时加入了 PostScript 文件打印的支持。
printer                 编译时加入了  <a href="print.html#:hardcopy">:hardcopy</a>  的支持。
profile                 编译时加入了  <a href="repeat.html#:profile">:profile</a>  的支持。
prof_nsec               剖视结果以纳秒为单位。
python                  Python 2.x 接口可用。 <a href="if_pyth.html#has-python">has-python</a> 
python_compiled         编译时加入了 Python 2.x 接口。 <a href="if_pyth.html#has-python">has-python</a> 
python_dynamic          Python 2.x 接口已动态载入。 <a href="if_pyth.html#has-python">has-python</a> 
python3                 Python 3.x 接口可用。 <a href="if_pyth.html#has-python">has-python</a> 
python3_compiled        编译时加入了 Python 3.x 接口。 <a href="if_pyth.html#has-python">has-python</a> 
python3_dynamic         Python 3.x 接口已动态载入。 <a href="if_pyth.html#has-python">has-python</a> 
python3_stable          Python 3.x 接口使用 Python 稳定 ABI。 <a href="if_pyth.html#has-python">has-python</a> 
pythonx                 Python 2.x 和/或 3.x 接口可用。 <a href="if_pyth.html#pythonx">pythonx</a> 
qnx                     Vim 的 QNX 版本。
quickfix                编译时加入了  <a href="quickfix.html#quickfix">quickfix</a>  的支持。
reltime                 编译时加入了  <a href="builtin.html#reltime()">reltime()</a>  的支持。
rightleft               编译时加入了 <a href="options.html#'rightleft'">'rightleft'</a> 的支持。
ruby                    编译时加入了 Ruby 接口  <a href="if_ruby.html#ruby">ruby</a> 。
scrollbind              编译时加入了 <a href="options.html#'scrollbind'">'scrollbind'</a> 的支持。(总为真)
showcmd                 编译时加入了 <a href="options.html#'showcmd'">'showcmd'</a> 的支持。
signs                   编译时加入了  <a href="sign.html#:sign">:sign</a>  的支持。
smartindent             编译时加入了 <a href="options.html#'smartindent'">'smartindent'</a> 的支持。(总为真)
socketserver            编译时加入了套接字服务器功能。(只限 Unix)
sodium                  编译时加入了 libsodium 以提供更好的加密支持。
sound                   编译时加入了声音的支持，例如  <a href="builtin.html#sound_playevent()">sound_playevent()</a> 。
spell                   编译时加入了拼写检查的支持  <a href="spell.html#spell">spell</a> 。
startuptime             编译时加入了  <a href="starting.html#--startuptime">--startuptime</a>  支持。
statusline              编译时加入了 <a href="options.html#'statusline'">'statusline'</a> 和 <a href="options.html#'rulerformat'">'rulerformat'</a> 还有
                        <a href="options.html#'titlestring'">'titlestring'</a> 和 <a href="options.html#'iconstring'">'iconstring'</a> 的特殊格式的支持。
sun                     Vim 的 SunOS 版本。
sun_workshop            删除了 Sun  <a href="workshop.html#workshop">workshop</a>  的支持。
syntax                  编译时加入了语法高亮的支持  <a href="syntax.html#syntax">syntax</a> 。
syntax_items            当前缓冲区有激活的语法高亮项目。
system                  编译时决定使用 system() 而不是 fork()/exec()。
tag_binary              编译时加入了标签文件的二分搜索  <a href="tagsrch.html#tag-binary-search">tag-binary-search</a> 。
                        (总为真)
tag_old_static          老的静态标签的支持，已删除，见  <a href="tagsrch.html#tag-old-static">tag-old-static</a> 。
tcl                     编译时加入了 Tcl 接口。
termguicolors           编译时加入了终端的真彩支持。
terminal                编译时加入  <a href="terminal.html#terminal">terminal</a>  的支持。
terminfo                编译时决定使用 terminfo 而不是 termcap。
termresponse            编译时加入了  <a href="term.html#t_RV">t_RV</a>  和  <a href="eval.html#v:termresponse">v:termresponse</a>  的支持。
textobjects             编译时加入了  <a href="motion.html#text-objects">text-objects</a>  的支持。
textprop                编译时加入了  <a href="textprop.html#text-properties">text-properties</a>  的支持。
tgetent                 编译时加入了 tgetent 的支持，可以使用外部 termcap 或
                        terminfo 文件。
timers                  编译时加入了  <a href="builtin.html#timer_start()">timer_start()</a>  支持。
title                   编译时加入了窗口标题的支持。<a href="options.html#'title'">'title'</a>。(总为真)
toolbar                 编译时加入了  <a href="gui.html#gui-toolbar">gui-toolbar</a>  的支持。
ttyin                   输入是终端 (tty)。
ttyout                  输出是终端 (tty)。
unix                    Vim 的 Unix 版本。 <b class="vimtag"> <a name="+unix">+unix</a> </b>
unnamedplus             编译时加入了 <a href="options.html#'clipboard'">'clipboard'</a> 对 "unnamedplus" 的支持。
user_commands           用户定义命令支持。(总为真)
vartabs                 编译时加入了可变制表位的支持 <a href="options.html#'vartabstop'">'vartabstop'</a>。
vcon                    Win32: 有虚拟终端支持，可用 <a href="options.html#'termguicolors'">'termguicolors'</a>。另见
                         <a href="various.html#+vtp">+vtp</a> 。
vertsplit               编译时加入了垂直分割窗口的支持  <a href="windows.html#:vsplit">:vsplit</a> 。(总为真)
vim_starting            如果在启动载入脚本的阶段则为真  <a href="starting.html#startup">startup</a> 。
                        <b class="vimtag"> <a name="vim_starting">vim_starting</a> </b>
vim9script              编译时加入  <a href="vim9.html#Vim9">Vim9</a>  脚本支持。
viminfo                 编译时加入了 viminfo 的支持。
vimscript-1             编译时加入了 Vim 脚本版本 1 的支持。
vimscript-2             编译时加入了 Vim 脚本版本 2 的支持。
vimscript-3             编译时加入了 Vim 脚本版本 3 的支持。
vimscript-4             编译时加入了 Vim 脚本版本 4 的支持。
virtualedit             编译时加入了 <a href="options.html#'virtualedit'">'virtualedit'</a> 选项支持。(总为真)
visual                  编译时加入了可视模式的支持。(总为真)
visualextra             编译时加入了附加的可视模式命令支持。(总为真)
                         <a href="visual.html#blockwise-operators">blockwise-operators</a> 。
vms                     Vim 的 VMS 版本。
vreplace                编译时加入了  <a href="change.html#gR">gR</a>  和  <a href="change.html#gr">gr</a>  命令支持。(总为真)
vtp                     编译时加入了 vcon 支持  <a href="various.html#+vtp">+vtp</a>  (检查 vcon 可知当前控制
                        台是否支持)。
wayland                 编译时加入了 Wayland 协议支持。
wayland_clipboard       编译时加入了 Wayland 剪贴板支持。
wayland_focus_steal     编译时加入了 Wayland 剪贴板焦点盗取支持。
wildignore              编译时加入了 <a href="options.html#'wildignore'">'wildignore'</a> 选项支持。
wildmenu                编译时加入了 <a href="options.html#'wildmenu'">'wildmenu'</a> 选项支持。
win16                   旧版本 MS-Windows 3.1。(总为假)
win32                   Vim 的 Win32 版本 (MS-Windows 95 及其后的 32 或 64 位
                        版本)。
win32unix               Vim 的 Win32 版本，使用 Unix 文件命名 (Cygwin)。
win64                   Vim 的 Win64 版本 (MS-Windows 64 位)。
win95                   支持 MS-Windows 95/98/ME 的 Win32 版本。(总为假)
winaltkeys              编译时加入了 <a href="options.html#'winaltkeys'">'winaltkeys'</a> 选项。
windows                 编译时加入了多窗口的支持。(总为真)
writebackup             编译时决定缺省打开 <a href="options.html#'writebackup'">'writebackup'</a>。
xattr                   编译时加入了扩展属性支持  <a href="editing.html#xattr">xattr</a>  (目前只有 Linux 支
                        持)。
xfontset                编译时加入了 X 字体集的支持  <a href="mbyte.html#xfontset">xfontset</a> 。
xim                     编译时加入了 X 输入法的支持  <a href="mbyte.html#xim">xim</a> 。
xpm                     编译时加入了 pixmap 的支持。
xpm_w32                 编译时加入了 Win32 的 pixmap 的支持。(只为后向兼容而
                        保留，用 "xpm" 代替。)
xsmp                    编译时加入了 X 会话管理的支持。
xsmp_interact           编译时加入了交互的 X 会话管理的支持。
xterm_clipboard         编译时加入了 xterm 剪贴板的支持。
xterm_save              编译时加入了保存和恢复 xterm 屏幕的支持。
x11                     编译时加入了 X11 的支持。


</section><hr class="doubleline" /><section class=inner>
<h4>4. 字符串里的模式匹配                                   <b class="vimtag"> <a name="string-match">string-match</a> </b></h4>
这是若干函数共同的一类行为。 <a href="pattern.html#pattern">pattern</a>  说明的正则表达式通常用于在缓冲区的多行文
本里搜索匹配。当模式用来在字符串里搜索匹配时，绝大多数功能完全相同。唯一的区别
在于，字符串始终被作为单行处理。如果字符串里包含了 "\n" 字符，在模式匹配时，它
并不视为换行，而只是按本义出现的换行符。它可以和模式里的 "\n" 或者 "." 匹配。
示例:

<code class="example">        :let a = "aaaa\nxxxx"</code>
<code class="example">        :echo matchstr(a, "..\n..")</code>
<code class="example">        aa</code>
<code class="example">        xx</code>
<code class="example">        :echo matchstr(a, "a.x")</code>
<code class="example">        a</code>
<code class="example">        x</code>
<code class="example"></code>
不要忘记 "^" 只会在字符串的首字符处匹配，而 "$" 只会在字符串的末字符处匹配。它
们不会在 "\n" 前后的位置处匹配。

 vim:tw=78:ts=8:noet:ft=help:norl:
</section>
</article>
<footer>
Generated by vim2html
</footer>
</body>
</html>
